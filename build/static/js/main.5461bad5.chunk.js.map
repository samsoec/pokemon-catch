{"version":3,"sources":["../src sync /^/.*$","actions/Subscription.js","actions/Service.js","components/Tags/Package.js","actions/Auth.js","components/Service/DocsHeader.js","components/Avatar/index.js","components/Tags/SubscriptionStatus.js","actions/Package.js","actions/User.js","components/PackageCard/index.js","actions/Setting.js","app/routes/Subscription/Form/Subs.js","util/IntlMessages.js","store/index.js","app/routes/Service/Form/Group.js","app/routes/Service/Form/Service.js","reducers/index.js","lngProvider/index.js","app/index.js","containers/Sidebar/index.js","containers/Header/index.js","containers/Setting/index.js","app/routes/Landing/index.js","app/routes/Subscription/index.js","app/routes/APIKey/index.js","app/routes/Usage/index.js","app/routes/ServiceUsage/index.js","app/routes/APIMarket/index.js","app/routes/AccessLog/index.js","app/routes/Package/index.js","app/routes/Service/index.js","components/Error403/index.js","components/Error404/index.js","components/Notification/index.js","actions/Usage.js","actions/Verification.js","actions/AddOn.js","actions/APIKey.js","index.js","components/Service/RouteOptimizer/index.js","components/Service/RouteOptimizer/docs.js","components/Service/RouteOptimizer/overview.js","reportWebVitals.js","reducers/Settings.js","reducers/Auth.js","reducers/Verification.js","reducers/UI.js","reducers/Service.js","reducers/Subscription.js","reducers/Package.js","reducers/User.js","reducers/APIKey.js","reducers/Usage.js","reducers/AddOn.js","reducers/Log.js","containers/App.js","lngProvider/entries/en-US.js","containers/Sidebar/Menu.js","containers/Setting/Profile.js","containers/Setting/Security.js","app/routes/Subscription/List.js","app/routes/Subscription/Detail.js","app/routes/Subscription/Tab/Summary.js","app/routes/Subscription/Tab/AddOn.js","app/routes/Subscription/Form/AddOn.js","app/routes/Subscription/Tab/Timeline.js","app/routes/Subscription/Tab/DailyUsage.js","app/routes/Subscription/Tab/Quota.js","app/routes/Subscription/Chart/UsageChart.js","app/routes/Usage/Usage.js","app/routes/Usage/Tabs/DailyUsage.js","app/routes/Usage/Tabs/Quota.js","app/routes/Usage/Tabs/Chart/UsageChart.js","app/routes/Usage/Service.js","app/routes/ServiceUsage/Usage.js","app/routes/ServiceUsage/Tabs/DailyUsage.js","app/routes/ServiceUsage/Tabs/Quota.js","app/routes/ServiceUsage/Tabs/Chart/UsageChart.js","app/routes/ServiceUsage/Service.js","app/routes/APIMarket/Market.js","app/routes/APIMarket/Detail.js","actions/Log.js","actions/Notification.js","app/routes/Package/Form.js","app/routes/Service/Detail.js","containers/Auth.js","containers/Login.js","containers/Signup.js","containers/Forgot.js","containers/Verification/Email.js","containers/Verification/Password.js","store/selectors.js","MainApp.js","components/Service/RouteOptimizer/RollBanner_Introduction.png","constants/ActionTypes.js","util/Api.js","actions/Common.js"],"names":["map","webpackContext","req","id","webpackContextResolve","__webpack_require__","o","e","Error","code","keys","Object","resolve","module","exports","getSubscription","dispatch","type","UI_START_ACTION","name","GET_ONE_SUBSCRIPTION","axios","get","then","data","UI_STOP_ACTION","payload","catch","response","console","log","message","SHOW_MESSAGE","title","severity","NOTIFICATION_ERROR","getSubscriptionSummary","GET_SUBSCRIPTION_SUMMARY","getSubscriptionAddOns","GET_SUBSCRIPTION_ADD_ONS","getSubscriptionTimeline","GET_SUBSCRIPTION_TIMELINE","getSubscriptionDailyUsage","params","GET_SUBSCRIPTION_DAILY_USAGE","getSubscriptionQuota","GET_SUBSCRIPTION_QUOTA","getSubscriptionByService","service_id","GET_SUBSCRIPTION","addSubscription","ADD_SUBSCRIPTION","post","addTrialSubscription","service","editSubscription","EDIT_SUBSCRIPTION","getAllService","GET_ALL_SERVICE","getMarketService","getOneMarketService","GET_ONE_SERVICE","getSubscribedService","GET_SUBSCRIBED_SERVICE","addService","ADD_SERVICE","editService","EDIT_SERVICE","addServiceGroup","ADD_SERVICE_GROUP","editServiceGroup","EDIT_SERVICE_GROUP","PackageTag","_","lowerCase","color","upperCase","setInitUrl","url","INIT_URL","userSignUp","fullname","username","password","email","SIGN_UP","NOTIFICATION_SUCCESS","userSignIn","LOG_IN","interceptors","use","error","status","localStorage","removeItem","LOG_OUT","Promise","reject","setItem","access_token","USER_TOKEN_SET","userForgot","FORGOT","getUser","USER_DATA","menu","role","permissions","getForgotUser","token","GET_SINGLE_USER","userSignOut","onResetStatus","RESET_STATUS","DocsHeader","level","text","link","useState","hover","setHover","onMouseOver","onMouseOut","style","width","replace","Title","margin","Link","href","UserAvatar","only","initial","split","first","join","toUpperCase","backgroundColor","startCase","SubscriptionStatusTag","getPackageByService","GET_PACKAGE","getPublicPackageByService","getPackage","GET_ONE_PACKAGE","addPackage","ADD_PACKAGE","editPackage","EDIT_PACKAGE","getAllUser","GET_USER","editUser","EDIT_USER","editPassword","PackageCard","_package","package","description","limits","geekblue","orange","blue","purple","getColor","direction","size","className","borderRadius","justify","span","Paragraph","strong","borderTop","is_used","is_unlimited","limit","unit","reset","limitComponent","Text","isNull","delete","toggleCollapsedNav","isNavCollapsed","TOGGLE_COLLAPSED_NAV","toggleSetting","isSettingOpened","TOGGLE_SETTING","layout","labelCol","wrapperCol","tailLayout","offset","SubscriptionForm","props","onFinish","formRef","state","row","current","validateFields","account","date","is_new","confirmPassword","generate_password","start_date","end_date","format","undefined","info","React","createRef","prevProps","prevState","snapshot","show","this","resetFields","moment","setFieldsValue","is_active","onCancel","loading","packages","users","getFormState","visible","footer","onClick","ref","Item","label","rules","required","showSearch","placeholder","optionFilterProp","filterOption","input","option","children","toLowerCase","indexOf","allowClear","Option","value","RangePicker","disabled","disabledDate","subtract","endOf","min","max","marginBottom","shouldUpdate","getFieldValue","extra","optionLabelProp","IsNewAccountInput","valuePropName","checkedChildren","unCheckedChildren","hasFeedback","Password","dependencies","validator","rule","Component","connect","store","subscription","created","edited","user","create","isLoading","edit","onChange","setIsNew","padding","changedValue","injectIntl","withRef","history","createBrowserHistory","routeMiddleware","routerMiddleware","middlewares","thunk","composeEnhancers","window","__REDUX_DEVTOOLS_EXTENSION_COMPOSE__","compose","configureStore","initialState","createStore","reducers","applyMiddleware","Group","onIconSearch","icon","setState","getAvailableIcons","search","require","filter","render","includes","displayName","kebabCase","TextArea","options","onSearch","Service","GATEWAY_URL","BASE_INFO","_info","is_public","services","prefix","Reducers","combineReducers","router","connectRouter","ui","UI","settings","Settings","auth","Auth","verification","Verification","Subscription","addOn","AddOn","Package","User","apiKey","APIKey","usage","Usage","Log","AppLocale","en","enLang","addLocaleData","Content","App","authUser","defaults","headers","common","push","match","isAllowed","spinning","marginLeft","height","overflow","change_email","banner","minHeight","exact","from","to","path","component","Landing","APIMarket","MENU_API_KEY","MENU_USAGE","MENU_SERVICE","MENU_SUBSCRIPTION","MENU_SERVICE_USAGE","ServiceUsage","MENU_ACCESS_LOG","AccessLog","withRouter","Sider","Sidebar","navCollapsed","trigger","collapsible","collapsed","position","left","zIndex","alignItems","src","alt","Header","Meta","Navbar","flex","mode","selectable","float","placement","content","AvatarContent","actions","overlayStyle","cover","avatar","Setting","onSelectMenu","key","selectedMenu","openSetting","bodyStyle","defaultSelectedKeys","onSelect","MenuContent","Detail","List","onAdd","addAPIKey","onCopy","dummy","document","createElement","body","appendChild","select","execCommand","removeChild","copied","column","dataIndex","getAPIKey","onResetDataState","bordered","add","columns","dataSource","rowKey","GET_API_KEY","ADD_API_KEY","Market","SyntaxHighlighter","registerLanguage","json","parseInt","getAccessLog","onSelectChange","onShowDetail","onHideForm","renderJSON","JSON","stringify","parse","logs","filters","onFilter","status_code","api_key","find","ellipsis","tooltip","uniqBy","subs","sorter","a","b","request_timestamp","time","duration","diff","minutes","Math","floor","asMinutes","seconds","asSeconds","record","border","length","defaultOpenKeys","index","SubMenu","i","scroll","x","image","PRESENTED_IMAGE_SIMPLE","gutter","language","material","request_query","request_body","response_body","response_error","GET_ACCESS_LOG","selectedService","onShowForm","xxl","xl","lg","sm","block","selected","kind","selectedGroup","GroupForm","Divider","ServiceForm","service_group","rows","service_group_id","Error403","align","subTitle","Error404","Notification","onClose","onResetNotification","notification","getUsage","start","startOf","end","GET_USAGE","getServiceUsage","user_id","verifyEmail","VERIFY_EMAIL","success","verifyPassword","VERIFY_PASSWORD","addAddOn","ADD_ADD_ON","editAddOn","EDIT_ADD_ON","rootEl","getElementById","reportWebVitals","MainApp","default","ReactDOM","Docs","magenta","wrap","copyable","pagination","property","targetOffset","Overview","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","init","locale","languageId","action","SWITCH_LANGUAGE","INIT_STATE","getItem","initURL","signedUp","loggedIn","forgot","loader","uiReducer","param","item","NOTIFICATION_INFO","HIDE_MESSAGE","RESET_DATA_STATE","subscriptions","summary","addOns","timeline","dailyUsage","quota","GET_ADD_ON","AuthenticatedRoute","rest","pathname","location","currentAppLocale","messages","Forgot","EmailVerification","PasswordVerification","EnLang","enMessages","appLocaleData","SideMenu","theme","selectedKeys","ItemGroup","noPadding","Profile","toggleEditMode","editMode","onSubmit","form","mysights_id","htmlType","Security","old_password","new_password","SubscriptionList","sorted","defaultSortOrder","fromNow","SubscriptionFrom","SubscriptionDetail","onMenuChange","renderContent","borderRight","primary","SubscriptionSummary","isSameOrAfter","activeAddOns","textAlign","cut_off_date","SubscriptionAddOn","capitalize","amount","addOnUnlimited","limitUnlimited","renderAmount","AddOnForm","subscription_id","package_id","isBefore","isAfter","marginTop","dot","fontSize","isSame","itemLayout","header","renderItem","isBetween","SubscriptionDailyUsage","handleDateChange","periods","dateStringValue","dateColumn","dataColumn","mark","last","defaultValue","scrollBehavior","Summary","Row","Cell","_limit","_addOn","sumBy","SubscriptionQuota","renderLimit","suffix","valueStyle","green","red","renderMiniProgress","percent","round","strokeColor","renderProgress","quotas","accordion","defaultActiveKey","chart","Panel","justifyContent","identifier","am4core","am4themes_animated","UsageChart","createDateArray","days","day","toDate","clone","renderChart","dispose","am4charts","dateAxis","xAxes","startLocation","endLocation","yAxes","series","dataFields","valueY","dateX","strokeWidth","tooltipText","fillOpacity","cursor","xAxis","scrollbarX","getFillFromObject","adapter","target","tooltipDataItem","background","fill","colors","getIndex","createDateRangeArray","isSameOrBefore","dateFilter","TabPane","tab","period","DailyUsage","flatten","subs_id","limit_id","usages","keyBy","mapValues","affix","Quota","valueAxis","guide","axisRanges","grid","stroke","strokeOpacity","strokeDasharray","inside","verticalCenter","SubscribedService","onShowUsage","serviceList","sortBy","group","onClearSearch","isEqual","condition","showedService","backgroundImage","backgroundSize","closable","group_name","onGetTrial","confirm","onOk","getUserAccessLog","layoutBlock","PackageForm","_limits","is_allowed","is_paid","is_trial","orientation","names","fields","remove","errors","field","fieldKey","hidden","ErrorList","groups","flatMap","ServiceDetail","method","mask_url","onChangeTab","tabs","defaultTabs","maxWidth","activeKey","centered","onSuccess","Login","values","Signup","onReset","query","URLSearchParams","submit","actionsToCheck","some","menuToCheck","menuItem","NOTIFICATION_WARNING","MENU_MAIN_FEATURE","instance","baseURL","request"],"mappings":"kGAAA,IAAIA,EAAM,CACT,KAAM,IACN,YAAa,IACb,gBAAiB,IACjB,eAAgB,IAChB,mBAAoB,IACpB,sBAAuB,IACvB,kBAAmB,IACnB,qBAAsB,IACtB,iBAAkB,IAClB,oBAAqB,IACrB,mBAAoB,GACpB,sBAAuB,GACvB,gBAAiB,IACjB,mBAAoB,IACpB,yBAA0B,IAC1B,4BAA6B,IAC7B,oBAAqB,IACrB,uBAAwB,IACxB,oBAAqB,IACrB,uBAAwB,IACxB,oBAAqB,IACrB,uBAAwB,IACxB,yBAA0B,IAC1B,4BAA6B,IAC7B,kBAAmB,IACnB,qBAAsB,IACtB,iBAAkB,IAClB,oBAAqB,IACrB,yBAA0B,IAC1B,4BAA6B,IAC7B,QAAS,IACT,SAAU,IACV,cAAe,IACf,kBAAmB,IACnB,iBAAkB,IAClB,sBAAuB,IACvB,uBAAwB,IACxB,4BAA6B,IAC7B,+BAAgC,IAChC,yBAA0B,IAC1B,0BAA2B,IAC3B,gCAAiC,IACjC,mCAAoC,IACpC,gCAAiC,IACjC,mCAAoC,IACpC,+BAAgC,IAChC,kCAAmC,IACnC,yBAA0B,IAC1B,0BAA2B,IAC3B,+BAAgC,IAChC,kCAAmC,IACnC,uBAAwB,IACxB,wBAAyB,IACzB,6BAA8B,IAC9B,gCAAiC,IACjC,uBAAwB,IACxB,wBAAyB,IACzB,4BAA6B,IAC7B,+BAAgC,IAChC,6BAA8B,IAC9B,gCAAiC,IACjC,uBAAwB,IACxB,wBAAyB,IACzB,8BAA+B,IAC/B,iCAAkC,IAClC,kCAAmC,IACnC,qCAAsC,IACtC,oCAAqC,IACrC,uCAAwC,IACxC,6BAA8B,IAC9B,gCAAiC,IACjC,4BAA6B,IAC7B,6BAA8B,IAC9B,oCAAqC,IACrC,uCAAwC,IACxC,kDAAmD,IACnD,qDAAsD,IACtD,4CAA6C,IAC7C,+CAAgD,IAChD,uCAAwC,IACxC,2CAA4C,IAC5C,0CAA2C,IAC3C,kCAAmC,IACnC,qCAAsC,IACtC,kCAAmC,IACnC,qCAAsC,IACtC,4BAA6B,IAC7B,6BAA8B,IAC9B,6CAA8C,IAC9C,gDAAiD,IACjD,mCAAoC,IACpC,sCAAuC,IACvC,uCAAwC,IACxC,0CAA2C,IAC3C,sCAAuC,IACvC,yCAA0C,IAC1C,iCAAkC,IAClC,oCAAqC,IACrC,sCAAuC,IACvC,yCAA0C,IAC1C,2CAA4C,IAC5C,8CAA+C,IAC/C,sCAAuC,IACvC,0CAA2C,IAC3C,yCAA0C,IAC1C,wCAAyC,IACzC,2CAA4C,IAC5C,yCAA0C,IAC1C,4CAA6C,IAC7C,kCAAmC,IACnC,qCAAsC,IACtC,qBAAsB,IACtB,sBAAuB,IACvB,6BAA8B,IAC9B,iCAAkC,IAClC,gCAAiC,IACjC,2CAA4C,IAC5C,8CAA+C,IAC/C,qCAAsC,IACtC,wCAAyC,IACzC,gCAAiC,IACjC,oCAAqC,IACrC,mCAAoC,IACpC,2BAA4B,IAC5B,8BAA+B,IAC/B,2BAA4B,IAC5B,8BAA+B,IAC/B,sBAAuB,IACvB,uBAAwB,IACxB,4BAA6B,IAC7B,+BAAgC,IAChC,wBAAyB,IACzB,yBAA0B,IAC1B,8BAA+B,IAC/B,iCAAkC,IAClC,wBAAyB,IACzB,yBAA0B,IAC1B,8BAA+B,IAC/B,iCAAkC,IAClC,4BAA6B,IAC7B,6BAA8B,IAC9B,kCAAmC,IACnC,qCAAsC,IACtC,2BAA4B,IAC5B,4BAA6B,IAC7B,iCAAkC,IAClC,qCAAsC,IACtC,oCAAqC,IACrC,kCAAmC,IACnC,qCAAsC,IACtC,sCAAuC,IACvC,uCAAwC,IACxC,kEAAmE,IACnE,2CAA4C,IAC5C,8CAA+C,IAC/C,4CAA6C,IAC7C,+CAAgD,IAChD,+CAAgD,IAChD,kDAAmD,IACnD,8CAA+C,IAC/C,mDAAoD,IACpD,+CAAgD,IAChD,oDAAqD,IACrD,4BAA6B,IAC7B,+BAAgC,IAChC,uCAAwC,IACxC,0CAA2C,IAC3C,0BAA2B,EAC3B,6BAA8B,EAC9B,mBAAoB,IACpB,sBAAuB,IACvB,oBAAqB,IACrB,uBAAwB,IACxB,sBAAuB,IACvB,yBAA0B,IAC1B,sBAAuB,IACvB,uBAAwB,IACxB,4BAA6B,IAC7B,gCAAiC,IACjC,+BAAgC,IAChC,qBAAsB,IACtB,wBAAyB,IACzB,uBAAwB,IACxB,wBAAyB,IACzB,+BAAgC,IAChC,kCAAmC,IACnC,gCAAiC,IACjC,mCAAoC,IACpC,6BAA8B,IAC9B,gCAAiC,IACjC,uBAAwB,IACxB,wBAAyB,IACzB,4BAA6B,IAC7B,+BAAgC,IAChC,6BAA8B,IAC9B,gCAAiC,IACjC,sBAAuB,IACvB,yBAA0B,IAC1B,kCAAmC,IACnC,qCAAsC,IACtC,qCAAsC,IACtC,wCAAyC,IACzC,UAAW,IACX,cAAe,IACf,aAAc,IACd,gBAAiB,IACjB,iBAAkB,IAClB,8BAA+B,IAC/B,iCAAkC,IAClC,sBAAuB,IACvB,yBAA0B,IAC1B,8BAA+B,IAC/B,mCAAoC,IACpC,aAAc,IACd,cAAe,IACf,oBAAqB,IACrB,uBAAwB,IACxB,mBAAoB,IACpB,sBAAuB,IACvB,kBAAmB,IACnB,qBAAsB,IACtB,iBAAkB,IAClB,oBAAqB,IACrB,qBAAsB,IACtB,wBAAyB,IACzB,qBAAsB,IACtB,wBAAyB,IACzB,sBAAuB,IACvB,yBAA0B,IAC1B,0BAA2B,IAC3B,6BAA8B,IAC9B,gBAAiB,IACjB,mBAAoB,IACpB,mBAAoB,IACpB,sBAAuB,IACvB,kBAAmB,IACnB,qBAAsB,IACtB,0BAA2B,IAC3B,6BAA8B,IAC9B,mBAAoB,IACpB,sBAAuB,IACvB,oBAAqB,IACrB,uBAAwB,IACxB,UAAW,IACX,WAAY,IACZ,gBAAiB,IACjB,mBAAoB,IACpB,oBAAqB,GACrB,uBAAwB,GACxB,aAAc,GACd,gBAAiB,GACjB,sBAAuB,IACvB,yBAA0B,KAI3B,SAASC,EAAeC,GACvB,IAAIC,EAAKC,EAAsBF,GAC/B,OAAOG,EAAoBF,GAE5B,SAASC,EAAsBF,GAC9B,IAAIG,EAAoBC,EAAEN,EAAKE,GAAM,CACpC,IAAIK,EAAI,IAAIC,MAAM,uBAAyBN,EAAM,KAEjD,MADAK,EAAEE,KAAO,mBACHF,EAEP,OAAOP,EAAIE,GAEZD,EAAeS,KAAO,WACrB,OAAOC,OAAOD,KAAKV,IAEpBC,EAAeW,QAAUR,EACzBS,EAAOC,QAAUb,EACjBA,EAAeE,GAAK,M,qlBClQPY,EAAkB,SAACZ,GAC9B,OAAO,SAAAa,GACLA,EAAS,CAACC,KAAMC,kBAAiBC,KAAMC,yBACvCC,UAAMC,IAAI,QAAUnB,GAAIoB,MAAK,YAAa,IAAXC,EAAU,EAAVA,KAC7BR,EAAS,CAACC,KAAMQ,iBAAgBN,KAAMC,yBACtCJ,EAAS,CAACC,KAAMG,uBAAsBM,QAASF,EAAKA,UACnDG,OAAM,YAAiB,IAAfC,EAAc,EAAdA,SACTZ,EAAS,CAACC,KAAMQ,iBAAgBN,KAAMC,yBAClCQ,IACFC,QAAQC,IAAI,aAAcF,EAASG,SACnCf,EAAS,CAACC,KAAMe,eAAcC,MAAO,sBAAuBF,QAASH,EAASJ,KAAKO,QAASG,SAAUC,6BAMjGC,EAAyB,SAACjC,GACrC,OAAO,SAAAa,GACLA,EAAS,CAACC,KAAMC,kBAAiBC,KAAMkB,6BACvChB,UAAMC,IAAN,eAAkBnB,EAAlB,aAAgCoB,MAAK,YAAa,IAAXC,EAAU,EAAVA,KACrCR,EAAS,CAACC,KAAMQ,iBAAgBN,KAAMkB,6BACtCrB,EAAS,CAACC,KAAMoB,2BAA0BX,QAASF,EAAKA,UACvDG,OAAM,YAAiB,IAAfC,EAAc,EAAdA,SACTZ,EAAS,CAACC,KAAMQ,iBAAgBN,KAAMkB,6BAClCT,IACFC,QAAQC,IAAI,aAAcF,EAASG,SACnCf,EAAS,CAACC,KAAMe,eAAcC,MAAO,sBAAuBF,QAASH,EAASJ,KAAKO,QAASG,SAAUC,6BAMjGG,EAAwB,SAACnC,GACpC,OAAO,SAAAa,GACLA,EAAS,CAACC,KAAMC,kBAAiBC,KAAMoB,6BACvClB,UAAMC,IAAN,eAAkBnB,EAAlB,YAA+BoB,MAAK,YAAa,IAAXC,EAAU,EAAVA,KACpCR,EAAS,CAACC,KAAMQ,iBAAgBN,KAAMoB,6BACtCvB,EAAS,CAACC,KAAMsB,2BAA0Bb,QAASF,EAAKA,UACvDG,OAAM,YAAiB,IAAfC,EAAc,EAAdA,SACTZ,EAAS,CAACC,KAAMQ,iBAAgBN,KAAMoB,6BAClCX,IACFC,QAAQC,IAAI,aAAcF,EAASG,SACnCf,EAAS,CAACC,KAAMe,eAAcC,MAAO,sBAAuBF,QAASH,EAASJ,KAAKO,QAASG,SAAUC,6BAMjGK,EAA0B,SAACrC,GACtC,OAAO,SAAAa,GACLA,EAAS,CAACC,KAAMC,kBAAiBC,KAAMsB,8BACvCpB,UAAMC,IAAN,eAAkBnB,EAAlB,cAAiCoB,MAAK,YAAa,IAAXC,EAAU,EAAVA,KACtCR,EAAS,CAACC,KAAMQ,iBAAgBN,KAAMsB,8BACtCzB,EAAS,CAACC,KAAMwB,4BAA2Bf,QAASF,EAAKA,UACxDG,OAAM,YAAiB,IAAfC,EAAc,EAAdA,SACTZ,EAAS,CAACC,KAAMQ,iBAAgBN,KAAMsB,8BAClCb,IACFC,QAAQC,IAAI,aAAcF,EAASG,SACnCf,EAAS,CAACC,KAAMe,eAAcC,MAAO,sBAAuBF,QAASH,EAASJ,KAAKO,QAASG,SAAUC,6BAMjGO,EAA4B,SAACvC,GAAuB,IAAnBwC,EAAkB,uDAAT,KACrD,OAAO,SAAA3B,GACLA,EAAS,CAACC,KAAMC,kBAAiBC,KAAMyB,iCACvCvB,UAAMC,IAAN,eAAkBnB,EAAlB,gBAAoC,CAACwC,WAASpB,MAAK,YAAa,IAAXC,EAAU,EAAVA,KACnDR,EAAS,CAACC,KAAMQ,iBAAgBN,KAAMyB,iCACtC5B,EAAS,CAACC,KAAM2B,+BAA8BlB,QAASF,EAAKA,UAC3DG,OAAM,YAAiB,IAAfC,EAAc,EAAdA,SACTZ,EAAS,CAACC,KAAMQ,iBAAgBN,KAAMyB,iCAClChB,IACFC,QAAQC,IAAI,aAAcF,EAASG,SACnCf,EAAS,CAACC,KAAMe,eAAcC,MAAO,sBAAuBF,QAASH,EAASJ,KAAKO,QAASG,SAAUC,6BAMjGU,EAAuB,SAAC1C,GAAuB,IAAnBwC,EAAkB,uDAAT,KAChD,OAAO,SAAA3B,GACLA,EAAS,CAACC,KAAMC,kBAAiBC,KAAM2B,2BACvCzB,UAAMC,IAAN,eAAkBnB,EAAlB,UAA8B,CAACwC,WAASpB,MAAK,YAAa,IAAXC,EAAU,EAAVA,KAC7CR,EAAS,CAACC,KAAMQ,iBAAgBN,KAAM2B,2BACtC9B,EAAS,CAACC,KAAM6B,yBAAwBpB,QAASF,EAAKA,UACrDG,OAAM,YAAiB,IAAfC,EAAc,EAAdA,SACTZ,EAAS,CAACC,KAAMQ,iBAAgBN,KAAM2B,2BAClClB,IACFC,QAAQC,IAAI,aAAcF,EAASG,SACnCf,EAAS,CAACC,KAAMe,eAAcC,MAAO,sBAAuBF,QAASH,EAASJ,KAAKO,QAASG,SAAUC,6BAMjGY,EAA2B,SAACC,GACvC,OAAO,SAAAhC,GACLA,EAAS,CAACC,KAAMC,kBAAiBC,KAAM8B,qBACvC5B,UAAMC,IAAI,gBAAkB0B,GAAYzB,MAAK,YAAa,IAAXC,EAAU,EAAVA,KAC7CR,EAAS,CAACC,KAAMQ,iBAAgBN,KAAM8B,qBACtCjC,EAAS,CAACC,KAAMgC,mBAAkBvB,QAASF,EAAKA,UAC/CG,OAAM,YAAiB,IAAfC,EAAc,EAAdA,SACTZ,EAAS,CAACC,KAAMQ,iBAAgBN,KAAM8B,qBAClCrB,IACFC,QAAQC,IAAI,aAAcF,EAASG,SACnCf,EAAS,CAACC,KAAMe,eAAcC,MAAO,sBAAuBF,QAASH,EAASJ,KAAKO,QAASG,SAAUC,6BAMjGe,EAAkB,SAACxB,GAC9B,OAAO,SAAAV,GACLA,EAAS,CAACC,KAAMC,kBAAiBC,KAAMgC,qBACvC9B,UAAM+B,KAAK,iBAAkB1B,GAASH,MAAK,YAAY,EAAVC,KAC3CR,EAAS,CAACC,KAAMQ,iBAAgBN,KAAMgC,qBACtCnC,EAAS,CAACC,KAAMkC,wBACfxB,OAAM,YAAiB,IAAfC,EAAc,EAAdA,SACTZ,EAAS,CAACC,KAAMQ,iBAAgBN,KAAMgC,qBAClCvB,IACFC,QAAQC,IAAI,aAAcF,EAASG,SACnCf,EAAS,CAACC,KAAMe,eAAcC,MAAO,sBAAuBF,QAASH,EAASJ,KAAKO,QAASG,SAAUC,6BAMjGkB,EAAuB,SAACC,GACnC,OAAO,SAAAtC,GACLA,EAAS,CAACC,KAAMC,kBAAiBC,KAAMgC,qBACvC9B,UAAM+B,KAAK,uBAAwB,CAACE,YAAU/B,MAAK,YAAY,EAAVC,KACnDR,EAAS,CAACC,KAAMQ,iBAAgBN,KAAMgC,qBACtCnC,EAAS,CAACC,KAAMkC,wBACfxB,OAAM,YAAiB,IAAfC,EAAc,EAAdA,SACTZ,EAAS,CAACC,KAAMQ,iBAAgBN,KAAMgC,qBAClCvB,IACFC,QAAQC,IAAI,aAAcF,EAASG,SACnCf,EAAS,CAACC,KAAMe,eAAcC,MAAO,sBAAuBF,QAASH,EAASJ,KAAKO,QAASG,SAAUC,6BAMjGoB,EAAmB,SAACpD,EAAIuB,GACnC,OAAO,SAAAV,GACLA,EAAS,CAACC,KAAMC,kBAAiBC,KAAMqC,sBACvCnC,UAAM+B,KAAK,sBAAX,aAAmCjD,MAAOuB,IAAUH,MAAK,YAAY,EAAVC,KACzDR,EAAS,CAACC,KAAMQ,iBAAgBN,KAAMqC,sBACtCxC,EAAS,CAACC,KAAMuC,yBACf7B,OAAM,YAAiB,IAAfC,EAAc,EAAdA,SACTZ,EAAS,CAACC,KAAMQ,iBAAgBN,KAAMqC,sBAClC5B,IACFC,QAAQC,IAAI,aAAcF,EAASG,SACnCf,EAAS,CAACC,KAAMe,eAAcC,MAAO,sBAAuBF,QAASH,EAASJ,KAAKO,QAASG,SAAUC,8B,iCC1K9G,0ZAgBasB,EAAgB,WAC3B,OAAO,SAAAzC,GACLA,EAAS,CAACC,KAAMC,kBAAiBC,KAAMuC,oBACvCrC,UAAMC,IAAI,WAAWC,MAAK,YAAa,IAAXC,EAAU,EAAVA,KAC1BR,EAAS,CAACC,KAAMQ,iBAAgBN,KAAMuC,oBACtC1C,EAAS,CAACC,KAAMyC,kBAAiBhC,QAASF,EAAKA,UAC9CG,OAAM,YAAiB,IAAfC,EAAc,EAAdA,SACTZ,EAAS,CAACC,KAAMQ,iBAAgBN,KAAMuC,oBAClC9B,IACFC,QAAQC,IAAI,aAAcF,EAASG,SACnCf,EAAS,CAACC,KAAMe,eAAcC,MAAO,iBAAkBF,QAASH,EAASJ,KAAKO,QAASG,SAAUC,6BAM5FwB,EAAmB,WAAoB,IAAnBhB,EAAkB,uDAAT,KACxC,OAAO,SAAA3B,GACLA,EAAS,CAACC,KAAMC,kBAAiBC,KAAMuC,oBACvCrC,UAAMC,IAAI,iBAAkB,CAACqB,WAASpB,MAAK,YAAa,IAAXC,EAAU,EAAVA,KAC3CR,EAAS,CAACC,KAAMQ,iBAAgBN,KAAMuC,oBACtC1C,EAAS,CAACC,KAAMyC,kBAAiBhC,QAASF,EAAKA,UAC9CG,OAAM,YAAiB,IAAfC,EAAc,EAAdA,SACTZ,EAAS,CAACC,KAAMQ,iBAAgBN,KAAMuC,oBAClC9B,IACFC,QAAQC,IAAI,aAAcF,EAASG,SACnCf,EAAS,CAACC,KAAMe,eAAcC,MAAO,iBAAkBF,QAASH,EAASJ,KAAKO,QAASG,SAAUC,6BAM5FyB,EAAsB,SAACzD,GAClC,OAAO,SAAAa,GACLA,EAAS,CAACC,KAAMC,kBAAiBC,KAAM0C,oBACvCxC,UAAMC,IAAN,yBAA4BnB,IAAMoB,MAAK,YAAa,IAAXC,EAAU,EAAVA,KACvCR,EAAS,CAACC,KAAMQ,iBAAgBN,KAAM0C,oBACtC7C,EAAS,CAACC,KAAM4C,kBAAiBnC,QAASF,EAAKA,UAC9CG,OAAM,YAAiB,IAAfC,EAAc,EAAdA,SACTZ,EAAS,CAACC,KAAMQ,iBAAgBN,KAAM0C,oBAClCjC,IACFC,QAAQC,IAAI,aAAcF,EAASG,SACnCf,EAAS,CAACC,KAAMe,eAAcC,MAAO,iBAAkBF,QAASH,EAASJ,KAAKO,QAASG,SAAUC,6BAM5F2B,EAAuB,WAClC,OAAO,SAAA9C,GACLA,EAAS,CAACC,KAAMC,kBAAiBC,KAAM4C,2BACvC1C,UAAMC,IAAI,gBAAgBC,MAAK,YAAa,IAAXC,EAAU,EAAVA,KAC/BR,EAAS,CAACC,KAAMQ,iBAAgBN,KAAM4C,2BACtC/C,EAAS,CAACC,KAAM8C,yBAAwBrC,QAASF,EAAKA,UACrDG,OAAM,YAAiB,IAAfC,EAAc,EAAdA,SACTZ,EAAS,CAACC,KAAMQ,iBAAgBN,KAAM4C,2BAClCnC,IACFC,QAAQC,IAAI,aAAcF,EAASG,SACnCf,EAAS,CAACC,KAAMe,eAAcC,MAAO,iBAAkBF,QAASH,EAASJ,KAAKO,QAASG,SAAUC,6BAM5F6B,EAAa,SAACtC,GACzB,OAAO,SAAAV,GACLA,EAAS,CAACC,KAAMC,kBAAiBC,KAAM8C,gBACvC5C,UAAM+B,KAAN,UAAsB1B,GAASH,MAAK,YAAY,EAAVC,KACpCR,EAAS,CAACC,KAAMQ,iBAAgBN,KAAM8C,gBACtCjD,EAAS,CAACC,KAAMgD,mBACftC,OAAM,YAAiB,IAAfC,EAAc,EAAdA,SACTZ,EAAS,CAACC,KAAMQ,iBAAgBN,KAAM8C,gBAClCrC,IACFC,QAAQC,IAAI,aAAcF,EAASG,SACnCf,EAAS,CAACC,KAAMe,eAAcC,MAAO,iBAAkBF,QAASH,EAASJ,KAAKO,QAASG,SAAUC,6BAM5F+B,EAAc,SAAC/D,EAAIuB,GAC9B,OAAO,SAAAV,GACLA,EAAS,CAACC,KAAMC,kBAAiBC,KAAMgD,iBACvC9C,UAAM+B,KAAN,kBAAsBjD,GAAMuB,GAASH,MAAK,YAAY,EAAVC,KAC1CR,EAAS,CAACC,KAAMQ,iBAAgBN,KAAMgD,iBACtCnD,EAAS,CAACC,KAAMkD,oBACfxC,OAAM,YAAiB,IAAfC,EAAc,EAAdA,SACTZ,EAAS,CAACC,KAAMQ,iBAAgBN,KAAMgD,iBAClCvC,IACFC,QAAQC,IAAI,aAAcF,EAASG,SACnCf,EAAS,CAACC,KAAMe,eAAcC,MAAO,iBAAkBF,QAASH,EAASJ,KAAKO,QAASG,SAAUC,6BAM5FiC,EAAkB,SAAC1C,GAC9B,OAAO,SAAAV,GACLA,EAAS,CAACC,KAAMC,kBAAiBC,KAAMkD,sBACvChD,UAAM+B,KAAN,gBAA4B1B,GAASH,MAAK,YAAY,EAAVC,KAC1CR,EAAS,CAACC,KAAMQ,iBAAgBN,KAAMkD,sBACtCrD,EAAS,CAACC,KAAMoD,yBACf1C,OAAM,YAAiB,IAAfC,EAAc,EAAdA,SACTZ,EAAS,CAACC,KAAMQ,iBAAgBN,KAAMkD,sBAClCzC,IACFC,QAAQC,IAAI,aAAcF,EAASG,SACnCf,EAAS,CAACC,KAAMe,eAAcC,MAAO,iBAAkBF,QAASH,EAASJ,KAAKO,QAASG,SAAUC,6BAM5FmC,EAAmB,SAACnE,EAAIuB,GACnC,OAAO,SAAAV,GACLA,EAAS,CAACC,KAAMC,kBAAiBC,KAAMoD,uBACvClD,UAAM+B,KAAN,wBAA4BjD,GAAMuB,GAASH,MAAK,YAAY,EAAVC,KAChDR,EAAS,CAACC,KAAMQ,iBAAgBN,KAAMoD,uBACtCvD,EAAS,CAACC,KAAMsD,0BACf5C,OAAM,YAAiB,IAAfC,EAAc,EAAdA,SACTZ,EAAS,CAACC,KAAMQ,iBAAgBN,KAAMoD,uBAClC3C,IACFC,QAAQC,IAAI,aAAcF,EAASG,SACnCf,EAAS,CAACC,KAAMe,eAAcC,MAAO,iBAAkBF,QAASH,EAASJ,KAAKO,QAASG,SAAUC,8B,mGCxH1FqC,UAbI,SAAC,GAAY,IAAXrD,EAAU,EAAVA,KACnB,OAAQsD,IAAEC,UAAUvD,IAClB,IAAK,OACH,OAAO,mBAAKwD,MAAO,WAAZ,SAAyBF,IAAEG,UAAUzD,KAC9C,IAAK,QACH,OAAO,mBAAKwD,MAAO,SAAZ,SAAuBF,IAAEG,UAAUzD,KAC5C,IAAK,cACH,OAAO,mBAAKwD,MAAO,OAAZ,SAAqBF,IAAEG,UAAUzD,KAC1C,QACE,OAAO,mBAAKwD,MAAO,SAAZ,SAAuBF,IAAEG,UAAUzD,Q,+ZCMnC0D,EAAa,SAACC,GACzB,MAAO,CACL7D,KAAM8D,WACNrD,QAASoD,IAIAE,EAAa,SAAC,GAAoD,IAAnDC,EAAkD,EAAlDA,SAAUC,EAAwC,EAAxCA,SAAUC,EAA8B,EAA9BA,SAAUC,EAAoB,EAApBA,MAAoB,0DAC5E,OAAO,SAACpE,GACNA,EAAS,CAACC,KAAMC,kBAAiBC,KAAMkE,YACvChE,UAAM+B,KAAK,gBAAiB,CAAC6B,WAAUC,WAAUC,WAAUC,UAAQ7D,MAAK,YAAa,IAAXC,EAAU,EAAVA,KACxER,EAAS,CAACC,KAAMoE,YAChBrE,EAAS,CAACC,KAAMQ,iBAAgBN,KAAMkE,YACtCrE,EAAS,CAACC,KAAMe,eAAcC,MAAOT,EAAKO,QAASA,QAAS,GAAIG,SAAUoD,4BACzE3D,OAAM,YAAuB,IAAZC,EAAW,EAAXA,SAClBZ,EAAS,CAACC,KAAMQ,iBAAgBN,KAAMkE,YAClCzD,IACFC,QAAQC,IAAI,aAAcF,EAASG,SACnCf,EAAS,CAACC,KAAMe,eAAcC,MAAO,kBAAmBF,QAASH,EAASJ,KAAKO,QAASG,SAAUC,6BAM7FoD,EAAa,SAAC,GAAmC,IAAlCL,EAAiC,EAAjCA,SAAUC,EAAuB,EAAvBA,SAAuB,uCAC3D,OAAO,SAACnE,GACNA,EAAS,CAACC,KAAMC,kBAAiBC,KAAMqE,WACvCnE,UAAM+B,KAAK,aAAc,CAAC8B,WAAUC,aAAW5D,MAAK,YAAa,IAAXC,EAAU,EAAVA,KAEpDH,UAAMoE,aAAa7D,SAAS8D,KAAI,SAAA9D,GAAQ,OAAIA,KAAU,SAAC+D,GAKrD,OAJIA,EAAM/D,UAAsC,MAA1B+D,EAAM/D,SAASgE,SACnCC,aAAaC,WAAW,SACxB9E,EAAS,CAACC,KAAM8E,aAEXC,QAAQC,OAAON,MAGxBE,aAAaK,QAAQ,QAAS1E,EAAKA,KAAK2E,cACxCnF,EAAS,CAACC,KAAMQ,iBAAgBN,KAAMqE,WACtCxE,EAAS,CAACC,KAAMmF,iBAAgB1E,QAASF,EAAKA,KAAK2E,kBAElDxE,OAAM,YAAuB,IAAZC,EAAW,EAAXA,SAClBZ,EAAS,CAACC,KAAMQ,iBAAgBN,KAAMqE,WAClC5D,IACFC,QAAQC,IAAI,aAAcF,EAASG,SACnCf,EAAS,CAACC,KAAMe,eAAcC,MAAO,gBAAiBF,QAASH,EAASJ,KAAKO,QAASG,SAAUC,6BAM3FkE,EAAa,SAAC,GAAuB,IAAtBnB,EAAqB,EAArBA,SAAUE,EAAW,EAAXA,MACpC,OAAO,SAACpE,GACNA,EAAS,CAACC,KAAMC,kBAAiBC,KAAMmF,WACvCjF,UAAM+B,KAAK,SAAU,CAAC8B,WAAUE,UAAQ7D,MAAK,YAAa,IAAXC,EAAU,EAAVA,KAC7CR,EAAS,CAACC,KAAMqF,WAChBtF,EAAS,CAACC,KAAMQ,iBAAgBN,KAAMmF,WACtCtF,EAAS,CAACC,KAAMe,eAAcC,MAAOT,EAAKO,QAASA,QAAS,GAAIG,SAAUoD,4BACzE3D,OAAM,YAAuB,IAAZC,EAAW,EAAXA,SAClBZ,EAAS,CAACC,KAAMQ,iBAAgBN,KAAMmF,WAClC1E,IACFC,QAAQC,IAAI,aAAcF,EAASG,SACnCf,EAAS,CAACC,KAAMe,eAAcC,MAAO,iBAAkBF,QAASH,EAASJ,KAAKO,QAASG,SAAUC,6BAM5FoE,EAAU,WACrB,OAAO,SAACvF,GACNA,EAAS,CAACC,KAAMC,kBAAiBC,KAAMqF,cACvCnF,UAAMC,IAAI,WAAYC,MAAK,YAAa,IAAXC,EAAU,EAAVA,KAC3BR,EAAS,CAACC,KAAMQ,iBAAgBN,KAAMqF,cACtCxF,EAAS,CAACC,KAAMuF,YAAW9E,QAASF,EAAKA,KAAMiF,KAAMjF,EAAKA,KAAKkF,KAAKC,iBACnEhF,OAAM,YAAuB,IAAZC,EAAW,EAAXA,SAClBZ,EAAS,CAACC,KAAMQ,iBAAgBN,KAAMqF,cAClC5E,IACFC,QAAQC,IAAI,aAAcF,EAASG,SACX,MAApBH,EAASgE,QAAgB5E,EAAS,CAACC,KAAM8E,kBAMxCa,EAAgB,SAACC,GAC5B,GAAIA,EACF,OAAO,SAAA7F,GACLA,EAAS,CAACC,KAAMC,kBAAiBC,KAAM2F,oBACvCzF,UAAMC,IAAN,SAAoB,CAACqB,OAAQ,CAACkE,WAAStF,MAAK,YAAa,IAAXC,EAAU,EAAVA,KAC5CR,EAAS,CAACC,KAAMQ,iBAAgBN,KAAM2F,oBACtC9F,EAAS,CAACC,KAAM6F,kBAAiBpF,QAASF,EAAKA,UAC9CG,OAAM,YAAiB,IAAfC,EAAc,EAAdA,SACTZ,EAAS,CAACC,KAAMQ,iBAAgBN,KAAM2F,oBAClClF,IACFC,QAAQC,IAAI,aAAcF,EAASG,SACnCf,EAAS,CACPC,KAAMe,eACNC,MAAO,cACPF,QAASH,EAASJ,KAAKO,QACvBG,SAAUC,6BAQT4E,EAAc,WACzB,OAAO,SAAC/F,GACN6E,aAAaC,WAAW,SACxB9E,EAAS,CAACC,KAAM8E,cAIPiB,EAAgB,WAC3B,OAAO,SAAChG,GACNA,EAAS,CAACC,KAAMgG,oB,2HCpHLC,UAfI,SAAC,GAAyB,IAAxBC,EAAuB,EAAvBA,MAAOC,EAAgB,EAAhBA,KAAMC,EAAU,EAAVA,KAAU,EAEhBC,oBAAS,GAFO,mBAEnCC,EAFmC,KAE5BC,EAF4B,KAI1C,OACE,mBAAOC,YAAa,kBAAMD,GAAS,IAC5BE,WAAY,kBAAMF,GAAS,IAC3BG,MAAO,CAACC,MAAO,QAASzH,GAAIkH,EAAKQ,QAAQ,IAAK,IAFrD,SAGE,mBAAYC,MAAZ,CAAkBX,MAAOA,EAAOQ,MAAO,CAACI,OAAQ,aAAhD,UAA+DX,EAC5DG,GAAS,mBAAYS,KAAZ,CAAiBC,KAAMZ,EAAvB,cAA8B,cAAC,IAAD,c,sICKjCa,UAdI,SAAC,GAAkB,IAAjB/G,EAAgB,EAAhBA,KAAMgH,EAAU,EAAVA,KACnBC,EAAUjH,EAAKkH,MAAM,KACxBrI,KAAI,iCAAEsI,EAAF,uBAAsBA,KAC1BC,KAAK,IAAIC,cAEZ,OAAIL,EACK,mBAAQR,MAAO,CAAChD,MAAO,UAAW8D,gBAAiB,WAAnD,SAAiEL,IAEjE,8BACL,mBAAQT,MAAO,CAAChD,MAAO,UAAW8D,gBAAiB,WAAnD,SAAiEL,IAChE3D,IAAEiE,UAAUvH,Q,mGCKJwH,UAfe,SAAC,GAAc,IAAb/C,EAAY,EAAZA,OAC9B,OAAQA,GACN,IAAK,SACH,OAAO,mBAAKjB,MAAO,QAAZ,SAAsBF,IAAEG,UAAUgB,KAC3C,IAAK,UACH,OAAO,mBAAKjB,MAAO,MAAZ,SAAoBF,IAAEG,UAAUgB,KACzC,IAAK,WACH,OAAO,mBAAKjB,MAAO,UAAZ,SAAwBF,IAAEG,UAAUgB,KAC7C,IAAK,WACH,OAAO,mBAAKjB,MAAO,OAAZ,SAAqBF,IAAEG,UAAUgB,KAC1C,QACE,OAAO,mBAAKjB,MAAO,SAAZ,SAAuBF,IAAEG,UAAUgB,Q,iCChBhD,0QAeagD,EAAsB,SAAC5F,GAClC,OAAO,SAAAhC,GACLA,EAAS,CAACC,KAAMC,kBAAiBC,KAAM0H,gBACvCxH,UAAMC,IAAN,0BAA6B0B,EAA7B,SAA+CzB,MAAK,YAAa,IAAXC,EAAU,EAAVA,KACpDR,EAAS,CAACC,KAAMQ,iBAAgBN,KAAM0H,gBACtC7H,EAAS,CAACC,KAAM4H,cAAanH,QAASF,EAAKA,UAC1CG,OAAM,YAAiB,IAAfC,EAAc,EAAdA,SACTZ,EAAS,CAACC,KAAMQ,iBAAgBN,KAAM0H,gBAClCjH,IACFC,QAAQC,IAAI,aAAcF,EAASG,SACnCf,EAAS,CAACC,KAAMe,eAAcC,MAAO,iBAAkBF,QAASH,EAASJ,KAAKO,QAASG,SAAUC,6BAM5F2G,EAA4B,SAAC9F,GACxC,OAAO,SAAAhC,GACLA,EAAS,CAACC,KAAMC,kBAAiBC,KAAM0H,gBACvCxH,UAAMC,IAAN,0BAA6B0B,EAA7B,YAAkDzB,MAAK,YAAa,IAAXC,EAAU,EAAVA,KACvDR,EAAS,CAACC,KAAMQ,iBAAgBN,KAAM0H,gBACtC7H,EAAS,CAACC,KAAM4H,cAAanH,QAASF,EAAKA,UAC1CG,OAAM,YAAiB,IAAfC,EAAc,EAAdA,SACTZ,EAAS,CAACC,KAAMQ,iBAAgBN,KAAM0H,gBAClCjH,IACFC,QAAQC,IAAI,aAAcF,EAASG,SACnCf,EAAS,CAACC,KAAMe,eAAcC,MAAO,iBAAkBF,QAASH,EAASJ,KAAKO,QAASG,SAAUC,6BAM5F4G,EAAa,SAAC5I,GACzB,OAAO,SAAAa,GACLA,EAAS,CAACC,KAAMC,kBAAiBC,KAAM6H,oBACvC3H,UAAMC,IAAN,kBAAqBnB,IAAMoB,MAAK,YAAa,IAAXC,EAAU,EAAVA,KAChCR,EAAS,CAACC,KAAMQ,iBAAgBN,KAAM6H,oBACtChI,EAAS,CAACC,KAAM+H,kBAAiBtH,QAASF,EAAKA,UAC9CG,OAAM,YAAiB,IAAfC,EAAc,EAAdA,SACTZ,EAAS,CAACC,KAAMQ,iBAAgBN,KAAM6H,oBAClCpH,IACFC,QAAQC,IAAI,aAAcF,EAASG,SACnCf,EAAS,CAACC,KAAMe,eAAcC,MAAO,iBAAkBF,QAASH,EAASJ,KAAKO,QAASG,SAAUC,6BAM5F8G,EAAa,SAACvH,GACzB,OAAO,SAAAV,GACLA,EAAS,CAACC,KAAMC,kBAAiBC,KAAM+H,gBACvC7H,UAAM+B,KAAN,UAAsB1B,GAASH,MAAK,YAAY,EAAVC,KACpCR,EAAS,CAACC,KAAMQ,iBAAgBN,KAAM+H,gBACtClI,EAAS,CAACC,KAAMiI,mBACfvH,OAAM,YAAiB,IAAfC,EAAc,EAAdA,SACTZ,EAAS,CAACC,KAAMQ,iBAAgBN,KAAM+H,gBAClCtH,IACFC,QAAQC,IAAI,aAAcF,EAASG,SACnCf,EAAS,CAACC,KAAMe,eAAcC,MAAO,iBAAkBF,QAASH,EAASJ,KAAKO,QAASG,SAAUC,6BAM5FgH,EAAc,SAAChJ,EAAIuB,GAC9B,OAAO,SAAAV,GACLA,EAAS,CAACC,KAAMC,kBAAiBC,KAAMiI,iBACvC/H,UAAM+B,KAAN,kBAAsBjD,GAAMuB,GAASH,MAAK,YAAY,EAAVC,KAC1CR,EAAS,CAACC,KAAMQ,iBAAgBN,KAAMiI,iBACtCpI,EAAS,CAACC,KAAMmI,oBACfzH,OAAM,YAAiB,IAAfC,EAAc,EAAdA,SACTZ,EAAS,CAACC,KAAMQ,iBAAgBN,KAAMiI,iBAClCxH,IACFC,QAAQC,IAAI,aAAcF,EAASG,SACnCf,EAAS,CAACC,KAAMe,eAAcC,MAAO,iBAAkBF,QAASH,EAASJ,KAAKO,QAASG,SAAUC,8B,iCCzFzG,2JAYakH,EAAa,WACxB,OAAO,SAAArI,GACLA,EAAS,CAACC,KAAMC,kBAAiBC,KAAMmI,aACvCjI,UAAMC,IAAN,QAAkBC,MAAK,YAAa,IAAXC,EAAU,EAAVA,KACvBR,EAAS,CAACC,KAAMQ,iBAAgBN,KAAMmI,aACtCtI,EAAS,CAACC,KAAMqI,WAAU5H,QAASF,EAAKA,UACvCG,OAAM,YAAiB,IAAfC,EAAc,EAAdA,SACTZ,EAAS,CAACC,KAAMQ,iBAAgBN,KAAMmI,aAClC1H,IACFC,QAAQC,IAAI,aAAcF,EAASG,SACnCf,EAAS,CAACC,KAAMe,eAAcC,MAAO,cAAeF,QAASH,EAASJ,KAAKO,QAASG,SAAUC,6BAMzFoH,EAAW,SAAC7H,GACvB,OAAO,SAAAV,GACLA,EAAS,CAACC,KAAMC,kBAAiBC,KAAMqI,cACvCnI,UAAM+B,KAAN,YAAwB1B,GAASH,MAAK,YAAY,EAAVC,KACtCR,EAAS,CAACC,KAAMQ,iBAAgBN,KAAMqI,cACtCxI,EAAS,CAACC,KAAMuI,iBACf7H,OAAM,YAAiB,IAAfC,EAAc,EAAdA,SACTZ,EAAS,CAACC,KAAMQ,iBAAgBN,KAAMqI,cAClC5H,IACFC,QAAQC,IAAI,aAAcF,EAASG,SACnCf,EAAS,CAACC,KAAMe,eAAcC,MAAO,cAAeF,QAASH,EAASJ,KAAKO,QAASG,SAAUC,6BAMzFsH,EAAe,SAAC/H,GAC3B,OAAO,SAAAV,GACLA,EAAS,CAACC,KAAMC,kBAAiBC,KAAMqI,cACvCnI,UAAM+B,KAAN,qBAAiC1B,GAASH,MAAK,YAAY,EAAVC,KAC/CR,EAAS,CAACC,KAAMQ,iBAAgBN,KAAMqI,cACtCxI,EAAS,CAACC,KAAMuI,cAChBxI,EAAS,CAACC,KAAMe,eAAcC,MAAO,oBAAqBC,SAAUoD,4BACnE3D,OAAM,YAAiB,IAAfC,EAAc,EAAdA,SACTZ,EAAS,CAACC,KAAMQ,iBAAgBN,KAAMqI,cAClC5H,IACFC,QAAQC,IAAI,aAAcF,EAASG,SACnCf,EAAS,CAACC,KAAMe,eAAcC,MAAO,cAAeF,QAASH,EAASJ,KAAKO,QAASG,SAAUC,8B,0TCcvFuH,UA7DK,SAAC,GAAgC,IAAtBC,EAAqB,EAA9BC,QAAmBjC,EAAW,EAAXA,MAehCxG,EAA6BwI,EAA7BxI,KAAM0I,EAAuBF,EAAvBE,YAAaC,EAAUH,EAAVG,OAEpBnF,EAfW,SAACxD,GAChB,OAAQsD,IAAEC,UAAUvD,IAClB,IAAK,OACH,OAAO4I,WACT,IAAK,QACH,OAAOC,SACT,IAAK,cACH,OAAOC,OACT,QACE,OAAOC,UAMCC,CAAShJ,GA6BvB,OACE,oBAAOiJ,UAAW,WAAYC,KAAM,QAAS1C,MAAK,aAAGC,MAAO,QAAWD,GAAvE,UACE,mBAAM2C,UAAW,YAAa3C,MAAO,CAACc,gBAAiB9D,EAAM,GAAI4F,aAAc,IAA/E,SACE,oBAAKC,QAAQ,SAAb,UACE,mBAAKC,KAAM,GAAX,SAAe,mBAAY3C,MAAZ,CAAkBX,MAAO,EAAGmD,UAAW,aAAvC,UAAsDnJ,EAAtD,gBACf,mBAAKsJ,KAAM,GAAX,SAAe,kBAAYC,UAAZ,CAAsBC,QAAM,EAACL,UAAW,aAAxC,SAAuDT,WAG1E,kBAAY/B,MAAZ,CAAkBX,MAAO,EAAGwD,QAAM,EAAChD,MAAO,CAAChD,MAAOA,EAAM,GAAIoD,OAAQ,GAApE,sBACA,mBAASJ,MAAO,CAACI,OAAQ,EAAG6C,UAAU,aAAD,OAAejG,EAAM,OACzDF,IAAEzE,IAAI8J,GArCS,SAAC,GAAoE,IAAnEe,EAAkE,EAAlEA,QAASC,EAAyD,EAAzDA,aAAcC,EAA2C,EAA3CA,MAAOtK,EAAoC,EAApCA,KAAMuK,EAA8B,EAA9BA,KAAMnB,EAAwB,EAAxBA,YAAaoB,EAAW,EAAXA,MACvEC,EAAiB,KAkBrB,OAfEA,EADEJ,EACe,mBAAYK,KAAZ,WACf,mBAAYA,KAAZ,CAAiBlK,KAAM,UAAW0J,QAAM,EAAxC,UAAyC,cAAC,IAAD,IAAzC,iBACCd,EAFc,OAIVpF,IAAE2G,OAAOL,GACC,mBAAYI,KAAZ,WACf,mBAAYA,KAAZ,CAAiBlK,KAAM,SAAU0J,QAAM,EAAvC,UAAwC,cAAC,IAAD,IAAxC,OACCd,EAFc,OAKA,mBAAYsB,KAAZ,WACf,mBAAYA,KAAZ,CAAiBlK,KAAM,UAAW0J,QAAM,EAAxC,UAAyC,cAAC,IAAD,IAAzC,OACCI,EAFc,IAENC,EAFM,OAEIvK,EAFJ,IAEWwK,EAFX,KAEoBpB,GAAe,mBAAS5H,MAAO4H,EAAhB,SAA6B,cAAC,IAAD,SAG/EgB,EACKK,EAEA,mBAAYC,KAAZ,WACL,kBAAYA,KAAZ,CAAiBE,QAAM,EAAvB,SAAyBH,IADpB,IACsD,mBAASjJ,MAAO,mBAAhB,SAAoC,kBAAYkJ,KAAZ,CAAiBlK,KAAM,UAAvB,SAAkC,cAAC,IAAD,mB,iCClDzI,mHAIO,SAASqK,EAAmBC,GACjC,MAAO,CAACtK,KAAMuK,uBAAsBD,kBAG/B,SAASE,EAAcC,GAC5B,MAAO,CAACzK,KAAM0K,iBAAgBD,qB,0gBCyB1BE,EAAS,CACbC,SAAU,CAACpB,KAAM,GACjBqB,WAAY,CAACrB,KAAM,KAGfsB,EAAa,CACjBD,WAAY,CAACE,OAAQ,EAAGvB,KAAM,KAG1BwB,E,kDAEJ,WAAYC,GAAQ,IAAD,8BACjB,cAAMA,IAoBRC,SAAY,WAAO,IACVC,EAAW,EAAKC,MAAhBD,QADS,EAEiC,EAAKF,MAA/CI,EAFS,EAETA,IAAKpJ,EAFI,EAEJA,gBAAiBK,EAFb,EAEaA,iBAC7B6I,EAAQG,QACLC,iBACAjL,MAAK,YAA8E,IAA5EkL,EAA2E,EAA3EA,QAASC,EAAkE,EAAlEA,KAAuBC,GAA2C,EAA5DC,gBAA4D,EAA3CD,QAA8BjL,GAAa,EAAnCmL,kBAAmC,gGAClDH,EADkD,GAC1EI,EAD0E,KAC9DC,EAD8D,KAE7ET,EAAInM,GACNoD,EAAiB+I,EAAInM,GAAL,YAAC,eACZuB,GADW,IAEd+K,UACAK,WAAYA,EAAWE,OAAO,cAC9BD,SAAUA,EAASC,OAAO,iBAG5B9J,EAAgB,2BACXoJ,GADU,IAEbG,QAASE,OAASM,EAAYR,EAC9BK,WAAYA,EAAWE,OAAO,cAC9BD,SAAUA,EAASC,OAAO,eACvBtL,OAGRC,OAAM,SAACuL,GAAD,OAAUrL,QAAQC,IAAI,mBAAoBoL,OA1CnD,EAAKb,MAAQ,CACXD,QAASe,IAAMC,aAHA,E,+DAOAC,EAAWC,EAAWC,GACvC,IAAKF,EAAUG,MAAQC,KAAKvB,MAAMsB,OAChCC,KAAKpB,MAAMD,QAAQG,QAAQmB,cACvBD,KAAKvB,MAAMI,KAAK,CAAC,IAAD,EACiCmB,KAAKvB,MAAMI,IAAvDtJ,EADW,EACXA,WAAY8J,EADD,EACCA,WAAYC,EADb,EACaA,SAAaT,EAD1B,sDAGZI,EAAOI,EAAa,CAACa,IAAOb,GAAaa,IAAOZ,IAAa,KACnEU,KAAKpB,MAAMD,QAAQG,QAAQqB,eAA3B,2BAFa,CAACC,WAAW,EAAMhB,mBAAmB,IAElD,IAAoDH,QAASJ,IAC7DmB,KAAKvB,MAAM7C,aACXoE,KAAKvB,MAAMtD,oBAAoB5F,M,+BA+B3B,IAAD,EAEiDyK,KAAKvB,MAAtDsB,EAFA,EAEAA,KAAMM,EAFN,EAEMA,SAAUxB,EAFhB,EAEgBA,IAAKyB,EAFrB,EAEqBA,QAASC,EAF9B,EAE8BA,SAAUC,EAFxC,EAEwCA,MAExC7B,EAAWqB,KAAKpB,MAAhBD,QAED8B,EAAe,WAAmB,IAAlB7B,EAAiB,uDAAT,KAC5B,OAAIC,GAAOA,EAAInM,GACNkM,EAAkB,SAAVA,EAAmB,OAE3BA,EAAkB,WAAVA,EAAqB,UAGxC,OACE,mBACE8B,QAASX,EACTvL,MAAM,eACN6L,SAAUA,EACVM,OAAQ,CACN,mBAAmBC,QAASP,EAA5B,mBAAY,QACZ,mBAAqB7M,KAAK,UAAU8M,QAASA,EAAQG,KAC7CG,QAASZ,KAAKtB,SADtB,mBAAY,WANhB,SAUE,8CAAUP,GAAV,IAAkB0C,IAAKlC,EAASjL,KAAK,cAAcgL,SAAUsB,KAAKtB,SAAlE,UAEE,kBAAMoC,KAAN,CAAWpN,KAAK,aACLqN,MACE,+CACGN,EAAa,SACd,mBAASjM,MAAM,oEAAf,SACE,cAAC,IAAD,SAGNwM,MAAO,CAAC,CAACC,UAAU,EAAM3M,QAAS,+BAR7C,SASE,mBACE4M,YAAU,EACVC,YAAY,iBACZC,iBAAiB,WACjBC,aAAc,SAACC,EAAOC,GAAR,OAAmBA,EAAOC,SAASC,cAAcC,QAAQJ,EAAMG,gBAAkB,GAC/FnB,QAASA,EAAQnE,QACjBwF,YAAU,EANZ,SAOG3K,IAAEzE,IAAIgO,GAAU,gBAAE7N,EAAF,EAAEA,GAAIgB,EAAN,EAAMA,KAAN,OAAgB,kBAAQkO,OAAR,CAAeC,MAAOnP,EAAtB,SAA0B,cAAC,UAAD,CAAYgB,KAAMA,aAIjF,kBAAMoN,KAAN,CAAWpN,KAAK,OAAOqN,MAAM,SAASC,MAAO,CAAC,CAACC,UAAU,EAAM3M,QAAS,yBAAxE,SACE,kBAAYwN,YAAZ,CAAwB5H,MAAO,CAACC,MAAO,QAAS4H,SAAU,CAACtB,EAAa,SAAS,GACzDuB,aAAc,SAAClD,GAAD,OAAaA,GAAWA,EAAUoB,MAAS+B,SAAS,EAAG,OAAOC,MAAM,YAG5G,kBAAMpB,KAAN,CAAWC,MAAO,eAAgBrN,KAAM,eAAxC,SACE,mBAAayO,IAAK,EAAGC,IAAK,GAAIlI,MAAO,CAACC,MAAO,QAAS4H,SAAUtB,EAAa,SAA0B,aAAf5B,EAAI1G,WAG9F,kBAAM2I,KAAN,CAAWzC,WAAY,CAACrB,KAAM,IAAK9C,MAAO,CAACmI,aAAc,GAAIC,cAAY,EAAzE,SAEG,YAAsB,IAEfpD,GAASqD,EAFK,EAAnBA,eAE4B,UAE7B,OACE,qCACE,kBAAMzB,KAAN,2BAAe3C,GAAf,IAAuBzK,KAAK,UAAUqN,MAAM,UACjCC,MAAO,CAAC,CAACC,UAAW/B,EAAQ5K,QAAS,+BACrCkO,OAAO/B,EAAa,QAAU,MAFzC,SAGE,mBACES,YAAU,EACVC,YAAY,iBACZC,iBAAiB,WACjBW,SAAU7C,GAAUuB,EAAa,QACjCgC,gBAAiB,QACjBpB,aAAc,SAACC,EAAOC,GAAR,OAAmBA,EAAOC,SAASC,cAAcC,QAAQJ,EAAMG,gBAAkB,GAC/FE,YAAU,EAPZ,SAQG3K,IAAEzE,IAAIiO,GAAO,gBAAE9N,EAAF,EAAEA,GAAI8E,EAAN,EAAMA,SAAN,OAAoB,kBAAQoK,OAAR,CAAeC,MAAOnP,EAAIqO,MAAOvJ,EAAjC,SAA2C,cAAC,UAAD,CAC3E9D,KAAM8D,cAIXiJ,EAAa,WACd,kBAAMK,KAAN,2BAAexC,GAAf,IAA2B5K,KAAK,SAAhC,SACE,cAACgP,EAAD,aAQV,kBAAM5B,KAAN,CAAWpN,KAAK,YAAYqN,MAAM,SAAS4B,cAAc,UAAzD,SACE,mBAAQC,gBAAiB,SAAUC,kBAAmB,eAGxD,kBAAM/B,KAAN,CAAWzC,WAAY,CAACrB,KAAM,IAAK9C,MAAO,CAACmI,aAAc,GAAIC,cAAY,EAAzE,SAEG,YAAsB,IAEfpD,GAASqD,EAFK,EAAnBA,eAE4B,UAE7B,OACE,mCACGrD,GAAU,qCACT,sBAEA,kBAAM4B,KAAN,2BAAe3C,GAAf,IAAuBzK,KAAK,WAAWqN,MAAM,WAAWC,MAAO,CAC7D,CAACC,UAAU,EAAM3M,QAAS,2BAD5B,SAGE,yBAGF,kBAAMwM,KAAN,2BAAe3C,GAAf,IAAuBzK,KAAK,QAAQqN,MAAM,QAAQC,MAAO,CACvD,CAACxN,KAAM,QAASc,QAAS,iCACzB,CAAC2M,UAAU,EAAM3M,QAAS,wBAF5B,SAIE,yBAGF,kBAAMwM,KAAN,2BAAe3C,GAAf,IAAuBzK,KAAK,WAAWqN,MAAM,WAAWC,MAAO,CAC7D,CAACC,UAAU,EAAM3M,QAAS,0BAC1B,CAAC6N,IAAK,EAAG7N,QAAS,4CAFpB,SAIE,yBAGF,kBAAMwM,KAAN,2BAAexC,GAAf,IAA2B5K,KAAK,oBAAoBiP,cAAc,UAAlE,SACE,uDAEE,mBAASnO,MAAM,8CAAf,SACE,cAAC,IAAD,oBAYhB,kBAAMsM,KAAN,CAAWzC,WAAY,CAACrB,KAAM,IAAK9C,MAAO,CAACmI,aAAc,GAAIC,cAAY,EAAzE,SAEG,YAAsB,IAApBC,EAAmB,EAAnBA,cAEKnD,EAAoBmD,EAAc,qBAClCrD,EAASqD,EAAc,UAE7B,OACE,mCACGrD,IAAWE,GAAqB,qCAC/B,sBAEA,kBAAM0B,KAAN,2BAAe3C,GAAf,IAAuBzK,KAAK,WAAWqN,MAAM,WAAW+B,aAAW,EAAC9B,MAAO,CACzE,CAACC,UAAU,EAAM3M,QAAS,0BAC1B,CAAC6N,IAAK,EAAG7N,QAAS,4CAFpB,SAIE,kBAAOyO,SAAP,CAAgBvP,KAAK,gBAGvB,kBAAMsN,KAAN,2BAAe3C,GAAf,IAAuBzK,KAAK,kBAAkBqN,MAAM,mBAAmBiC,aAAc,CAAC,YAC3EF,aAAW,EACX9B,MAAO,CACL,CAACC,UAAU,EAAM3M,QAAS,gCAC1B,gBAAEiO,EAAF,EAAEA,cAAF,MAAsB,CACpBU,UADoB,SACVC,EAAMrB,GACd,OAAKA,GAASU,EAAc,cAAgBV,EAGrCtJ,QAAQC,OAAO,oDAFbD,QAAQpF,cAPlC,SAaE,kBAAO4P,SAAP,CAAgBvP,KAAK,WAAW2N,YAAY,0C,GA7NnCzB,IAAMyD,WA6PtBC,uBAbS,SAACC,GAAW,IAAD,EACuDA,EAAjFC,aAAenL,OAASoL,EADE,EACFA,QAASC,EADP,EACOA,OAAoBjD,EAA4B8C,EAAtClH,QAAUoE,SAAkBC,EAAU6C,EAAjBI,KAAOjD,MAC9E,MAAO,CACLF,QAAS,CACPoD,OAAQC,oBAAUN,EAAO3N,oBACzBkO,KAAMD,oBAAUN,EAAOtN,qBACvBoG,QAASwH,oBAAUN,EAAOjI,eAC1BqI,KAAME,oBAAUN,EAAOxH,aAEzB0E,WAAUC,QAAO+C,UAASC,YAIU,CACtC/N,kCACAK,oCACAqF,0CACAS,yBAJawH,CAKZ5E,GAEH,IAAMkE,EAAoB,SAAC,GAA4B,IAAD,IAA1Bb,aAA0B,MAAlB,GAAkB,EAAdgC,EAAc,EAAdA,SAAc,EAEzBhK,oBAAS,GAFgB,mBAE7CqF,EAF6C,KAErC4E,EAFqC,KAepD,OACE,mBAAQ5J,MAAO,CAAC6J,QAAS,GAAIvQ,KAAK,OAAOoN,QAPd,SAAC9N,GAC5B,IANqBkR,EAMfnC,GAAS3C,EACf4E,EAASjC,GAPYmC,EAQPnC,EAPVgC,GACFA,EAASG,IAUX,SACGnC,EAAM3C,QAAUA,EAAS,eAAiB,4B,0EC5TlC+E,uBADO,SAAAxF,GAAK,OAAI,cAAC,IAAD,eAAsBA,MACZ,CACvCyF,SAAS,K,iCCLX,wIAMMC,EAAUC,cACVC,EAAkBC,YAAiBH,GAEnCI,EAAc,CAACC,IAAOH,GACtBI,EAAmBC,OAAOC,sCAAwCC,IAEzD,SAASC,EAAeC,GAUrC,OATcC,YAAYC,kBAASb,GAAUW,EAC3CL,EAAiBQ,IAAe,WAAf,EAAmBV,O,qSCKlCpG,EAAS,CACbC,SAAU,CAACpB,KAAM,GACjBqB,WAAY,CAACrB,KAAM,KAGfkI,E,kDAEJ,WAAYzG,GAAQ,IAAD,8BACjB,cAAMA,IAeRC,SAAY,WAAO,IACVC,EAAW,EAAKC,MAAhBD,QADS,EAEiC,EAAKF,MAA/CI,EAFS,EAETA,IAAKlI,EAFI,EAEJA,gBAAiBE,EAFb,EAEaA,iBAC7B8H,EAAQG,QACLC,iBACAjL,MAAK,SAAAG,GACA4K,EACFhI,EAAiBgI,EAAInM,GAAIuB,GAEzB0C,EAAgB1C,MAEnBC,OAAM,SAACuL,GAAD,OAAUrL,QAAQC,IAAI,mBAAoBoL,OA3BlC,EA8BnB0F,aAAe,SAACC,GACd,EAAKC,SAAS,CAACD,UA/BE,EAkCnBE,kBAAoB,WAAkB,IAAjBC,EAAgB,uDAAP,GAC5B,OAAOvO,IAAEwO,EAAQ,KACdC,QAAO,SAACL,GAAD,OAAUA,EAAKM,QAAU1O,IAAE2O,SAASP,EAAKM,OAAOE,YAAa,eACpErT,KAAI,SAAA6S,GACH,IAAMvD,EAAQ7K,IAAE6O,UAAU7O,IAAEoD,QAAQgL,EAAKM,OAAOE,YAAa,WAAY,KACzE,MAAO,CACL7E,MAAO,qCAAE,cAAC,IAAD,CAAMvN,KAAMqO,IAAd,IAAwBA,KAC/BA,MAAO7K,IAAE6O,UAAU7O,IAAEoD,QAAQgL,EAAKM,OAAOE,YAAa,WAAY,SAGrEH,QAAO,gBAAE5D,EAAF,EAAEA,MAAF,OAAa7K,IAAE2O,SAAS9D,EAAO0D,MACtC1D,SA3CH,EAAKjD,MAAQ,CACXD,QAASe,IAAMC,YACfyF,KAAM,IAJS,E,+DAQAxF,EAAWC,EAAWC,IAClCF,EAAUG,MAAQC,KAAKvB,MAAMsB,OAChCC,KAAKpB,MAAMD,QAAQG,QAAQmB,cACvBD,KAAKvB,MAAMI,KACbmB,KAAKpB,MAAMD,QAAQG,QAAQqB,eAAeH,KAAKvB,MAAMI,Q,+BAoCjD,IAAD,EAEgCmB,KAAKvB,MAArCsB,EAFA,EAEAA,KAAMM,EAFN,EAEMA,SAAUxB,EAFhB,EAEgBA,IAAKyB,EAFrB,EAEqBA,QAFrB,EAIiBN,KAAKpB,MAAtBD,EAJA,EAIAA,QAASyG,EAJT,EAISA,KAEhB,OACE,mBACE1E,QAASX,EACTvL,MAAM,gBACN6L,SAAUA,EACVM,OAAQ,CACN,mBAAmBC,QAASP,EAA5B,mBAAY,QACZ,mBAAqB7M,KAAK,UAAU8M,QAASA,EAAQzB,EAAM,OAAS,UAC5D+B,QAASZ,KAAKtB,SADtB,mBAAY,WANhB,SAUE,8CAAUP,GAAV,IAAkB0C,IAAKlC,EAASjL,KAAK,cAAcgL,SAAUsB,KAAKtB,SAAlE,UAEE,kBAAMoC,KAAN,CAAWpN,KAAK,OAAOqN,MAAM,aAAaC,MAAO,CAC/C,CAACC,UAAU,EAAM3M,QAAS,6BAD5B,SAGE,wBAGF,kBAAMwM,KAAN,CAAWpN,KAAK,cAAcqN,MAAM,cAApC,SACE,kBAAO+E,SAAP,MAGF,kBAAMhF,KAAN,CAAWpN,KAAK,OAAOqN,MAAM,OAA7B,SACE,mBAAcgF,QAAS/F,KAAKsF,kBAAkBF,GAAOY,SAAUhG,KAAKmF,2B,GAhF5DzF,IAAMyD,WAqGXC,uBATS,SAACC,GACvB,MAAO,CACL/C,QAAS,CACPoD,OAAQC,oBAAUN,EAAOzM,qBACzBgN,KAAMD,oBAAUN,EAAOvM,0BAKW,CAACH,kCAAiBE,qCAA3CuM,CAA8D8B,I,8ZCpGvE/G,EAAS,CACbC,SAAU,CAACpB,KAAM,GACjBqB,WAAY,CAACrB,KAAM,KAGfiJ,E,kDAMJ,WAAYxH,GAAQ,IAAD,8BACjB,cAAMA,IALRyH,YAAc,8BAIK,EAFnBC,UAAY,sBAEO,EAoBnBzH,SAAY,WAAO,IACVC,EAAW,EAAKC,MAAhBD,QADS,EAEuB,EAAKF,MAArCI,EAFS,EAETA,IAAKtI,EAFI,EAEJA,WAAYE,EAFR,EAEQA,YACxBkI,EAAQG,QACLC,iBACAjL,MAAK,YAAyB,IAAvB2L,EAAsB,EAAtBA,KAASxL,EAAa,wBACtBmS,EAAQ3G,EAAO,EAAK0G,UAAY1G,EAAO,KACzCZ,EAAInM,GACN+D,EAAYoI,EAAInM,GAAL,aAAU+M,KAAM2G,GAAUnS,IAErCsC,EAAW,aAACkJ,KAAM2G,GAAUnS,OAE/BC,OAAM,SAACuL,GAAD,OAAUrL,QAAQC,IAAI,mBAAoBoL,OAhClC,EAmCnB0F,aAAe,SAACC,GACd,EAAKC,SAAS,CAACD,UApCE,EAuCnBE,kBAAoB,WAAkB,IAAjBC,EAAgB,uDAAP,GAC5B,OAAOvO,IAAEwO,EAAQ,KACdC,QAAO,SAACL,GAAD,OAAUA,EAAKM,QAAU1O,IAAE2O,SAASP,EAAKM,OAAOE,YAAa,eACpErT,KAAI,SAAA6S,GACH,IAAMvD,EAAQ7K,IAAE6O,UAAU7O,IAAEoD,QAAQgL,EAAKM,OAAOE,YAAa,WAAY,KACzE,MAAO,CACL7E,MAAO,qCAAE,cAAC,IAAD,CAAMvN,KAAMqO,IAAd,IAAwBA,KAC/BA,MAAO7K,IAAE6O,UAAU7O,IAAEoD,QAAQgL,EAAKM,OAAOE,YAAa,WAAY,SAGrEH,QAAO,gBAAE5D,EAAF,EAAEA,MAAF,OAAa7K,IAAE2O,SAAS9D,EAAO0D,MACtC1D,SAhDH,EAAKjD,MAAQ,CACXD,QAASe,IAAMC,YACfyF,KAAM,IAJS,E,+DAQAxF,EAAWC,EAAWC,GACvC,IAAKF,EAAUG,MAAQC,KAAKvB,MAAMsB,OAChCC,KAAKpB,MAAMD,QAAQG,QAAQmB,cACvBD,KAAKvB,MAAMI,KAAK,CAAC,IAAD,EACSmB,KAAKvB,MAAMI,IAA/BY,EADW,EACXA,KAAaZ,GADF,EACLnM,GADK,8BAEZ0T,EAAQ3G,EAAOzI,IAAEoD,QAAQqF,EAAMO,KAAKmG,UAAW,IAAM,KAE3DnG,KAAKpB,MAAMD,QAAQG,QAAQqB,eAA3B,uCADa,CAACC,WAAW,EAAMiG,WAAW,IACaxH,GAAvD,IAA4DY,KAAM2G,Q,+BAsC9D,IAAD,EAE0CpG,KAAKvB,MAA/CsB,EAFA,EAEAA,KAAMM,EAFN,EAEMA,SAAUxB,EAFhB,EAEgBA,IAAKyB,EAFrB,EAEqBA,QAASgG,EAF9B,EAE8BA,SAF9B,EAIiBtG,KAAKpB,MAAtBD,EAJA,EAIAA,QAASyG,EAJT,EAISA,KAEhB,OACE,mBACE1E,QAASX,EACTvL,MAAM,UACN2F,MAAO,IACPkG,SAAUA,EACVM,OAAQ,CACN,mBAAmBC,QAASP,EAA5B,mBAAY,QACZ,mBAAqB7M,KAAK,UAAU8M,QAASA,EAAQzB,GAAOA,EAAInM,GAAK,OAAS,UACtEkO,QAASZ,KAAKtB,SADtB,mBAAY,WAPhB,SAWE,8CAAUP,GAAV,IAAkB0C,IAAKlC,EAASjL,KAAK,cAAcgL,SAAUsB,KAAKtB,SAAlE,UAEE,kBAAMoC,KAAN,CAAWpN,KAAK,mBAAmBqN,MAAO,gBAAiBC,MAAO,CAChE,CAACC,UAAU,EAAM3M,QAAS,qCAD5B,SAGE,mBACE4M,YAAU,EACVC,YAAY,eACZC,iBAAiB,WACjBC,aAAc,SAACC,EAAOC,GAAR,OAAmBA,EAAOC,SAASC,cAAcC,QAAQJ,EAAMG,gBAAkB,GAC/FnB,QAASA,EAAQnE,QACjBwF,YAAU,EANZ,SAOG3K,IAAEzE,IAAI+T,GAAU,gBAAE5T,EAAF,EAAEA,GAAIgB,EAAN,EAAMA,KAAN,OAAgB,kBAAQkO,OAAR,CAAeC,MAAOnP,EAAtB,SAA2BgB,WAIhE,kBAAMoN,KAAN,CAAWpN,KAAK,OAAOqN,MAAM,eAAeC,MAAO,CACjD,CAACC,UAAU,EAAM3M,QAAS,6BAD5B,SAGE,wBAGF,kBAAMwM,KAAN,CAAWpN,KAAK,cAAcqN,MAAM,cAApC,SACE,kBAAO+E,SAAP,MAGF,kBAAMhF,KAAN,CAAWpN,KAAK,OAAOqN,MAAM,OAA7B,SACE,mBAAcgF,QAAS/F,KAAKsF,kBAAkBF,GAAOY,SAAUhG,KAAKmF,iBAGtE,kBAAMrE,KAAN,CAAWpN,KAAK,SAASqN,MAAM,SAASC,MAAO,CAC7C,CAACC,UAAU,EAAM3M,QAAS,0BAD5B,SAGE,8BACE,kBAAQsN,OAAR,CAAeC,MAAM,MAArB,SAA2B,kBAAYnE,KAAZ,CAAiBR,QAAM,EAAC1J,KAAM,UAA9B,mBAC3B,kBAAQoO,OAAR,CAAeC,MAAM,OAArB,SAA4B,kBAAYnE,KAAZ,CAAiBR,QAAM,EACN1J,KAAM,UADvB,yBAKhC,kBAAMsN,KAAN,CAAWpN,KAAK,WAAWqN,MACzB,gDAEE,mBAASvM,MAAM,mCAAf,SACA,cAAC,IAAD,SAGFwM,MAAO,CACP,CAACC,UAAU,EAAM3M,QAAS,2BAR5B,SAUE,mBAAOiS,OAAQvG,KAAKkG,gBAGtB,kBAAMpF,KAAN,CAAWpN,KAAK,MAAMqN,MACpB,kDAEE,mBAASvM,MAAM,sCAAf,SACA,cAAC,IAAD,SAGFwM,MAAO,CACP,CAACxN,KAAM,MAAOc,QAAS,kCACvB,CAAC2M,UAAU,EAAM3M,QAAS,6BAT5B,SAWE,wBAGF,kBAAMwM,KAAN,CAAWpN,KAAK,OAAOqN,MAAM,YAA7B,SACE,mBAAOwF,OAAQvG,KAAKmG,cAGtB,kBAAMrF,KAAN,CAAWpN,KAAK,YAAYqN,MAAM,SAAS4B,cAAc,UAAzD,SACE,mBAAQC,gBAAiB,SAAUC,kBAAmB,eAGxD,kBAAM/B,KAAN,CAAWpN,KAAK,YAAYqN,MAAM,SAAS4B,cAAc,UAAzD,SACE,mBAAQC,gBAAiB,SAAUC,kBAAmB,wB,GAzJ5CnD,IAAMyD,WAgLbC,uBAXS,SAACC,GAEvB,MAAO,CACLiD,SAF4BjD,EAAvBxN,QAAUyQ,SAGfhG,QAAS,CACPoD,OAAQC,oBAAUN,EAAO7M,eACzBoN,KAAMD,oBAAUN,EAAO3M,oBAKW,CAACH,wBAAYE,2BAAtC2M,CAAoD6C,I,iCC9MnE,yIAgCeO,UAhBE,SAACrC,GAAD,OAAasC,YAAgB,CAC5CC,OAAQC,YAAcxC,GACtByC,GAAIC,UACJC,SAAUC,UACVC,KAAMC,UACNC,aAAcC,UACdtR,QAASoQ,UACT3C,aAAc8D,UACdC,MAAOC,UACPnL,QAASoL,UACT9D,KAAM+D,UACNC,OAAQC,UACRC,MAAOC,UACPvT,IAAKwT,c,iCC7BP,6BAGMC,EAAY,CAChBC,GAAIC,WAGNC,YAAcH,EAAUC,GAAGhU,MAEZ+T,a,8WCeRI,E,IAAAA,QAEDC,E,kLAEiB,IAAD,EAC0BnI,KAAKvB,MAA1CrF,EADW,EACXA,MAAO+K,EADI,EACJA,QAASiE,EADL,EACKA,SAAUtP,EADf,EACeA,QAC7BM,EACFxF,UAAMyU,SAASC,QAAQC,OAAvB,cAAiD,UAAYnP,EAE7D+K,EAAQqE,KAAK,KACXpP,IAAUgP,GAAUtP,M,yCAGP8G,EAAWC,EAAWC,GAAW,IAAD,EACxBE,KAAKvB,MAAvBrF,EAD0C,EAC1CA,MAAO+K,EADmC,EACnCA,QACT/K,GAAO+K,EAAQqE,KAAK,O,+BAGjB,IAAD,EACuCxI,KAAKvB,MAA5CgK,EADA,EACAA,MAAOnI,EADP,EACOA,QAASoI,EADhB,EACgBA,UAAWN,EAD3B,EAC2BA,SAElC,OACE,qBAAK1V,GAAI,wCAAT,SACE,mBAAMiW,SAAUrI,EAAS1D,KAAM,QAA/B,SACGwL,EACD,8BACE,cAAC,UAAD,IACA,oBAAQvL,UAAU,cAAc3C,MAAO,CAAC0O,WAAY,GAAIC,OAAQ,QAASC,SAAU,QAAnF,UACE,cAAC,UAAD,IACCV,GAAYA,EAASW,cAAgB,mBAAOzU,QAC3C,iCAAM,kBAAYoJ,KAAZ,CAAiBR,QAAM,EAAvB,kCAAN,4CAA6G,kBAAYQ,KAAZ,CAAiBR,QAAM,EAAvB,SAAyBkL,EAASW,kBAC/IC,QAAM,IACR,eAACd,EAAD,CAAShO,MAAO,CACdI,OAAQ,YACR2O,UAAW,KAFb,UAKE,eAAC,IAAD,WAEE,cAAC,IAAD,CAAUC,OAAK,EAACC,KAAI,UAAKV,EAAMpR,IAAX,KAAmB+R,GAAE,UAAKX,EAAMpR,IAAX,iBAEzC,cAAC,IAAD,CAAOgS,KAAI,UAAKZ,EAAMpR,IAAX,YAA0BiS,UAAWC,YAChD,cAAC,IAAD,CAAOF,KAAI,UAAKZ,EAAMpR,IAAX,eAA6BiS,UAAWE,YAClDd,EAAUe,iBAAiB,cAAC,IAAD,CAAOJ,KAAI,UAAKZ,EAAMpR,IAAX,YAA0BiS,UAAW5B,YAC3EgB,EAAUgB,eAAe,cAAC,IAAD,CAAOL,KAAI,UAAKZ,EAAMpR,IAAX,UAAwBiS,UAAW1B,YAEvEc,EAAUiB,iBAAiB,cAAC,IAAD,CAAON,KAAI,UAAKZ,EAAMpR,IAAX,YAA0BiS,UAAWrD,YAC3EyC,EAAUiB,iBAAiB,cAAC,IAAD,CAAON,KAAI,UAAKZ,EAAMpR,IAAX,YAA0BiS,UAAW/B,YAC3EmB,EAAUkB,sBAAsB,cAAC,IAAD,CAAOP,KAAI,UAAKZ,EAAMpR,IAAX,iBAA+BiS,UAAWlC,YACrFsB,EAAUmB,uBAAuB,cAAC,IAAD,CAAOR,KAAI,UAAKZ,EAAMpR,IAAX,kBAAgCiS,UAAWQ,YACvFpB,EAAUqB,oBAAoB,cAAC,IAAD,CAAOV,KAAI,UAAKZ,EAAMpR,IAAX,eAA6BiS,UAAWU,YAOlF,cAAC,IAAD,CAAUZ,GAAG,YAIf,cAAC,UAAD,aAIM,qBAAKlP,MAAO,CAAC2O,OAAQ,mB,GA/DzBnJ,IAAMyD,WA+ET8G,sBAAW7G,aATF,SAACC,GAAW,IAAD,EACCA,EAA3B2D,KAAO5N,EADmB,EACnBA,MAAOgP,EADY,EACZA,SACrB,MAAO,CACL9H,QAASqD,oBAAUN,EAAOtK,aAC1B2P,UAAWA,oBAAUrF,GACrBjK,QAAOgP,cAIwC,CAACtP,mBAA1BsK,CAAoC+E,K,uLC/FvD+B,E,IAAAA,MAIDC,E,uKAEM,IAAD,EAC8CnK,KAAKvB,MAAnD2J,EADA,EACAA,SAAUgC,EADV,EACUA,aAAcvM,EADxB,EACwBA,mBAC/B,OACE,eAACqM,EAAD,CACEG,QAAS,KACTC,aAAW,EACXC,UAAWH,EACXpQ,YAAa,kBAAM6D,GAAmB,IACtC5D,WAAY,kBAAM4D,GAAmB,IACrC3D,MAAO,CACL4O,SAAU,OACVD,OAAQ,QACR2B,SAAU,QACVC,KAAM,EACNC,OAAQ,GAXZ,UAaE,mBAAKlX,KAAM,OAAQ0G,MAAO,CAACyQ,WAAY,SAAUxQ,MAAO,QAAxD,SACGiQ,EACC,qBAAKvN,UAAW,OAAQ+N,IAA8B,UAAWC,IAAK,SACtE,qBAAKhO,UAAW,OAAQ+N,IAA8B,2BAA4BC,IAAK,WAE1FzC,GAAY,cAAC,UAAD,W,GAvBC1I,IAAMyD,WAoCb8G,sBAAW7G,aANF,SAAC,GAAsB,IAArB0D,EAAoB,EAApBA,SAAUE,EAAU,EAAVA,KAGlC,MAAO,CAACoD,aAFetD,EAAhBsD,aAEehC,SADHpB,EAAZoB,YAI0C,CAACvK,yCAA1BuF,CAA+C+G,K,oUChClEW,G,WAAAA,QACAC,E,IAAAA,KAEDC,E,uKAEM,IAAD,EAC0EhL,KAAKvB,MAA/E2J,EADA,EACAA,SAAwB9O,GADxB,EACU8Q,aADV,EACwB9Q,aAAiC0E,GADzD,EACqCH,mBADrC,EACyDG,eAEhE,OACE,cAAC8M,EAAD,CAAQjO,UAAU,yBAAyB3C,MAAO,CAAC6J,QAAS,GAA5D,SACE,8BACE,mBAAKkH,KAAK,SAMV,4BACE,mBAAMC,KAAM,aAAcC,YAAY,EAAtC,SACG/C,GAAY,kBAAMtH,KAAN,CAAqB5G,MAAO,CAACkR,MAAO,SAApC,SACX,mBACEC,UAAU,cACVC,QAAS,cAACC,EAAD,CACP/W,MAAO4T,EAAS5Q,SAChB4E,YAAagM,EAASzQ,MACtB6T,QAAS,CACP,cAAC,IAAD,CAA+B5K,QAAS,kBAAM5C,GAAc,KAAvC,WACrB,cAAC,IAAD,CAA6B4C,QAAStH,GAAlB,aAExB+Q,QAAQ,QACRoB,aAAc,CAAC1H,QAAS,KAV1B,SAWE,mBAAKvQ,KAAM,OAAQ0G,MAAO,CAACyQ,WAAY,SAAUrQ,OAAQ,SAAzD,SACE,cAAC,UAAD,CAAY5G,KAAM0U,EAAS5Q,gBAbJ,kB,GAhBtBkI,IAAMyD,WAgDZC,uBANS,SAAC,GAAsB,IAArB0D,EAAoB,EAApBA,SAAUE,EAAU,EAAVA,KAGlC,MAAO,CAACoD,aAFetD,EAAhBsD,aAEehC,SADHpB,EAAZoB,YAI+B,CAAC9O,0BAAauE,wCAAoBG,+BAA3DoF,CAA2E4H,GAE1F,IAAMO,EAAgB,SAAC9M,GAAW,IACzBjK,EAA+BiK,EAA/BjK,MAAO4H,EAAwBqC,EAAxBrC,YAAaoP,EAAW/M,EAAX+M,QAC3B,OAAO,mBACLtR,MAAO,CAACC,MAAO,KACfuR,MACE,qBACEb,IAAI,UACJD,IAAI,wEAGRY,QAASA,EARJ,SAUL,cAACT,EAAD,CACEY,OAAQ,cAAC,UAAD,CAAYjY,KAAMc,EAAOkG,MAAI,IACrClG,MAAOwC,IAAEiE,UAAUzG,GACnB4H,YAAaA,Q,qOCzEbwP,E,kDAEJ,WAAYnN,GAAQ,IAAD,8BACjB,cAAMA,IAMRoN,aAAe,gBAAEC,EAAF,EAAEA,IAAF,OAAW,EAAKzG,SAAS,CAAC0G,aAAcD,KALrD,EAAKlN,MAAQ,CACXmN,aAAc,WAHC,E,qDAST,IAAD,EAC8B/L,KAAKvB,MAAnCuN,EADA,EACAA,YAAahO,EADb,EACaA,cACb+N,EAAgB/L,KAAKpB,MAArBmN,aAEP,OACE,mBACErL,QAASsL,EACTxX,MAAM,UACN6L,SAAU,kBAAMrC,GAAc,IAAQ7D,MAAO,IAC7C8R,UAAW,CAAClI,QAAS,GACrBpD,OAAQ,KALV,SAOE,8BACE,kBAAQuJ,MAAR,CAAcrN,UAAU,yBAAyB1C,MAAO,IAAxD,SACE,oBACE+Q,KAAK,SACLgB,oBAAqB,CAACH,GACtBI,SAAUnM,KAAK6L,aACf3R,MAAO,CAAC2O,OAAQ,QAJlB,UAKE,kBAAM/H,KAAN,CAA2BsE,KAAM,cAAC,IAAD,IAAjC,oBAAgB,WAChB,kBAAMtE,KAAN,CAA4BsE,KAAM,cAAC,IAAD,IAAlC,qBAAgB,iBAGpB,mBAAQ8C,QAAR,CAAgBhO,MAAO,CAACI,OAAQ,QAAhC,UACE,cAAC8R,EAAD,CAAavK,MAAOkK,EAAc/S,KAAM,UAAWsQ,UAAW,cAAC,UAAD,MAC9D,cAAC8C,EAAD,CAAavK,MAAOkK,EAAc/S,KAAM,WAAYsQ,UAAW,cAAC,UAAD,kB,GApCrD5J,IAAMyD,WAmDbC,uBALS,SAAC,GAEvB,MAAO,CAAC4I,YAF8B,EAAdlF,SACjBkF,eAI+B,CAAChO,+BAA1BoF,CAA0CwI,GAEzD,IAAMQ,EAAc,SAAC,GAAD,IAAEpT,EAAF,EAAEA,KAAM6I,EAAR,EAAQA,MAAOyH,EAAf,EAAeA,UAAf,OAClBtQ,IAAS6I,EAAQyH,EAAY,O,iCCnE/B,OAAe,qBACb,MAAQ,0B,oFCYKW,uBAPM,SAAC,GAAD,IAAExB,EAAF,EAAEA,MAAF,OACnB,eAAC,IAAD,WACE,cAAC,IAAD,CAAOY,KAAI,UAAKZ,EAAMpR,IAAX,UAAwBiS,UAAW+C,YAC9C,cAAC,IAAD,CAAOhD,KAAI,UAAKZ,EAAMpR,IAAX,KAAmBiS,UAAWgD,mB,8UCWvC5E,E,kDAEJ,WAAYjJ,GAAQ,IAAD,8BACjB,cAAMA,IAkCR8N,MAAQ,kBAAM,EAAK9N,MAAM+N,aAnCN,EAqCnBC,OAAS,SAACX,GACR,IAAIY,EAAQC,SAASC,cAAc,YACnCD,SAASE,KAAKC,YAAYJ,GAC1BA,EAAM7K,MAAQiK,EACdY,EAAMK,SACNJ,SAASK,YAAY,QACrBL,SAASE,KAAKI,YAAYP,GAC1B,EAAKrH,SAAS,CAAC6H,OAAQpB,KA1CvB,EAAKlN,MAAQ,CACXsO,OAAQ,KACRC,OAAQ,CACN,CACE3Y,MAAO,UACP4Y,UAAW,UACXtB,IAAK,UACLpG,OAAQ,SAACoG,GAAD,OACN,8BACGA,EACD,mBAAStX,MAAO,EAAKoK,MAAMsO,SAAWpB,EAAM,SAAW,OAAvD,SACE,mBAAQtY,KAAK,OAAO4R,KAAM,cAAC,IAAD,IAAiBxE,QAAS,kBAAM,EAAK6L,OAAOX,eAbjE,E,gEAuBjB9L,KAAKvB,MAAM4O,c,yCAGMzN,EAAWC,EAAWC,IAClCF,EAAU2D,SAAWvD,KAAKvB,MAAM8E,UACnCvD,KAAKvB,MAAM4O,YACXrN,KAAKvB,MAAMlF,mB,6CAISyG,KAAKvB,MAAM6O,qB,+BAezB,IAAD,EACiBtN,KAAKvB,MAAtB6B,EADA,EACAA,QAASrN,EADT,EACSA,KACTka,EAAUnN,KAAKpB,MAAfuO,OAEP,OACE,oBAAOxQ,UAAW,WAAYzC,MAAO,CAACC,MAAO,QAA7C,UACE,kBAAYE,MAAZ,CAAkBX,MAAO,EAAzB,qBACA,mBAAM6T,UAAU,EAAOrT,MAAO,CAAC+O,UAAW,KAA1C,SACE,mBAAMN,SAAUrI,EAAQzM,IAAxB,SACE,oBAAO8I,UAAW,WAAYzC,MAAO,CAACC,MAAO,QAA7C,UACE,mBAAQ3G,KAAK,UACL0G,MAAO,CAACkR,MAAO,SACfhG,KAAM,cAAC,IAAD,IACN9E,QAASA,EAAQkN,IACjB5M,QAASZ,KAAKuM,MAJtB,iBAOA,mBAAOkB,QAASN,EACTO,WAAYza,EACZ0a,OAAQ,KACRzT,MAAO,CAACC,MAAO,wB,GAtEfuF,IAAMyD,WA2FZC,uBAXS,SAACC,GAAW,IAAD,EACWA,EAArCoE,OAASxU,EADiB,EACjBA,KAAesQ,EADE,EACXpL,OAASoL,QAC/B,MAAO,CACLjD,QAAS,CACPzM,IAAK8P,oBAAUN,EAAOuK,eACtBJ,IAAK7J,oBAAUN,EAAOwK,gBAExB5a,OAAMsQ,aAI8B,CACtC8J,sBAAWb,sBAAWjT,8BAAe+T,qCADxBlK,CAEZsE,I,oFCpGYuC,uBAPI,SAAC,GAAD,IAAExB,EAAF,EAAEA,MAAF,OACjB,eAAC,IAAD,WACE,cAAC,IAAD,CAAOY,KAAI,UAAKZ,EAAMpR,IAAX,aAA2BiS,UAAW1B,YACjD,cAAC,IAAD,CAAOyB,KAAI,UAAKZ,EAAMpR,IAAX,KAAmBiS,UAAWrD,mB,oFCI9BgE,uBAPM,SAAC,GAAD,IAAExB,EAAF,EAAEA,MAAF,OACnB,eAAC,IAAD,WACE,cAAC,IAAD,CAAOY,KAAI,UAAKZ,EAAMpR,IAAX,mBAAiCiS,UAAW1B,YACvD,cAAC,IAAD,CAAOyB,KAAI,UAAKZ,EAAMpR,IAAX,KAAmBiS,UAAWrD,mB,oFCI9BgE,uBAPQ,SAAC,GAAD,IAAExB,EAAF,EAAEA,MAAF,OACrB,eAAC,IAAD,WACE,cAAC,IAAD,CAAOY,KAAI,UAAKZ,EAAMpR,IAAX,QAAsBiS,UAAW+C,YAC5C,cAAC,IAAD,CAAOhD,KAAI,UAAKZ,EAAMpR,IAAX,KAAmBiS,UAAWwE,mB,ynBCgC7CC,IAAkBC,iBAAiB,OAAQC,K,IAErCjE,G,kDAEJ,WAAYvL,GAAQ,IAAD,8BACjB,cAAMA,IAiBRoN,aAAe,YAAY,IAAVC,EAAS,EAATA,IAAS,EAEI9U,IAAE4D,MAAMkR,EAAK,KAFjB,mBAEFpZ,GAFE,gBAGxB,EAAK+L,MAAM7C,aACX,EAAKyJ,SAAS,CAACxP,QAASqY,SAASxb,KAC7B,EAAKkM,MAAMI,SAAS,EAAKP,MAAM0P,aAAaD,SAASxb,GAAK,EAAKkM,MAAMI,UAvBxD,EA0BnBoP,eAAiB,SAACpP,GAChB,EAAKP,MAAM0P,aAAa,EAAKvP,MAAM/I,QAASmJ,GAC5C,EAAKqG,SAAS,CAACrG,QAASkP,SAASlP,MA5BhB,EA+BnBqP,aAAe,WAAiB,IAAhBxP,EAAe,uDAAT,KAAU,EAAKwG,SAAS,CAACtF,MAAM,EAAMlB,SA/BxC,EAiCnByP,WAAa,WAAO,EAAKjJ,SAAS,CAACtF,MAAM,EAAOlB,IAAK,QAjClC,EAmCnB0P,WAAa,SAACN,GAAU,OAAOO,KAAKC,UAAUD,KAAKE,MAAMT,GAAO,KAAM,OAjCpE,EAAKrP,MAAQ,CACX/I,QAAS,KAAMmJ,QAAS,KACxBe,MAAM,EAAOlB,IAAK,MAJH,E,gEASjBmB,KAAKvB,MAAMzI,kB,6CAIXgK,KAAKvB,MAAM6O,qB,+BAwBH,IAAD,SAEkCtN,KAAKvB,MAAvC6H,EAFA,EAEAA,SAAUhG,EAFV,EAEUA,QAASqO,EAFnB,EAEmBA,KAAMnO,EAFzB,EAEyBA,MAE1BiN,EAAU,CACd,CACEjZ,MAAO,SACP4Y,UAAW,cACXtB,IAAK,cACL8C,QAAS,CACP,CAACjV,KAAM,mBAAKzC,MAAM,OAAX,iBAA6B2K,MAAO,KAC3C,CAAClI,KAAM,mBAAKzC,MAAM,QAAX,iBAA8B2K,MAAO,KAC5C,CAAClI,KAAM,mBAAKzC,MAAM,WAAX,iBAAiC2K,MAAO,KAC/C,CAAClI,KAAM,mBAAKzC,MAAM,UAAX,iBAAgC2K,MAAO,KAC9C,CAAClI,KAAM,mBAAKzC,MAAM,SAAX,iBAA+B2K,MAAO,KAC7C,CAAClI,KAAM,IAAKkI,MAAO,OAErBgN,SAAU,SAAChN,EAAD,GAA2B,IAAlBiN,EAAiB,EAAjBA,YACjB,OAAIjN,EACKiN,EAAcjN,GAAS,GAAKiN,EAAcjN,EAAQ,EAElDA,IAAUiN,GAErBpJ,OAAQ,SAAAvN,GACN,OAAIA,GAAU,IACL,mBAAKjB,MAAM,SAAX,SAAqBiB,IACrBA,GAAU,IACV,mBAAKjB,MAAM,UAAX,SAAsBiB,IACtBA,GAAU,IACV,mBAAKjB,MAAM,WAAX,SAAuBiB,IACvBA,GAAU,IACV,mBAAKjB,MAAM,QAAX,SAAoBiB,IACpBA,GAAU,IACV,mBAAKjB,MAAM,OAAX,SAAmBiB,IAEnB,MAGb,CACE3D,MAAO,UACP4Y,UAAW,UACXtB,IAAK,UACLpG,OAAQ,SAAAqJ,GAAO,OAAK,gCAClB,kBAAYrR,KAAZ,CAAiBR,QAAM,EAAvB,SAAyB,EAAK0B,MAAMI,QAAUhI,IAAEgY,KAAKxO,EAAO,CAAC9N,GAAI,EAAKkM,MAAMI,UAAUxH,SAAW,MAAsB,uBACvH,kBAAYkG,KAAZ,CAAiBlK,KAAM,YAAa0G,MAAO,CAAEC,MAAO,KAAO8U,SAAU,CAACC,QAASH,GAA/E,SAA0FA,SAG9F,CACEva,MAAO,eACP4Y,UAAW,QACXtB,IAAK,QACL8C,QAAS5X,IAAE2X,GAAMpc,KAAI,YAAc,IAAZoV,EAAW,EAAXA,MACrB,OAAIA,EACK,CAAChO,KAAMgO,EAAMrE,aAAatQ,KAAM6O,MAAO8F,EAAMrE,aAAatQ,MAE1D,CAAC2G,KAAM,IAAKkI,MAAO,SAC3BsN,OAAO,SAAStN,QACnBgN,SAAU,SAAChN,EAAD,GAAqB,IAAZ8F,EAAW,EAAXA,MACjB,OAAI9F,EACK8F,GAASA,EAAMrE,aAAatQ,KAAK2S,SAAS9D,GAE1C8F,IAAU9F,GAErB6D,OAAQ,SAAA0J,GAAI,OAAIA,EAAOA,EAAK9L,aAAatQ,KAAO,MAElD,CACEwB,MAAO,aAAc4Y,UAAW,KAAMtB,IAAK,MAE7C,CACEtX,MAAO,QAAS4Y,UAAW,aAActB,IAAK,cAEhD,CACEtX,MAAO,OACP4Y,UAAW,oBACXtB,IAAK,oBACLuD,OAAQ,SAACC,EAAGC,GAAJ,OAAUrP,IAAOoP,EAAEE,mBAAqBtP,IAAOqP,EAAEC,oBACzD9J,OAAQ,SAAA+J,GAAI,OAAIvP,IAAOuP,GAAMxN,SAAS,EAAG,SAAS1C,OAAO,SAE3D,CACE/K,MAAO,SACP4Y,UAAW,qBACXtB,IAAK,qBACLpG,OAAQ,SAAC+J,EAAD,GAAgC,IAAxBD,EAAuB,EAAvBA,kBACd,GAAIC,EAAM,CACR,IAAMC,EAAWxP,IAAOwP,SAASxP,IAAOuP,GAAME,KAAKH,IAC7CI,EAAUC,KAAKC,MAAMJ,EAASK,aAC9BC,EAAUN,EAASO,YAAwB,GAAVL,EACvC,MAAM,GAAN,OAAUA,EAAV,cAAuBI,EAAvB,MAEA,MAAO,MAIb,CACExb,MAAO,MACPsX,IAAK,SACLpG,OAAQ,SAAC/L,EAAD,KAAQgO,MAAR,IAAkBuI,EAAlB,gCACN,kBAAY3V,KAAZ,CAAiBqG,QAAS,kBAAM,EAAKyN,aAAa6B,IAAlD,SACE,cAAC,KAAD,SAMR,OACE,oBAAOvT,UAAW,WAAYzC,MAAO,CAACC,MAAO,QAA7C,UACE,kBAAYE,MAAZ,CAAkBX,MAAO,EAAzB,wBACA,mBAAM6T,UAAU,EAAhB,SACE,mBAAM5E,SAAUrI,EAAQzK,QAAxB,SACE,oBAAQqE,MAAO,CAAC+O,UAAW,IAAKkH,OAAQ,qBAAxC,UACE,kBAAQjG,MAAR,CAAcrN,UAAU,yBAAyB1C,MAAO,IAAxD,SAEGmM,EAAS8J,OACR,mBACElF,KAAK,SACLmF,gBAAiB,CAAC,aAClBnW,MAAO,CAAC2O,OAAQ,QAChBsD,SAAUnM,KAAK6L,aAJjB,SAKG7U,IAAEzE,IAAI+T,GAAU,WAA6BgK,GAAU,EAArC5d,GAAsC,IAAlCgB,EAAiC,EAAjCA,KAAM0R,EAA2B,EAA3BA,KAAMkB,EAAqB,EAArBA,SACjC,OAAO,kBAAMiK,QAAN,CAAuCnL,KAAM,cAAC,KAAD,CAAM5R,KAAM4R,IAAS5Q,MAAOd,EAAzE,SACJsD,IAAEzE,IAAI+T,GAAU,WAAmBkK,GAAnB,IAAE9d,EAAF,EAAEA,GAAIgB,EAAN,EAAMA,KAAM0R,EAAZ,EAAYA,KAAZ,OACf,kBAAMtE,KAAN,CAA4CsE,KAAM,cAAC,KAAD,CAAM5R,KAAM4R,IAA9D,SAAwE1R,GAAxD,QAAU4c,EAAQ,IAAM5d,OAFlB,WAAa4d,QAMzC,wBAGN,kBAAQpI,QAAR,CAAgBhO,MAAO,CAAC6J,QAAS,UAAjC,SACE,oBAAM4E,SAAUrI,EAAQjM,IAAxB,UAEG2L,KAAKpB,MAAM/I,QACV,oBAAO8G,UAAW,WAAYzC,MAAO,CAACI,OAAQ,SAAUH,MAAO,QAA/D,UACE,mBAAQ+G,YAAU,EAACC,YAAY,iBAAiBC,iBAAiB,WACzDyC,SAAU7D,KAAKoO,eAAgB3L,gBAAiB,QAChDpB,aAAc,SAACC,EAAOC,GAAR,OAAmBA,EAAOC,SAASC,cAAcC,QAAQJ,EAAMG,gBAAkB,GAC/FnB,QAASA,EAAQmD,KACjBvJ,MAAO,CAACC,MAAO,KAJvB,SAKGnD,IAAEzE,IAAIiO,GAAO,gBAAE9N,EAAF,EAAEA,GAAI8E,EAAN,EAAMA,SAAN,OAAoB,kBAAQoK,OAAR,CAAeC,MAAOnP,EAAIqO,MAAOvJ,EAAjC,SAA2C,cAAC,UAAD,CAC3E9D,KAAM8D,WAETmX,EAAKyB,OACJ,mBAAO3C,QAASA,EAASC,WAAYiB,EAAMhB,OAAQ,KAAMzT,MAAO,CAACC,MAAO,QAASyC,KAAM,QAChF6T,OAAQ,CAACC,EAAG,UACjB,mBAAOC,MAAO,IAAMC,4BAGxB,mBAAOD,MAAO,IAAMC,yBAExB,mBACElQ,QAASV,KAAKpB,MAAMmB,KACpBvL,MAAM,cACN2F,MAAO,IACPkG,SAAUL,KAAKsO,WACf3N,OAAQ,CAAC,mBAAmBnN,KAAK,UAAUoN,QAASZ,KAAKsO,WAAhD,mBAAY,SALvB,SAOE,mBAAKuC,OAAQ,CAAC,IAAd,SACE,mBAAK5F,KAAK,OAAV,SACE,oBAAOtO,UAAW,WAAYzC,MAAO,CAACC,MAAO,QAA7C,UACE,kBAAYE,MAAZ,CAAkB3H,GAAI,iBAAkBgH,MAAO,EAA/C,2BACA,cAAC,IAAD,CAAmBoX,SAAS,OAAO5W,MAAO6W,KAA1C,SACG/Q,KAAKuO,WAAWvO,KAAKpB,MAAMC,IAAMmB,KAAKpB,MAAMC,IAAImS,cAAgB,QAEnE,kBAAY3W,MAAZ,CAAkB3H,GAAI,gBAAiBgH,MAAO,EAA9C,0BACA,cAAC,IAAD,CAAmBoX,SAAS,OAAO5W,MAAO6W,KAA1C,SACG/Q,KAAKuO,WAAWvO,KAAKpB,MAAMC,IAAMmB,KAAKpB,MAAMC,IAAIoS,aAAe,QAElE,kBAAY5W,MAAZ,CAAkB3H,GAAI,iBAAkBgH,MAAO,EAA/C,2BACA,cAAC,IAAD,CAAmBoX,SAAS,OAAO5W,MAAO6W,KAA1C,SACG/Q,KAAKuO,WAAWvO,KAAKpB,MAAMC,IAAMmB,KAAKpB,MAAMC,IAAIqS,cAAgB,QAEnE,kBAAY7W,MAAZ,CAAkB3H,GAAI,kBAAmBgH,MAAO,EAAhD,4BACA,cAAC,IAAD,CAAmBoX,SAAS,OAAO5W,MAAO6W,KAA1C,SACG/Q,KAAKuO,WAAWvO,KAAKpB,MAAMC,IAAMmB,KAAKpB,MAAMC,IAAIsS,eAAiB,oC,GApNtEzR,IAAMyD,WA2PfC,uBAZS,SAACC,GAAW,IACjBiD,EAAyCjD,EAAnDxN,QAAUyQ,SAAiBqI,EAAwBtL,EAA9BhP,IAAMsa,KAAcnO,EAAU6C,EAAjBI,KAAOjD,MAChD,MAAO,CACLF,QAAS,CACPzK,QAAS8N,oBAAUN,EAAOpN,mBAC1BwN,KAAME,oBAAUN,EAAOxH,YACvBxH,IAAKsP,oBAAUN,EAAO+N,mBAExB9K,WAAUqI,OAAMnO,WAIoB,CACtCxK,8BAAe4F,wBAAYuS,4BAAcb,qCAD5BlK,CAEZ4G,K,geCzQGzC,E,kDAEJ,WAAY9I,GAAQ,IAAD,8BACjB,cAAMA,IA+BRoN,aAAe,YAAY,IAAVC,EAAS,EAATA,IAAS,EAEI9U,IAAE4D,MAAMkR,EAAK,KAFjB,mBAEFpZ,GAFE,gBAGxB,EAAK+L,MAAMtD,oBAAoBzI,GAC/B,EAAK2S,SAAS,CAACgM,gBAAiB3e,KApCf,EAuCnB4e,WAAa,WAAiB,IAAhBzS,EAAe,uDAAT,KAClB,EAAKwG,SAAS,CAACtF,MAAM,EAAMlB,SAxCV,EA2CnByP,WAAa,WACX,EAAKjJ,SAAS,CAACtF,KAAM,KAAMlB,IAAK,QA1ChC,EAAKD,MAAQ,CACXyS,gBAAiB,KACjBtR,KAAM,KACNlB,IAAK,MALU,E,gEAUjBmB,KAAKvB,MAAMzI,kB,6CAIXgK,KAAKvB,MAAM6O,qB,yCAGM1N,EAAWC,EAAWC,IAClCF,EAAU2D,SAAWvD,KAAKvB,MAAM8E,UACnCvD,KAAKsO,aACLtO,KAAKvB,MAAMtD,oBAAoB6E,KAAKpB,MAAMyS,iBAC1CrR,KAAKvB,MAAMlF,kBAEPqG,EAAU4D,QAAUxD,KAAKvB,MAAM+E,SACnCxD,KAAKsO,aACLtO,KAAKvB,MAAMtD,oBAAoB6E,KAAKpB,MAAMyS,iBAC1CrR,KAAKvB,MAAMlF,mB,+BAqBL,IAAD,SAE+ByG,KAAKvB,MAApC6H,EAFA,EAEAA,SAAUhG,EAFV,EAEUA,QAASC,EAFnB,EAEmBA,SAFnB,EAI8BP,KAAKpB,MAAnCyS,EAJA,EAIAA,gBAAiBtR,EAJjB,EAIiBA,KAAMlB,EAJvB,EAIuBA,IAE9B,OACE,oBAAOlC,UAAW,WAAYzC,MAAO,CAACC,MAAO,QAA7C,UACE,kBAAYE,MAAZ,CAAkBX,MAAO,EAAzB,qBACA,mBAAM6T,UAAU,EAAhB,SACE,mBAAM5E,SAAUrI,EAAQzK,QAAxB,SACE,oBAAQqE,MAAO,CAAC+O,UAAW,IAAKkH,OAAQ,qBAAxC,UACE,kBAAQjG,MAAR,CAAcrN,UAAU,yBAAyB1C,MAAO,IAAxD,SAEGmM,EAAS8J,OACR,mBACElF,KAAK,SACLmF,gBAAiB,CAAC,aAClBnW,MAAO,CAAC2O,OAAQ,QAChBsD,SAAUnM,KAAK6L,aAJjB,SAKG7U,IAAEzE,IAAI+T,GAAU,WAA6BgK,GAAU,EAArC5d,GAAsC,IAAlCgB,EAAiC,EAAjCA,KAAM0R,EAA2B,EAA3BA,KAAMkB,EAAqB,EAArBA,SACjC,OAAO,kBAAMiK,QAAN,CAAuCnL,KAAM,cAAC,IAAD,CAAM5R,KAAM4R,IAAS5Q,MAAOd,EAAzE,SACJsD,IAAEzE,IAAI+T,GAAU,WAAmBkK,GAAnB,IAAE9d,EAAF,EAAEA,GAAIgB,EAAN,EAAMA,KAAM0R,EAAZ,EAAYA,KAAZ,OACf,kBAAMtE,KAAN,CAA4CsE,KAAM,cAAC,IAAD,CAAM5R,KAAM4R,IAA9D,SAAwE1R,GAAxD,QAAU4c,EAAQ,IAAM5d,OAFlB,WAAa4d,QAMzC,wBAGN,kBAAQpI,QAAR,CAAgBhO,MAAO,CAAC6J,QAAS,QAAjC,SACE,oBAAM4E,SAAUrI,EAAQpE,SAAxB,UAEGqE,EAAS6P,OACR,oBAAKS,OAAQ,CAAC,IAAd,UACG7Z,IAAEzE,IAAIgO,GAAU,SAACrE,GAAD,OACf,6CAAS,CAACqV,IAAK,EAAGC,GAAI,EAAGC,GAAI,GAAIC,GAAI,KAArC,aACE,mBAAM7U,UAAW,cACX2O,QAAS,CAAC,cAAC,IAAD,CAAc5K,QAAS,kBAAM,EAAK0Q,WAAWpV,OAD7D,SAEE,cAAC,UAAD,CAAaC,QAASD,YAI5B,6CAAS,CAACqV,IAAK,EAAGC,GAAI,EAAGC,GAAI,GAAIC,GAAI,KAArC,aACE,mBAAQxX,MAAO,CAAC2O,OAAQ,OAAQI,UAAW,KAAMzV,KAAK,SAAS4R,KAAM,cAAC,IAAD,IAAiBuM,OAAK,EACnF/Q,QAAS,kBAAM,EAAK0Q,WAAW,CAAC/b,WAAY2Y,SAASmD,MAD7D,+BAMF,mBAAOV,MAAO,IAAMC,yBAEtB,cAAC,UAAD,CAAa7Q,KAAMA,EAAMM,SAAUL,KAAKsO,WAAYzP,IAAKA,uB,GArGvDa,IAAMyD,WA6HbC,uBAXS,SAACC,GAAW,IACjBiD,EAA6DjD,EAAvExN,QAAUyQ,SADgB,EAC6CjD,EAAlDlH,QAAUoE,EADL,EACKA,SADL,IACepI,OAASoL,EADxB,EACwBA,QAASC,EADjC,EACiCA,OAClE,MAAO,CACLlD,QAAS,CACPzK,QAAS8N,oBAAUN,EAAOpN,mBAC1BiG,SAAUyH,oBAAUN,EAAOjI,gBAE7BkL,WAAU/F,WAAUgD,UAASC,YAIO,CACtCxN,8BACAmF,0CACA5B,8BACA+T,qCAJalK,CAKZmE,I,ogBClIGtB,E,kDAIJ,WAAYxH,GAAQ,IAAD,8BACjB,cAAMA,IAHR7H,kBAAoB,oBAED,EA8BnBiV,aAAe,YAAY,IAAVC,EAAS,EAATA,IACf,GAAIA,IAAQ,EAAKlV,kBAAmB,OAERI,IAAE4D,MAAMkR,EAAK,KAFL,mBAEdpZ,GAFc,gBAGlC,EAAK2S,SAAS,CAACuM,SAAU1D,SAASxb,OAlCnB,EAsCnB4e,WAAa,SAACO,GAAsB,IAAhBhT,EAAe,uDAAT,KACxB,EAAKwG,SAAS,CAACtF,KAAM8R,EAAMhT,SAvCV,EA0CnByP,WAAa,WACX,EAAKjJ,SAAS,CAACtF,KAAM,KAAMlB,IAAK,QAzChC,EAAKD,MAAQ,CACXgT,SAAU,KACV7R,KAAM,KACNlB,IAAK,MALU,E,gEAUjBmB,KAAKvB,MAAMzI,kB,6CAIXgK,KAAKvB,MAAM6O,qB,yCAGM1N,EAAWC,EAAWC,IAClCF,EAAU2D,SAAWvD,KAAKvB,MAAM8E,UACnCvD,KAAKsO,aACLtO,KAAKvB,MAAMzI,gBACXgK,KAAKvB,MAAMlF,kBAEPqG,EAAU4D,QAAUxD,KAAKvB,MAAM+E,SACnCxD,KAAKsO,aACLtO,KAAKvB,MAAMzI,gBACXgK,KAAKvB,MAAMlF,mB,+BAoBL,IAAD,SAEqByG,KAAKvB,MAA1B6H,EAFA,EAEAA,SAAUhG,EAFV,EAEUA,QAFV,EAIuBN,KAAKpB,MAA5BgT,EAJA,EAIAA,SAAU7R,EAJV,EAIUA,KAAMlB,EAJhB,EAIgBA,IAEjBiT,EAAgBF,EAAW5a,IAAEgY,KAAK1I,EAAU,CAAC5T,GAAIkf,IAAa,KAEpE,OACE,oBAAOjV,UAAW,WAAYzC,MAAO,CAACC,MAAO,QAA7C,UACE,kBAAYE,MAAZ,CAAkBX,MAAO,EAAzB,gCACA,mBAAM6T,UAAU,EAAhB,SACE,mBAAM5E,SAAUrI,EAAQzK,QAAxB,SACE,oBAAQqE,MAAO,CAAC+O,UAAW,IAAKkH,OAAQ,qBAAxC,UACE,kBAAQjG,MAAR,CAAcrN,UAAU,yBAAyB1C,MAAO,IAAxD,SACGmM,EAAS8J,OACR,oBACElF,KAAK,SACLmF,gBAAiB,CAAC,aAClBnW,MAAO,CAAC2O,OAAQ,QAChBsD,SAAUnM,KAAK6L,aAJjB,UAKE,kBAAM/K,KAAN,CAAwCsE,KAAM,cAAC,IAAD,IAAiBxE,QAAS,kBAAM,EAAK0Q,WAAWS,UAAUve,KAAKoS,cAA7G,8BAAgB5F,KAAKpJ,mBAGrB,kBAAMob,QAAN,IACChb,IAAEzE,IAAI+T,GAAU,WAAmBgK,GAAnB,IAAE5d,EAAF,EAAEA,GAAIgB,EAAN,EAAMA,KAAM0R,EAAZ,EAAYA,KAAZ,OACf,kBAAMtE,KAAN,CAA4CsE,KAAM,cAAC,IAAD,CAAM5R,KAAM4R,IAA9D,SAAwE1R,GAAxD,QAAU4c,EAAQ,IAAM5d,SAE5C,wBAEJ,mBAAQwV,QAAR,CAAgBhO,MAAO,CAAC6J,QAAS,UAAjC,UACG+N,EACD,oBAAOnV,UAAW,WAAYzC,MAAO,CAACI,OAAQ,SAAUH,MAAO,QAA/D,UACE,mBAAQ3G,KAAK,UACL4R,KAAM,cAAC,IAAD,IACNxE,QAAS,kBAAM,EAAK0Q,WAAWS,UAAUve,KAAKoS,YAAakM,IAFnE,wBAKA,oBAAKjB,OAAQ,CAAC,IAAd,UACG7Z,IAAEzE,IAAIuf,EAAcxL,UAAU,SAACzQ,GAAD,OAC7B,6CAAS,CAAC0b,IAAK,EAAGC,GAAI,EAAGC,GAAI,GAAIC,GAAI,KAArC,aACE,oBAAM7U,UAAW,cACX2O,QAAS,CACP,cAAC,IAAD,CAAc5K,QAAS,kBAAM,EAAK0Q,WAAWW,UAAYze,KAAKoS,YAAa/P,MAC3E,cAAC,IAAD,CACE+K,QAAS,kBAAM,EAAK0Q,WAAW,iBAAhB,aAAmCY,cAAeJ,EAAcpe,MAASmC,QAJlG,UAME,kBAAMkV,KAAN,CACEY,OAAQ,mBAAQzR,MAAO,CAAChD,MAAO,UAAW8D,gBAAiB,WAC3CoK,KAAM,cAAC,IAAD,CAAM5R,KAAMqC,EAAQuP,SAC1C5Q,MAAOqB,EAAQnC,KACf0I,YAAa0V,EAAcpe,KAC3BwG,MAAO,CAACmI,aAAc,MAExB,kBAAYpF,UAAZ,CAAsBgS,SAAU,CAACkD,KAAM,GACjBjY,MAAO,CAACI,OAAQ,GADtC,SAC2CzE,EAAQuG,uBAIzD,6CAAS,CAACmV,IAAK,EAAGC,GAAI,EAAGC,GAAI,GAAIC,GAAI,KAArC,aACE,mBAAQxX,MAAO,CAAC2O,OAAQ,OAAQI,UAAW,KAAMzV,KAAK,SAAS4R,KAAM,cAAC,IAAD,IAAiBuM,OAAK,EACnF/Q,QAAS,kBAAM,EAAK0Q,WAAWW,UAAYze,KAAKoS,YAAa,CAACwM,iBAAkBN,EAAcpf,MADtG,kCAOJ,mBAAOie,MAAO,IAAMC,yBAEtB,cAAC,UAAD,CAAW7Q,KAAMA,IAASgS,UAAUve,KAAKoS,YAAavF,SAAUL,KAAKsO,WAAYzP,IAAKA,IAEtF,cAAC,UAAD,CAAakB,KAAMA,IAASkS,UAAYze,KAAKoS,YAAavF,SAAUL,KAAKsO,WAAYzP,IAAKA,IAE1F,cAAC,UAAD,CAAekB,KAAe,mBAATA,EAA2BM,SAAUL,KAAKsO,WAAYzP,IAAKA,qB,GA3H1Ea,IAAMyD,WAiJbC,uBAVS,SAACC,GAAW,IAAD,EACwBA,EAAlDxN,QAAUyQ,EADgB,EAChBA,SADgB,IACNnO,OAASoL,EADH,EACGA,QAASC,EADZ,EACYA,OAC7C,MAAO,CACLlD,QAAS,CACPzK,QAAS8N,oBAAUN,EAAOpN,oBAE5BqQ,WAAU/C,UAASC,YAIiB,CACtCxN,8BACAuD,8BACA+T,qCAHalK,CAIZ6C,I,iLC9JYoM,UAjBE,kBACf,mBAAK7e,KAAK,OAAOuJ,QAAQ,SAASuV,MAAM,SAASpY,MAAO,CAAC+O,UAAW,SAApE,SACE,4BACE,mBACE9Q,OAAO,MACP3D,MAAM,MACN+d,SAAU,cAAC,UAAD,CAAc7f,GAAI,sBAC5B8P,MACE,cAAC,IAAD,CAAM4G,GAAI,IAAV,SACE,mBAAQ5V,KAAK,UAAb,SAAuB,cAAC,UAAD,CAAcd,GAAI,kC,iLCQtC8f,UAjBE,kBACf,mBAAKhf,KAAK,OAAOuJ,QAAQ,SAASuV,MAAM,SAASpY,MAAO,CAAC+O,UAAW,SAApE,SACE,4BACE,mBACE9Q,OAAO,MACP3D,MAAM,MACN+d,SAAU,cAAC,UAAD,CAAc7f,GAAI,sBAC5B8P,MACE,cAAC,IAAD,CAAM4G,GAAI,IAAV,SACE,mBAAQ5V,KAAK,UAAb,SAAuB,cAAC,UAAD,CAAcd,GAAI,kC,uICR/C+f,E,iLAEe7S,EAAWC,EAAWC,GAAW,IAAD,SACdE,KAAKvB,MAAjCjK,EAD0C,EAC1CA,MAAOF,EADmC,EACnCA,QAASG,EAD0B,EAC1BA,SAEnBA,GACF,IAAaA,GAAU,CACrBH,QAASE,EACT4H,YAAa9H,EACboe,QAAS,WACP,EAAKjU,MAAMkU,2B,+BAOjB,OAAO,S,GAjBgBjT,IAAMyD,WA2BlBC,uBALS,SAAC,GAAU,IAAD,IAARwD,GACcgM,aACtC,MAAO,CAACpe,MAFwB,EACzBA,MACQF,QAFiB,EAClBA,QACUG,SAFQ,EACTA,YAIe,CAACke,2CAA1BvP,CAAgDqP,I,iCCjC/D,oIAWaI,EAAW,SAACtd,GAAkF,IAAtEud,EAAqE,uDAA7D5S,MAAS6S,QAAQ,SAAUC,EAAkC,uDAA5B9S,MAASgC,MAAM,SAC3F,OAAO,SAAA3O,GACLA,EAAS,CAACC,KAAMC,kBAAiBC,KAAMuf,cACvCrf,UAAMC,IAAN,uBAA0B0B,GAAc,CAACL,OAAQ,CAAC4d,MAAOA,EAAMvT,OAAO,cAClEyT,IAAKA,EAAIzT,OAAO,iBAAiBzL,MAAK,YAAa,IAAXC,EAAU,EAAVA,KAC1CR,EAAS,CAACC,KAAMQ,iBAAgBN,KAAMuf,cACtC1f,EAAS,CAACC,KAAMyf,YAAWhf,QAASF,EAAKA,UACxCG,OAAM,YAAiB,IAAfC,EAAc,EAAdA,SACTZ,EAAS,CAACC,KAAMQ,iBAAgBN,KAAMuf,cAClC9e,IACFC,QAAQC,IAAI,aAAcF,EAASG,SACnCf,EAAS,CAACC,KAAMe,eAAcC,MAAO,iBAAkBF,QAASH,EAASJ,KAAKO,QAASG,SAAUC,6BAM5Fwe,EAAkB,SAAC3d,EAAY4d,GAA+E,IAAtEL,EAAqE,uDAA7D5S,MAAS6S,QAAQ,SAAUC,EAAkC,uDAA5B9S,MAASgC,MAAM,SAC3G,OAAO,SAAA3O,GACLA,EAAS,CAACC,KAAMC,kBAAiBC,KAAMuf,cACvCrf,UAAMC,IAAN,wBAA2B0B,EAA3B,YAAyC4d,GAAW,CAACje,OAAQ,CAAC4d,MAAOA,EAAMvT,OAAO,cAC9EyT,IAAKA,EAAIzT,OAAO,iBAAiBzL,MAAK,YAAa,IAAXC,EAAU,EAAVA,KAC1CR,EAAS,CAACC,KAAMQ,iBAAgBN,KAAMuf,cACtC1f,EAAS,CAACC,KAAMyf,YAAWhf,QAASF,EAAKA,UACxCG,OAAM,YAAiB,IAAfC,EAAc,EAAdA,SACTZ,EAAS,CAACC,KAAMQ,iBAAgBN,KAAMuf,cAClC9e,IACFC,QAAQC,IAAI,aAAcF,EAASG,SACnCf,EAAS,CAACC,KAAMe,eAAcC,MAAO,iBAAkBF,QAASH,EAASJ,KAAKO,QAASG,SAAUC,8B,iCCvCzG,qHAWa0e,EAAc,SAACha,GAC1B,OAAO,SAAA7F,GACD6F,GACF7F,EAAS,CAACC,KAAMC,kBAAiBC,KAAM2f,iBACvCzf,UAAM+B,KAAN,oBAAgC,GAAI,CAACT,OAAQ,CAACkE,WAAStF,MAAK,WAC1DP,EAAS,CAACC,KAAMQ,iBAAgBN,KAAM2f,iBACtC9f,EAAS,CAACC,KAAM6f,eAAcC,SAAS,OACtCpf,OAAM,YAAiB,IAAfC,EAAc,EAAdA,SACTZ,EAAS,CAACC,KAAMQ,iBAAgBN,KAAM2f,iBAClClf,IACFC,QAAQC,IAAI,aAAcF,EAASG,SACX,MAApBH,EAASgE,OACX5E,EAAS,CAACC,KAAM6f,eAAcC,SAAS,IAEvC/f,EAAS,CACPC,KAAMe,eACNC,MAAO,sBACPF,QAASH,EAASJ,KAAKO,QACvBG,SAAUC,4BAKlBnB,EAAS,CAACC,KAAM6f,eAAcC,SAAS,MAKhCC,EAAiB,SAACna,EAAO1B,GACpC,OAAO,SAAAnE,GACD6F,GACF7F,EAAS,CAACC,KAAMC,kBAAiBC,KAAM8f,oBACvC5f,UAAM+B,KAAN,uBAAmC,CAAC+B,YAAW,CAACxC,OAAQ,CAACkE,WAAStF,MAAK,WACrEP,EAAS,CAACC,KAAMQ,iBAAgBN,KAAM8f,oBACtCjgB,EAAS,CAACC,KAAMggB,kBAAiBF,SAAS,OACzCpf,OAAM,YAAiB,IAAfC,EAAc,EAAdA,SACTZ,EAAS,CAACC,KAAMQ,iBAAgBN,KAAM8f,oBAClCrf,IACFC,QAAQC,IAAI,aAAcF,EAASG,SACX,MAApBH,EAASgE,OACX5E,EAAS,CAACC,KAAMggB,kBAAiBF,SAAS,IAE1C/f,EAAS,CACPC,KAAMe,eACNC,MAAO,sBACPF,QAASH,EAASJ,KAAKO,QACvBG,SAAUC,4BAKlBnB,EAAS,CAACC,KAAMggB,kBAAiBF,SAAS,O,iCC9DhD,6GAaaG,EAAW,SAACxf,GACvB,OAAO,SAAAV,GACLA,EAAS,CAACC,KAAMC,kBAAiBC,KAAMggB,eACvC9f,UAAM+B,KAAN,SAAqB1B,GAASH,MAAK,YAAY,EAAVC,KACnCR,EAAS,CAACC,KAAMQ,iBAAgBN,KAAMggB,eACtCngB,EAAS,CAACC,KAAMkgB,kBACfxf,OAAM,YAAiB,IAAfC,EAAc,EAAdA,SACTZ,EAAS,CAACC,KAAMQ,iBAAgBN,KAAMggB,eAClCvf,IACFC,QAAQC,IAAI,aAAcF,EAASG,SACnCf,EAAS,CAACC,KAAMe,eAAcC,MAAO,iBAAkBF,QAASH,EAASJ,KAAKO,QAASG,SAAUC,6BAM5Fif,EAAY,SAACjhB,EAAIuB,GAC5B,OAAO,SAAAV,GACLA,EAAS,CAACC,KAAMC,kBAAiBC,KAAMkgB,gBACvChgB,UAAM+B,KAAN,iBAAqBjD,GAAMuB,GAASH,MAAK,YAAY,EAAVC,KACzCR,EAAS,CAACC,KAAMQ,iBAAgBN,KAAMkgB,gBACtCrgB,EAAS,CAACC,KAAMogB,mBACf1f,OAAM,YAAiB,IAAfC,EAAc,EAAdA,SACTZ,EAAS,CAACC,KAAMQ,iBAAgBN,KAAMkgB,gBAClCzf,IACFC,QAAQC,IAAI,aAAcF,EAASG,SACnCf,EAAS,CAACC,KAAMe,eAAcC,MAAO,iBAAkBF,QAASH,EAASJ,KAAKO,QAASG,SAAUC,8B,iCCvCzG,8GAYa2Y,EAAY,WACvB,OAAO,SAAA9Z,GACLA,EAAS,CAACC,KAAMC,kBAAiBC,KAAMka,gBACvCha,UAAMC,IAAI,WAAWC,MAAK,YAAa,IAAXC,EAAU,EAAVA,KAC1BR,EAAS,CAACC,KAAMQ,iBAAgBN,KAAMka,gBACtCra,EAAS,CAACC,KAAMoa,cAAa3Z,QAASF,EAAKA,UAC1CG,OAAM,YAAiB,IAAfC,EAAc,EAAdA,SACTZ,EAAS,CAACC,KAAMQ,iBAAgBN,KAAMka,gBAClCzZ,IACFC,QAAQC,IAAI,aAAcF,EAASG,SACnCf,EAAS,CAACC,KAAMe,eAAcC,MAAO,iBAAkBF,QAASH,EAASJ,KAAKO,QAASG,SAAUC,6BAM5F8X,EAAY,WACvB,OAAO,SAAAjZ,GACLA,EAAS,CAACC,KAAMC,kBAAiBC,KAAMma,gBACvCja,UAAM+B,KAAK,WAAW7B,MAAK,YAAY,EAAVC,KAC3BR,EAAS,CAACC,KAAMQ,iBAAgBN,KAAMma,gBACtCta,EAAS,CAACC,KAAMqa,mBACf3Z,OAAM,YAAiB,IAAfC,EAAc,EAAdA,SACTZ,EAAS,CAACC,KAAMQ,iBAAgBN,KAAMma,gBAClC1Z,IACFC,QAAQC,IAAI,aAAcF,EAASG,SACnCf,EAAS,CAACC,KAAMe,eAAcC,MAAO,iBAAkBF,QAASH,EAASJ,KAAKO,QAASG,SAAUC,8B,6FCjCnGmf,EAASlH,SAASmH,eAAe,YAyBvCC,oBAtBa,WAEX,IAAMC,EAAUxO,EAAQ,KAAayO,QACrCC,IAASxO,OACP,cAACsO,EAAD,IACAH,GAmBJnO,I,iCChCA,gI,yRCWAqI,IAAkBC,iBAAiB,OAAQC,KAkY5BkG,UAhYF,WAEX,IAAMjO,EAAc,8BAEdiH,EAAS,CACb,CACE3Y,MAAO,WACP4Y,UAAW,WACXtB,IAAK,UACLpG,OAAQ,SAAC/L,EAAD,OAAQsH,EAAR,EAAQA,SAAR,OACN,mBAAYvD,KAAZ,CAAiBR,QAAM,EAAvB,UAAyBvD,EAAzB,IAAgCsH,GAChC,mBAASzM,MAAO,WAAhB,SAA4B,kBAAYkJ,KAAZ,CAAiBlK,KAAM,SAAvB,sBAEhC,CACEgB,MAAO,cACP4Y,UAAW,cACXtB,IAAK,eAEP,CACEtX,MAAO,OACP4Y,UAAW,OACXtB,IAAK,OACLpG,OAAQ,SAAC/L,GAAD,OAAU,kBAAY+D,KAAZ,CAAiBxD,MAAO,CAAChD,MAAOkd,UAAQ,IAAxC,SAA8Cza,MAElE,CACEnF,MAAO,UACP4Y,UAAW,UACXtB,IAAK,UACLpG,OAAQ,SAAC/L,GAAD,OAAU,mCAAGA,GAAc,SAIvC,OACE,oBAAK0a,MAAM,EAAOxD,OAAQ,CAAC,IAA3B,UACE,mBAAK5F,KAAK,OAAV,SACE,oBAAOtO,UAAW,WAAYzC,MAAO,CAACC,MAAO,QAA7C,UACE,cAAC,UAAD,CAAYT,MAAO,EAAGC,KAAM,cAAeC,KAAM,aAEjD,cAAC,UAAD,CAAYF,MAAO,EAAGC,KAAM,MAAOC,KAAM,iBACzC,mBAAY8D,KAAZ,CAAiB1K,MAAI,EACJshB,SAAU,CAAC3a,KAAK,GAAD,OAAKuM,EAAL,4CADhC,UAC4F,kBAAYxI,KAAZ,CAC1FR,QAAM,EACN1J,KAAK,UAFqF,kBAD5F,IAGyC0S,EAHzC,6CAKA,cAAC,UAAD,CAAYxM,MAAO,EAAGC,KAAM,SAAUC,KAAM,oBAC5C,mBAAO2T,UAAQ,EAACgH,YAAY,EAAO9G,QAASN,EAAQO,WAAY,CAC9D,CACE8G,SAAU,UACVpY,YAAa,2CACb5I,KAAM,SACNyN,UAAU,GAEZ,CACEuT,SAAU,eACVpY,YAAa,+BACX,+BAAI,kBAAYsB,KAAZ,CAAiB1K,MAAI,EAArB,mBAAJ,oEAGA,+BAAI,kBAAY0K,KAAZ,CAAiB1K,MAAI,EAArB,sBAAJ,uFAGA,+BAAI,kBAAY0K,KAAZ,CAAiB1K,MAAI,EAArB,wBAAJ,2HAGA,+BAAI,kBAAY0K,KAAZ,CAAiB1K,MAAI,EAArB,4BAAJ,mJAIFQ,KAAM,qCACJ,kBAAYkK,KAAZ,CAAiB1K,MAAI,EAArB,mBADI,MAC4C,kBAAY0K,KAAZ,CAChD1K,MAAI,EAD4C,sBAD5C,MAE8B,kBAAY0K,KAAZ,CAAiB1K,MAAI,EAArB,wBAF9B,MAEmF,kBAAY0K,KAAZ,CACvF1K,MAAI,EADmF,+BAGzFihB,QAAS,kBAAYvW,KAAZ,CAAiB1K,MAAI,EAArB,oBAEX,CACEwhB,SAAU,gBACVpY,YAAa,wCACb5I,KAAM,UACNygB,QAAS,kBAAYvW,KAAZ,CAAiB1K,MAAI,EAArB,uBAIb,cAAC,UAAD,CAAY0G,MAAO,EAAGC,KAAM,OAAQC,KAAM,kBAC1C,mBAAO2T,UAAQ,EAACgH,YAAY,EAAO9G,QAASN,EAAQO,WAAY,CAC9D,CACE8G,SAAU,aACVpY,YAAa,mDACb5I,KAAM,qCAAE,kBAAY+G,KAAZ,CAAiBC,KAAM,yBAAvB,sBAAF,QACNyG,UAAU,GAEZ,CACEuT,SAAU,WACVpY,YAAa,gDACb5I,KAAM,qCAAE,kBAAY+G,KAAZ,CAAiBC,KAAM,wBAAvB,qBAAF,QACNyG,UAAU,GAEZ,CACEuT,SAAU,QACVpY,YAAa,mDACb5I,KAAM,mCAAE,kBAAY+G,KAAZ,CAAiBC,KAAM,sBAAvB,qBACRyG,UAAU,MAId,cAAC,UAAD,CAAYvH,MAAO,EAAGC,KAAM,WAAYC,KAAM,2BAC9C,mBAAY8D,KAAZ,yBAA4B,kBAAYA,KAAZ,CAAiB1K,MAAI,EAArB,wBAA5B,8CAEA,mBAAOua,UAAQ,EAACgH,YAAY,EAAO9G,QAASN,EAAQO,WAAY,CAC9D,CACE8G,SAAU,cACVpY,YAAa,wCACb5I,KAAM,SACNyN,UAAU,GAEZ,CACEuT,SAAU,cACVpY,YAAa,yBACb5I,KAAM,SACNyN,UAAU,GAEZ,CACEuT,SAAU,gBACVpY,YAAa,mBACb5I,KAAM,SACNyN,UAAU,GAEZ,CACEuT,SAAU,eACVpY,YAAa,sGACb5I,KAAM,QACNyN,UAAU,GAEZ,CACEuT,SAAU,eACVpY,YAAa,sGACb5I,KAAM,QACNyN,UAAU,GAEZ,CACEuT,SAAU,WACVpY,YAAa,uFACb5I,KAAM,QACNyN,UAAU,GAEZ,CACEuT,SAAU,YACVpY,YAAa,gFACb5I,KAAM,QACNyN,UAAU,GAEZ,CACEuT,SAAU,OACVpY,YAAa,yEACb5I,KAAM,SACNyN,UAAU,GAEZ,CACEuT,SAAU,QACVpY,YAAa,0EACb5I,KAAM,SACNyN,UAAU,GAEZ,CACEuT,SAAU,eACVpY,YAAa,6EACb5I,KAAM,WACNyN,UAAU,MAId,cAAC,UAAD,CAAYvH,MAAO,EAAGC,KAAM,UAAWC,KAAM,0BAC7C,mBAAY8D,KAAZ,yBAA4B,kBAAYA,KAAZ,CAAiB1K,MAAI,EAArB,sBAA5B,4CAEA,mBAAOua,UAAQ,EAACgH,YAAY,EAAO9G,QAASN,EAAQO,WAAY,CAC9D,CACE8G,SAAU,KACVpY,YAAa,wCACb5I,KAAM,SACNyN,UAAU,GAEZ,CACEuT,SAAU,OACVpY,YAAa,iCACb5I,KAAM,SACNyN,UAAU,GAEZ,CACEuT,SAAU,QACVpY,YAAa,cACb5I,KAAM,SACNyN,UAAU,GAEZ,CACEuT,SAAU,QACVpY,YAAa,iBACb5I,KAAM,QACNyN,UAAU,GAEZ,CACEuT,SAAU,SACVpY,YAAa,8CACb5I,KAAM,QACNyN,UAAU,GAEZ,CACEuT,SAAU,SACVpY,YAAa,8CACb5I,KAAM,QACNyN,UAAU,MAId,cAAC,UAAD,CAAYvH,MAAO,EAAGC,KAAM,QAASC,KAAM,wBAC3C,mBAAY8D,KAAZ,WAAiB,kBAAYA,KAAZ,CAAiB1K,MAAI,EAArB,mBAAjB,qCAEA,mBAAOua,UAAQ,EAACgH,YAAY,EAAO9G,QAASN,EAAQO,WAAY,CAC9D,CACE8G,SAAU,WACVpY,YAAa,2BACb5I,KAAM,SACNyN,UAAU,GAEZ,CACEuT,SAAU,WACVpY,YAAa,mFACb5I,KAAM,QACNyN,UAAU,GAEZ,CACEuT,SAAU,YACVpY,YAAa,4EACb5I,KAAM,QACNyN,UAAU,GAEZ,CACEuT,SAAU,OACVpY,YAAa,gEACb5I,KAAM,SACNyN,UAAU,GAEZ,CACEuT,SAAU,QACVpY,YAAa,iEACb5I,KAAM,SACNyN,UAAU,MAId,cAAC,UAAD,CAAYvH,MAAO,EAAGC,KAAM,kBAAmBC,KAAM,0BACrD,cAAC,IAAD,CAAmBkX,SAAS,OAAO5W,MAAO6W,IAA1C,SACGvC,KAAKC,UAAUjJ,EAAQ,KAAmB,KAAM,QAGnD,cAAC,UAAD,CAAY9L,MAAO,EAAGC,KAAM,eAAgBC,KAAM,cAElD,cAAC,UAAD,CAAYF,MAAO,EAAGC,KAAM,OAAQC,KAAM,mBAC1C,mBAAO2T,UAAQ,EAACgH,YAAY,EAAO9G,QAASN,EAAQO,WAAY,CAC9D,CACE8G,SAAU,cACVpY,YAAa,uBACb5I,KAAM,UAER,CACEghB,SAAU,UACVpY,YAAa,mBACb5I,KAAM,UAER,CACEghB,SAAU,OACVpY,YAAa,uBACb5I,KAAM,mCAAE,kBAAY+G,KAAZ,CAAiBC,KAAM,sBAAvB,wBAIZ,cAAC,UAAD,CAAYd,MAAO,EAAGC,KAAM,gBAAiBC,KAAM,wBACnD,mBAAO2T,UAAQ,EAACgH,YAAY,EAAO9G,QAASN,EAAQO,WAAY,CAC9D,CACE8G,SAAU,WACVpY,YAAa,kCACb5I,KAAM,UAER,CACEghB,SAAU,SACVpY,YAAa,gCACb5I,KAAM,qCAAE,kBAAY+G,KAAZ,CAAiBC,KAAM,uBAAvB,mBAAF,YAIV,cAAC,UAAD,CAAYd,MAAO,EAAGC,KAAM,QAASC,KAAM,yBAC3C,mBAAY8D,KAAZ,wBAA2B,kBAAYA,KAAZ,CAAiB1K,MAAI,EAArB,mBAA3B,yDAEA,mBAAOua,UAAQ,EAACgH,YAAY,EAAO9G,QAASN,EAAQO,WAAY,CAC9D,CACE8G,SAAU,QACVpY,YAAa,kCACb5I,KAAM,UAER,CACEghB,SAAU,OACVpY,YAAa,uBACb5I,KAAM,UAER,CACEghB,SAAU,aACVpY,YAAa,iDACb5I,KAAM,UAER,CACEghB,SAAU,WACVpY,YAAa,uCACb5I,KAAM,UAER,CACEghB,SAAU,WACVpY,YAAa,oDACb5I,KAAM,UAER,CACEghB,SAAU,SACVpY,YAAa,mCACb5I,KAAM,SAER,CACEghB,SAAU,OACVpY,YAAa,iCACb5I,KAAM,qCAAE,kBAAY+G,KAAZ,CAAiBC,KAAM,sBAAvB,kBAAF,YAIV,cAAC,UAAD,CAAYd,MAAO,EAAGC,KAAM,OAAQC,KAAM,wBAC1C,mBAAY8D,KAAZ,wBAA2B,kBAAYA,KAAZ,CAAiB1K,MAAI,EAArB,kBAA3B,oDAEA,mBAAOua,UAAQ,EAACgH,YAAY,EAAO9G,QAASN,EAAQO,WAAY,CAC9D,CACE8G,SAAU,cACVpY,YAAa,yBACb5I,KAAM,UAER,CACEghB,SAAU,cACVpY,YAAa,wCACb5I,KAAM,UAER,CACEghB,SAAU,WACVpY,YAAa,wBACb5I,KAAM,aAIV,cAAC,UAAD,CAAYkG,MAAO,EAAGC,KAAM,mBAAoBC,KAAM,2BACtD,cAAC,IAAD,CAAmBkX,SAAS,OAAO5W,MAAO6W,IAA1C,SACGvC,KAAKC,UAAUjJ,EAAQ,KAAoB,KAAM,aAKxD,mBAAKyF,KAAK,OAAV,SACE,oBAAQwJ,aAAc,IAAtB,UACE,mBAAQla,KAAR,CAAaC,KAAK,WAAWhG,MAAM,UAAnC,UACE,kBAAQ+F,KAAR,CAAaC,KAAK,eAAehG,MAAM,QACvC,kBAAQ+F,KAAR,CAAaC,KAAK,kBAAkBhG,MAAM,WAC1C,mBAAQ+F,KAAR,CAAaC,KAAK,gBAAgBhG,MAAM,OAAxC,UACE,kBAAQ+F,KAAR,CAAaC,KAAK,yBAAyBhG,MAAM,aACjD,kBAAQ+F,KAAR,CAAaC,KAAK,wBAAwBhG,MAAM,YAChD,kBAAQ+F,KAAR,CAAaC,KAAK,sBAAsBhG,MAAM,aAEhD,kBAAQ+F,KAAR,CAAaC,KAAK,wBAAwBhG,MAAM,uBAElD,mBAAQ+F,KAAR,CAAaC,KAAK,WAAWhG,MAAM,WAAnC,UACE,mBAAQ+F,KAAR,CAAaC,KAAK,iBAAiBhG,MAAM,OAAzC,UACE,kBAAQ+F,KAAR,CAAaC,KAAK,sBAAsBhG,MAAM,SAC9C,kBAAQ+F,KAAR,CAAaC,KAAK,uBAAuBhG,MAAM,UAC/C,kBAAQ+F,KAAR,CAAaC,KAAK,sBAAsBhG,MAAM,YAEhD,kBAAQ+F,KAAR,CAAaC,KAAK,yBAAyBhG,MAAM,kC,uOC9U9CkgB,UA/CE,WAEf,OACE,oBAAKL,MAAM,EAAOxD,OAAQ,CAAC,IAA3B,UACE,mBAAK5F,KAAK,OAAV,SACE,mBAAOtO,UAAW,WAAYzC,MAAO,CAACC,MAAO,QAA7C,SAEE,oBAAKka,MAAM,EAAOxD,OAAQ,CAAC,IAA3B,UACE,oBAAK5F,KAAK,OAAV,UACE,cAAC,UAAD,CAAYvR,MAAO,EAAGC,KAAM,WAAYC,KAAM,cAC9C,kBAAYqD,UAAZ,0UAKA,cAAC,UAAD,CAAYvD,MAAO,EAAGC,KAAM,WAAYC,KAAM,cAC9C,+BACE,oDACA,kDACA,iDACA,+DACA,sDACA,uDACA,+DAGJ,mBAAKqR,KAAK,OAAV,SACE,mBACE9Q,MAAO,IACPyQ,IAAK5B,qBAOf,mBAAKiC,KAAK,OAAV,SACE,oBAAQwJ,aAAc,IAAtB,UACE,kBAAQla,KAAR,CAAaC,KAAK,YAAYhG,MAAM,aACpC,kBAAQ+F,KAAR,CAAaC,KAAK,YAAYhG,MAAM,uB,iCC/C9C,OAYeuf,UAZS,SAAAY,GAClBA,GAAeA,aAAuBC,UACxC,+BAAqB9gB,MAAK,YAAkD,IAA/C+gB,EAA8C,EAA9CA,OAAQC,EAAsC,EAAtCA,OAAQC,EAA8B,EAA9BA,OAAQC,EAAsB,EAAtBA,OAAQC,EAAc,EAAdA,QAC3DJ,EAAOF,GACPG,EAAOH,GACPI,EAAOJ,GACPK,EAAOL,GACPM,EAAQN,Q,0DCHRO,EAAO,CACXlJ,aAAa,EACb5B,cAAc,EACd+K,OAAQ,CACNC,WAAY,UACZD,OAAQ,KACRzhB,KAAM,UACN0R,KAAM,OAiBK0B,UAbE,WAA2B,IAA1BlI,EAAyB,uDAAjBsW,EAAMG,EAAW,uCACzC,OAAQA,EAAO7hB,MACb,KAAKuK,uBACH,OAAO,2BAAIa,GAAX,IAAkBwL,aAAciL,EAAOvX,iBACzC,KAAKwX,kBACH,OAAO,2BAAI1W,GAAX,IAAkBuW,OAAQE,EAAOphB,UACnC,KAAKiK,iBACH,OAAO,2BAAIU,GAAX,IAAkBoN,YAAaqJ,EAAOpX,kBACxC,QACE,OAAOW,K,0DCtBP2W,EAAa,CACjBnc,MAAOhB,aAAaod,QAAQ,SAC5BC,QAAS,GACTrN,SAAU,KACVpP,KAAM,GACNb,OAAQ,CACNud,SAAU,KACVC,SAAU,KACVC,OAAQ,OAgDG3O,UA5CF,WAAiC,IAAhCrI,EAA+B,uDAAvB2W,EAAYF,EAAW,uCAC3C,OAAQA,EAAO7hB,MACb,KAAK8D,WACH,OAAO,2BAAIsH,GAAX,IAAkB6W,QAASJ,EAAOphB,UAEpC,KAAK2D,UACH,OAAO,2BAAIgH,GAAX,IAAkBzG,OAAO,2BAAKyG,EAAMzG,QAAZ,IAAoBud,UAAU,MAExD,KAAK3d,SACH,OAAO,2BAAI6G,GAAX,IAAkBzG,OAAO,2BAAKyG,EAAMzG,QAAZ,IAAoBwd,UAAU,MAExD,KAAK9c,SACH,OAAO,2BAAI+F,GAAX,IAAkBzG,OAAO,2BAAKyG,EAAMzG,QAAZ,IAAoByd,QAAQ,MAEtD,KAAKtd,UACH,OAAO,2BACFsG,GADL,IAEExF,MAAO,KACPgP,SAAU,KACVpP,KAAM,GACNyc,QAAS,KAGb,KAAK1c,YACH,OAAO,2BACF6F,GADL,IAEEwJ,SAAUiN,EAAOphB,QACjB+E,KAAMqc,EAAOrc,OAGjB,KAAKL,iBACH,OAAO,2BACFiG,GADL,IAEExF,MAAOic,EAAOphB,UAGlB,KAAKuF,eACH,OAAO,2BAAIoF,GAAX,IAAkBzG,OAAQod,EAAWpd,SAEvC,QACE,OAAOyG,K,0DCpDP2W,EAAa,CACjBpd,OAAQ,CACNR,MAAO,KACPD,SAAU,OAiBCuP,UAbF,WAAiC,IAAhCrI,EAA+B,uDAAvB2W,EAAYF,EAAW,uCAC3C,OAAQA,EAAO7hB,MACb,KAAK6f,eACH,OAAO,2BAAIzU,GAAX,IAAkBzG,OAAO,2BAAKyG,EAAMzG,QAAZ,IAAoBR,MAAO0d,EAAO/B,YAC5D,KAAKE,kBACH,OAAO,2BAAI5U,GAAX,IAAkBzG,OAAO,2BAAKyG,EAAMzG,QAAZ,IAAoBT,SAAU2d,EAAO/B,YAC/D,KAAK9Z,eACH,OAAO,2BAAIoF,GAAX,IAAkBzG,OAAQod,EAAWpd,SACvC,QACE,OAAOyG,K,mEChBP2W,EAAa,CACjBM,OAAQ,CACNrK,QAAS,IAEXoH,aAAc,CACZpe,MAAO,KACPF,QAAS,KACTG,SAAU,OAgCCqhB,UA5BG,WAAiC,IAAhClX,EAA+B,uDAAvB2W,EAAYF,EAAW,uCACzCQ,EAAUjX,EAAViX,OACArK,EAAWqK,EAAXrK,QAEP,OAAQ6J,EAAO7hB,MACb,KAAKC,kBACH,OAAO,2BACFmL,GADL,IACYiX,OAAO,2BAAKA,GAAN,IAAcrK,QAAQ,GAAD,mBAAMA,GAAN,CAAe,CAAC9X,KAAM2hB,EAAO3hB,KAAMqiB,MAAOV,EAAOU,aAE1F,KAAK/hB,iBACH,OAAO,2BACF4K,GADL,IACYiX,OAAO,2BAAKA,GAAN,IAAcrK,QAASA,EAAQ/F,QAAO,SAAAuQ,GAAI,OAAIA,EAAKtiB,OAAS2hB,EAAO3hB,YAEvF,KAAKa,eACH,OAAO,2BACFqK,GADL,IACYgU,aAAc,CAACpe,MAAO6gB,EAAO7gB,MAAOF,QAAS+gB,EAAO/gB,QAASG,SAAU4gB,EAAO5gB,SAAW4gB,EAAO5gB,SAAWwhB,uBAGzH,KAAKC,eACH,OAAO,2BACFtX,GADL,IACYgU,aAAc2C,EAAW3C,eAGvC,QACE,OAAOhU,K,0DCzBP2W,EAAa,CACjBjP,SAAU,GACVzQ,QAAS,KACTsC,OAAQ,CACNoL,QAAS,KACTC,OAAQ,OA6BGyC,UAzBC,WAAiC,IAAhCrH,EAA+B,uDAAvB2W,EAAYF,EAAW,uCAC9C,OAAQA,EAAO7hB,MACb,KAAKyC,kBACH,OAAO,2BAAI2I,GAAX,IAAkB0H,SAAU+O,EAAOphB,UACrC,KAAKmC,kBACH,OAAO,2BAAIwI,GAAX,IAAkB/I,QAASwf,EAAOphB,UACpC,KAAKqC,yBACH,OAAO,2BAAIsI,GAAX,IAAkB0H,SAAU+O,EAAOphB,UACrC,KAAKuC,cAEL,KAAKI,oBACH,OAAO,2BAAIgI,GAAX,IAAkBzG,OAAO,2BAAKyG,EAAMzG,QAAZ,IAAoBoL,SAAS,MACvD,KAAK7M,eAEL,KAAKI,qBACH,OAAO,2BAAI8H,GAAX,IAAkBzG,OAAO,2BAAKyG,EAAMzG,QAAZ,IAAoBqL,QAAQ,MACtD,KAAKhK,eACH,OAAO,2BAAIoF,GAAX,IAAkBzG,OAAQod,EAAWpd,SACvC,KAAKge,mBACH,OAAOZ,EACT,QACE,OAAO3W,K,0DC7BP2W,EAAa,CACjBa,cAAe,GACf9S,aAAc,KACd+S,QAAS,KACTC,OAAQ,GACRC,SAAU,GACVC,WAAY,GACZC,MAAO,GACPte,OAAQ,CACNoL,QAAS,KACTC,OAAQ,OAiCG4D,UA7BM,WAAiC,IAAhCxI,EAA+B,uDAAvB2W,EAAYF,EAAW,uCACnD,OAAQA,EAAO7hB,MACb,KAAKgC,mBACH,OAAO,2BAAIoJ,GAAX,IAAkBwX,cAAef,EAAOphB,UAC1C,KAAKN,uBACH,OAAO,2BAAIiL,GAAX,IAAkB0E,aAAc+R,EAAOphB,UACzC,KAAKW,2BACH,OAAO,2BAAIgK,GAAX,IAAkByX,QAAShB,EAAOphB,QAASqP,aAAa,2BAAK+R,EAAOphB,SAAb,IAAsB+K,QAASJ,EAAM0E,aAAatE,YAC3G,KAAKlK,2BACH,OAAO,2BAAI8J,GAAX,IAAkB0X,OAAQjB,EAAOphB,UACnC,KAAKe,4BACH,OAAO,2BAAI4J,GAAX,IAAkB2X,SAAUlB,EAAOphB,UACrC,KAAKkB,+BACH,OAAO,2BAAIyJ,GAAX,IAAkB4X,WAAYnB,EAAOphB,UACvC,KAAKoB,yBACH,OAAO,2BAAIuJ,GAAX,IAAkB6X,MAAOpB,EAAOphB,UAClC,KAAKyB,mBACH,OAAO,2BAAIkJ,GAAX,IAAkBzG,OAAO,2BAAKyG,EAAMzG,QAAZ,IAAoBoL,SAAS,MACvD,KAAKxN,oBACH,OAAO,2BAAI6I,GAAX,IAAkBzG,OAAO,2BAAKyG,EAAMzG,QAAZ,IAAoBqL,QAAQ,MACtD,KAAKhK,eACH,OAAO,2BAAIoF,GAAX,IAAkBzG,OAAQod,EAAWpd,SACvC,KAAKge,mBACH,OAAOZ,EACT,QACE,OAAO3W,K,0DClDP2W,EAAa,CACjBhV,SAAU,GACVpE,QAAS,KACThE,OAAQ,CACNoL,QAAS,KACTC,OAAQ,OAuBG4D,UAnBM,WAAiC,IAAhCxI,EAA+B,uDAAvB2W,EAAYF,EAAW,uCACnD,OAAQA,EAAO7hB,MACb,KAAK4H,cACH,OAAO,2BAAIwD,GAAX,IAAkB2B,SAAU8U,EAAOphB,UACrC,KAAKsH,kBACH,OAAO,2BAAIqD,GAAX,IAAkBzC,QAASkZ,EAAOphB,UACpC,KAAKwH,cACH,OAAO,2BAAImD,GAAX,IAAkBzG,OAAO,2BAAKyG,EAAMzG,QAAZ,IAAoBoL,SAAS,MACvD,KAAK5H,eACH,OAAO,2BAAIiD,GAAX,IAAkBzG,OAAO,2BAAKyG,EAAMzG,QAAZ,IAAoBqL,QAAQ,MACtD,KAAKhK,eACH,OAAO,2BAAIoF,GAAX,IAAkBzG,OAAQod,EAAWpd,SACvC,KAAKge,mBACH,OAAOZ,EACT,QACE,OAAO3W,K,0DCxBP2W,EAAa,CACjB9R,KAAM,KACNjD,MAAO,GACPrI,OAAQ,CACNqL,OAAQ,OAqBG4D,UAjBM,WAAiC,IAAhCxI,EAA+B,uDAAvB2W,EAAYF,EAAW,uCACnD,OAAQA,EAAO7hB,MACb,KAAKqI,WACH,OAAO,2BAAI+C,GAAX,IAAkB4B,MAAO6U,EAAOphB,UAClC,KAAKoF,kBACH,OAAO,2BAAIuF,GAAX,IAAkB6E,KAAM4R,EAAOphB,UACjC,KAAK8H,YACH,OAAO,2BAAI6C,GAAX,IAAkBzG,OAAO,2BAAKyG,EAAMzG,QAAZ,IAAoBqL,QAAQ,MACtD,KAAKhK,eACH,OAAO,2BAAIoF,GAAX,IAAkBzG,OAAQod,EAAWpd,SACvC,KAAKge,mBACH,OAAOZ,EACT,QACE,OAAO3W,K,0DCrBP2W,EAAa,CACjBtiB,KAAM,GACNkF,OAAQ,CACNoL,QAAS,OAmBEmE,UAfA,WAAiC,IAAhC9I,EAA+B,uDAAvB2W,EAAYF,EAAW,uCAC7C,OAAQA,EAAO7hB,MACb,KAAKoa,cACH,OAAO,2BAAIhP,GAAX,IAAkB3L,KAAMoiB,EAAOphB,UACjC,KAAK4Z,cACH,OAAO,2BAAIjP,GAAX,IAAkBzG,OAAO,2BAAKyG,EAAMzG,QAAZ,IAAoBoL,SAAS,MACvD,KAAK/J,eACH,OAAO,2BAAIoF,GAAX,IAAkBzG,OAAQod,EAAWpd,SACvC,KAAKge,mBACH,OAAOZ,EACT,QACE,OAAO3W,K,0DClBP2W,EAAa,CACjB1f,QAAS,MAcI+R,UAXD,WAAiC,IAAhChJ,EAA+B,uDAAvB2W,EAAYF,EAAW,uCAC5C,OAAQA,EAAO7hB,MACb,KAAKyf,YACH,OAAO,2BAAIrU,GAAX,IAAkB/I,QAASwf,EAAOphB,UACpC,KAAKkiB,mBACH,OAAOZ,EACT,QACE,OAAO3W,K,0DCLP2W,EAAa,CACjBe,OAAQ,GACRne,OAAQ,CACNoL,QAAS,KACTC,OAAQ,OAqBG8D,UAjBD,WAAiC,IAAhC1I,EAA+B,uDAAvB2W,EAAYF,EAAW,uCAC5C,OAAQA,EAAO7hB,MACb,KAAKkjB,aACH,OAAO,2BAAI9X,GAAX,IAAkB0X,OAAQjB,EAAOphB,UACnC,KAAKyf,aACH,OAAO,2BAAI9U,GAAX,IAAkBzG,OAAO,2BAAKyG,EAAMzG,QAAZ,IAAoBoL,SAAS,MACvD,KAAKqQ,cACH,OAAO,2BAAIhV,GAAX,IAAkBzG,OAAO,2BAAKyG,EAAMzG,QAAZ,IAAoBqL,QAAQ,MACtD,KAAKhK,eACH,OAAO,2BAAIoF,GAAX,IAAkBzG,OAAQod,EAAWpd,SACvC,KAAKge,mBACH,OAAOZ,EACT,QACE,OAAO3W,K,0DC3BP2W,EAAa,CACjB5G,KAAM,IAcO9G,UAXH,WAAiC,IAAhCjJ,EAA+B,uDAAvB2W,EAAYF,EAAW,uCAC1C,OAAQA,EAAO7hB,MACb,KAAK4d,iBACH,OAAO,2BAAIxS,GAAX,IAAkB+P,KAAM0G,EAAOphB,UACjC,KAAKkiB,mBACH,OAAOZ,EACT,QACE,OAAO3W,K,4NCMP+X,EAAqB,SAAC,GAAD,IAAaxT,EAAb,EAAEmG,UAAsBlQ,EAAxB,EAAwBA,MAAUwd,EAAlC,4CACzB,cAAC,IAAD,2BACMA,GADN,IAEElR,OAAQ,SAAAjH,GAAK,OACXrF,EACI,cAAC+J,EAAD,eAAe1E,IACf,cAAC,IAAD,CACA2K,GAAI,CACFyN,SAAU,SACVjY,MAAO,CAACuK,KAAM1K,EAAMqY,kBAK1B3O,E,mLAEkB,IAAD,EACoBnI,KAAKvB,MAArCgX,EADY,EACZA,QAAStR,EADG,EACHA,QAAS/M,EADN,EACMA,WACT,KAAZqe,GAAgBre,EAAW+M,EAAQ2S,SAASD,Y,+BAGxC,IAAD,EAC2C7W,KAAKvB,MAAhDgK,EADA,EACAA,MAAOqO,EADP,EACOA,SAAU3B,EADjB,EACiBA,OAAQ/b,EADzB,EACyBA,MAAOqc,EADhC,EACgCA,QACvC,GAA0B,MAAtBqB,EAASD,SACX,OAAc,OAAVzd,EACO,cAAC,IAAD,CAAUgQ,GAAI,WACF,KAAZqM,GAA8B,MAAZA,GAA+B,WAAZA,EACrC,cAAC,IAAD,CAAUrM,GAAI,SAEd,cAAC,IAAD,CAAUA,GAAIqM,IAI3B,IAAMsB,EAAmBjP,UAAUqN,EAAOA,QAE1C,OACE,cAAC,IAAD,CACEA,OAAQ4B,EAAiB5B,OACzB6B,SAAUD,EAAiBC,SAF7B,SAGE,sBAAKna,UAAU,WAAf,UACE,eAAC,IAAD,WACE,cAAC8Z,EAAD,CAAoBtN,KAAI,UAAKZ,EAAMpR,IAAX,OAAqB+B,MAAOA,EAAOkQ,UAAW0K,YACtE,cAAC,IAAD,CAAO3K,KAAK,SAASC,UAAWrC,YAChC,cAAC,IAAD,CAAOoC,KAAK,UAAUC,UAAW2N,YACjC,cAAC,IAAD,CAAO5N,KAAK,gBAAgBC,UAAW4N,YACvC,cAAC,IAAD,CAAO7N,KAAK,mBAAmBC,UAAW6N,YAC1C,cAAC,IAAD,CAAO9N,KAAK,OAAOC,UAAWkJ,YAC9B,cAAC,IAAD,CAAOnJ,KAAK,OAAOC,UAAW+I,eAEhC,cAAC,UAAD,a,GAnCQlP,aAiDHC,uBANS,SAAC,GAAsB,IAArB0D,EAAoB,EAApBA,SAAUE,EAAU,EAAVA,KAC3BmO,EAAUrO,EAAVqO,OAEP,MAAO,CAAC/b,MADiB4N,EAAlB5N,MACQ+b,SAAQM,QADEzO,EAAXyO,WAIwB,CAACre,yBAA1BgM,CAAuC+E,I,8EC/EhDiP,EAAS,CACbJ,SAAS,eACJK,GAELlC,OAAQ,QACRphB,KAAMujB,KAEOF,a,sfCaTG,E,uKAEM,IAAD,EACuBvX,KAAKvB,MAA5BiK,EADA,EACAA,UAAWoO,EADX,EACWA,SACZD,EAAQ,UAAMC,EAASD,UACvBjF,EAAW5a,IAAE8D,KAAK9D,IAAE4D,MAAMic,EAAU,IAAK,GAAI,KAEnD,OACE,oBAAMW,MAAM,OAAOtM,KAAK,SAASgB,oBAAqB,CAAC,gBAAiBuL,aAAc,CAAC7F,GAAvF,UAEE,kBAAM9Q,KAAN,CAAiCsE,KAAM,cAAC,IAAD,IAAvC,SACE,cAAC,IAAD,CAASgE,GAAI,kBAAb,yBADa,mBAIdV,EAAUe,iBACX,kBAAM3I,KAAN,CAA8BsE,KAAM,cAAC,IAAD,IAApC,SACE,cAAC,IAAD,CAASgE,GAAI,eAAb,sBADa,gBAIdV,EAAUgB,eACX,kBAAM5I,KAAN,CAA4BsE,KAAM,cAAC,IAAD,IAAlC,SACE,cAAC,IAAD,CAASgE,GAAI,aAAb,2BADa,cAIf,mBAAMsO,UAAN,CAA8BljB,MAAO,mBAAS0F,MAAO,CAACI,OAAQ,KAA9D,UAEGoO,EAAUiB,iBACX,kBAAM7I,KAAN,CAA8BsE,KAAM,cAAC,IAAD,IAApC,SACE,cAAC,IAAD,CAASgE,GAAI,eAAb,sBADa,gBAIdV,EAAUiB,iBACX,kBAAM7I,KAAN,CAA8BsE,KAAM,cAAC,IAAD,IAApC,SACE,cAAC,IAAD,CAASgE,GAAI,eAAb,sBADa,gBAIdV,EAAUkB,sBACX,kBAAM9I,KAAN,CAAmCsE,KAAM,cAAC,IAAD,IAAzC,SACE,cAAC,IAAD,CAASgE,GAAI,oBAAb,2BADa,qBAIdV,EAAUmB,uBACX,kBAAM/I,KAAN,CAAoCsE,KAAM,cAAC,IAAD,IAA1C,SACE,cAAC,IAAD,CAASgE,GAAI,qBAAb,4BADa,sBAIdV,EAAUqB,oBACX,kBAAMjJ,KAAN,CAAiCsE,KAAM,cAAC,IAAD,IAAvC,SACE,cAAC,IAAD,CAASgE,GAAI,kBAAb,yBADa,qBAvBG,WA6BpB,mBAAMsO,UAAN,CAA+BljB,MAAO,mBAAS0F,MAAO,CAACI,OAAQ,KAA/D,UAEGoO,EAAUkB,sBACX,kBAAM9I,KAAN,CAA+BsE,KAAM,cAAC,IAAD,IAArC,SACE,cAAC,IAAD,CAASgE,GAAI,gBAAb,uBADa,iBAIdV,EAAUkB,sBACX,kBAAM9I,KAAN,CAA8BsE,KAAM,cAAC,IAAD,IAApC,SACE,cAAC,IAAD,CAASgE,GAAI,eAAb,sBADa,gBAIdV,EAAUkB,sBACX,kBAAM9I,KAAN,CAA8BsE,KAAM,cAAC,IAAD,IAApC,SACE,cAAC,IAAD,CAASgE,GAAI,eAAb,sBADa,kBAbG,mB,GArDLjG,aAiFR8G,sBAAW7G,aAJF,SAACC,GACvB,MAAO,CAACqF,UAAWA,oBAAUrF,MAGoB,GAAzBD,CAA6BmU,K,gYCzFjDpZ,EAAS,CACbC,SAAU,CAACpB,KAAM,GACjBqB,WAAY,CAACrB,KAAM,KAGfsB,EAAa,CACjBD,WAAY,CAACE,OAAQ,EAAGvB,KAAM,KAG1B2a,EAAY,CAChB5T,QAAS,GAGL6T,E,kDAEJ,WAAYnZ,GAAQ,IAAD,8BACjB,cAAMA,IAoBRoZ,eAAiB,SAAC3M,GAAD,OAAU,EAAK7F,SAAS,CAACyS,SAAU5M,KArBjC,EAuBnB6M,SAAW,WACM,EAAKnZ,MAAboZ,KACFlZ,QACFC,iBACAjL,MAAK,YAAiC,IAA/B0D,EAA8B,EAA9BA,SAAUG,EAAoB,EAApBA,MAAoB,oCACpC,EAAK8G,MAAM3C,SAAS,CAACtE,WAAUG,aAEhCzD,OAAM,SAACuL,GAAD,OAAUrL,QAAQC,IAAI,mBAAoBoL,OA5BnD,EAAKb,MAAQ,CACXkZ,UAAU,EACVE,KAAMtY,IAAMC,aAJG,E,+DAQAC,EAAWC,EAAWC,GAOvC,IANMF,EAAU4D,QAAUxD,KAAKvB,MAAM+E,SACnCxD,KAAKpB,MAAMoZ,KAAKlZ,QAAQmB,cACxBD,KAAKqF,SAAS,CAACyS,UAAU,IACzB9X,KAAKvB,MAAM3F,UACXkH,KAAKvB,MAAMlF,kBAERsG,EAAUiY,UAAY9X,KAAKpB,MAAMkZ,SAAU,CAAC,IAAD,EACG9X,KAAKvB,MAAM2J,SAArD6P,EADuC,EACvCA,YAAazgB,EAD0B,EAC1BA,SAAUC,EADgB,EAChBA,SAAUE,EADM,EACNA,MACxCqI,KAAKpB,MAAMoZ,KAAKlZ,QAAQqB,eAAe,CAAC8X,cAAazgB,WAAUC,WAAUE,a,+BAgBnE,IAAD,SAEqBqI,KAAKvB,MAA1B2J,EAFA,EAEAA,SAAU9H,EAFV,EAEUA,QAFV,EAGkBN,KAAKpB,MAAvBkZ,EAHA,EAGAA,SAAUE,EAHV,EAGUA,KACVC,EAAwD7P,EAAxD6P,YAAazgB,EAA2C4Q,EAA3C5Q,SAAUC,EAAiC2Q,EAAjC3Q,SAAUE,EAAuByQ,EAAvBzQ,MAAOoR,EAAgBX,EAAhBW,aAE/C,OACE,oBAAOpM,UAAW,WAAYzC,MAAO,CAACC,MAAO,QAA7C,UACE,mBAAYE,MAAZ,CAAkBX,MAAO,EAAzB,qBACU,mBAASlF,MAAO,OAAhB,SAAwB,kBAAY+F,KAAZ,UAAiB,cAAC,IAAD,CACjDqG,QAAS,kBAAM,EAAKiX,gBAAgBC,aAEtC,mBAAMvK,UAAU,EAAOtB,UAAW6L,EAAW,GAAKH,EAAlD,SACGG,EACC,8CAAU3Z,GAAV,IAAkB0C,IAAKmX,EAAMtkB,KAAK,cAAcgL,SAAUsB,KAAK+X,SAA/D,UACE,kBAAMjX,KAAN,CAAWpN,KAAK,cAAcqN,MAAM,cAApC,SACE,mBAAOgB,UAAQ,MAEjB,kBAAMjB,KAAN,CAAWpN,KAAK,WAAWqN,MAAM,WAAWC,MAAO,CACjD,CAACC,UAAU,EAAM3M,QAAS,2BAD5B,SAGE,wBAEF,kBAAMwM,KAAN,CAAWpN,KAAK,WAAWqN,MAAM,WAAjC,SACE,mBAAOgB,UAAQ,MAEjB,kBAAMjB,KAAN,CAAWpN,KAAK,QAAQqN,MAAM,QAAQC,MAAO,CAC3C,CAACxN,KAAM,QAASc,QAAS,iCACzB,CAAC2M,UAAU,EAAM3M,QAAS,wBAF5B,SAIE,wBAEF,kBAAMwM,KAAN,2BAAexC,GAAf,aACE,8BACE,mBAAQ4Z,SAAS,SAAStX,QAAS,kBAAM,EAAKiX,gBAAe,IAA7D,oBAGA,mBAAQrkB,KAAK,UAAU0kB,SAAS,SAAS5X,QAASA,EAAlD,8BAMN,oBAAc6M,OAAQ,EAAGI,UAAQ,EAAjC,UACE,kBAAczM,KAAd,CACEC,MAAO,kBAAYrD,KAAZ,CAAiBR,QAAM,EAAvB,yBADT,SACiE+a,IACjE,kBAAcnX,KAAd,CACEC,MAAO,kBAAYrD,KAAZ,CAAiBR,QAAM,EAAvB,sBADT,SAC8D1F,IAC9D,kBAAcsJ,KAAd,CACEC,MAAO,kBAAYrD,KAAZ,CAAiBR,QAAM,EAAvB,sBADT,SAC8DzF,IAC9D,kBAAcqJ,KAAd,CAAmBC,MAAO,kBAAYrD,KAAZ,CAAiBR,QAAM,EAAvB,mBAA1B,SACE,8BACGvF,EACAoR,GACD,mBAASvU,MAAK,2BAAsBuU,EAAtB,+BAAd,SACE,kBAAYrL,KAAZ,CAAiBlK,KAAM,UAAvB,SAAkC,cAAC,IAAD,yB,GA1FhCkM,IAAMyD,WA4GbC,uBALS,SAACC,GAEvB,MAAO,CAAC+E,SAD6C/E,EAA9C2D,KAAOoB,SACI5E,OADmCH,EAA5BI,KAAOtL,OAASqL,OACflD,QAASqD,oBAAUN,EAAOtH,gBAGd,CAACD,oBAAUhD,kBAASS,+BAA7C6J,CAA6DwU,I,iTC3HtEzZ,EAAS,CACbC,SAAU,CAACpB,KAAM,GACjBqB,WAAY,CAACrB,KAAM,KAGfsB,EAAa,CACjBD,WAAY,CAACE,OAAQ,EAAGvB,KAAM,KAG1Bmb,E,kDAEJ,WAAY1Z,GAAQ,IAAD,8BACjB,cAAMA,IAkBRoZ,eAAiB,SAAC3M,GAAD,OAAU,EAAK7F,SAAS,CAACyS,SAAU5M,KAnBjC,EAqBnB6M,SAAW,WACM,EAAKnZ,MAAboZ,KACFlZ,QACFC,iBACAjL,MAAK,YAA4C,IAA1CskB,EAAyC,EAAzCA,aAAcC,EAA2B,EAA3BA,aAA2B,+CAC/C,EAAK5Z,MAAMzC,aAAa,CAACoc,eAAcC,oBAExCnkB,OAAM,SAACuL,GAAD,OAAUrL,QAAQC,IAAI,mBAAoBoL,OA1BnD,EAAKb,MAAQ,CACXkZ,UAAU,EACVE,KAAMtY,IAAMC,aAJG,E,+DAQAC,EAAWC,EAAWC,IACjCF,EAAU4D,QAAUxD,KAAKvB,MAAM+E,SACnCxD,KAAKpB,MAAMoZ,KAAKlZ,QAAQmB,cACxBD,KAAKqF,SAAS,CAACyS,UAAU,IACzB9X,KAAKvB,MAAMlF,kBAERsG,EAAUiY,UAAY9X,KAAKpB,MAAMkZ,UACpC9X,KAAKpB,MAAMoZ,KAAKlZ,QAAQmB,gB,+BAgBlB,IAAD,OACAK,EAAWN,KAAKvB,MAAhB6B,QADA,EAEkBN,KAAKpB,MAAvBkZ,EAFA,EAEAA,SAAUE,EAFV,EAEUA,KAEjB,OACE,oBAAOrb,UAAW,WAAYzC,MAAO,CAACC,MAAO,QAA7C,UACE,kBAAYE,MAAZ,CAAkBX,MAAO,EAAzB,sBACA,mBAAM6T,UAAU,EAAhB,SACGuK,EACC,8CAAU3Z,GAAV,IAAkB0C,IAAKmX,EAAMtkB,KAAK,cAAcgL,SAAUsB,KAAK+X,SAA/D,UACE,kBAAMjX,KAAN,CAAWpN,KAAK,eAAeqN,MAAM,eAAe+B,aAAW,EAAC9B,MAAO,CACrE,CAACC,UAAU,EAAM3M,QAAS,0BAC1B,CAAC6N,IAAK,EAAG7N,QAAS,4CAFpB,SAIE,kBAAOyO,SAAP,CAAgBvP,KAAK,eAEvB,kBAAMsN,KAAN,CAAWpN,KAAK,eAAeqN,MAAM,eAAe+B,aAAW,EAAC9B,MAAO,CACrE,CAACC,UAAU,EAAM3M,QAAS,0BAC1B,CAAC6N,IAAK,EAAG7N,QAAS,4CAFpB,SAIE,kBAAOyO,SAAP,CAAgBvP,KAAK,eAEvB,kBAAMsN,KAAN,CACEpN,KAAK,kBACLqN,MAAM,mBACNiC,aAAc,CAAC,gBACfF,aAAW,EACX9B,MAAO,CACL,CAACC,UAAU,EAAM3M,QAAS,gCAC1B,gBAAEiO,EAAF,EAAEA,cAAF,MAAsB,CACpBU,UADoB,SACVC,EAAMrB,GACd,OAAKA,GAASU,EAAc,kBAAoBV,EAGzCtJ,QAAQC,OAAO,oDAFbD,QAAQpF,cAVzB,SAgBE,kBAAO4P,SAAP,CAAgBvP,KAAK,eAEvB,kBAAMsN,KAAN,2BAAexC,GAAf,aACE,8BACE,mBAAQ4Z,SAAS,SAAStX,QAAS,kBAAM,EAAKiX,gBAAe,IAA7D,oBAGA,mBAAQrkB,KAAK,UAAU0kB,SAAS,SAAS5X,QAASA,EAAlD,8BAMN,kBAAY/F,KAAZ,CAAiBqG,QAAS,kBAAM,EAAKiX,gBAAe,IAApD,sC,GApFWnY,IAAMyD,WAkGdC,uBALS,SAACC,GAEvB,MAAO,CAACG,OAD2BH,EAA5BI,KAAOtL,OAASqL,OACPlD,QAASqD,oBAAUN,EAAOtH,gBAGJ,CAACC,4BAAczC,+BAAxC6J,CAAwD+U,I,2gBCvFjEG,E,kDAEJ,WAAY7Z,GAAQ,IAAD,8BACjB,cAAMA,IA+BRoN,aAAe,YAAY,IAAVC,EAAS,EAATA,IAAS,EAEI9U,IAAE4D,MAAMkR,EAAK,KAFjB,mBAEFpZ,GAFE,gBAGxB,EAAK+L,MAAMnJ,yBAAyB5C,GACpC,EAAK2S,SAAS,CAACuM,SAAU1D,SAASxb,MApCjB,EAyCnB4e,WAAa,SAACO,GAAsB,IAAhBhT,EAAe,uDAAT,KACxB,EAAKwG,SAAS,CAACtF,KAAM8R,EAAMhT,SA1CV,EA6CnByP,WAAa,WACX,EAAKjJ,SAAS,CAACtF,KAAM,KAAMlB,IAAK,QA5ChC,EAAKD,MAAQ,CACXgT,SAAU,KACV7R,KAAM,KACNlB,IAAK,MALU,E,gEAUjBmB,KAAKvB,MAAMzI,kB,yCAGM4J,EAAWC,EAAWC,IAClCF,EAAU2D,SAAWvD,KAAKvB,MAAM8E,UACnCvD,KAAKsO,aACLtO,KAAKvB,MAAMnJ,yBAAyB0K,KAAKpB,MAAMgT,UAC/C5R,KAAKvB,MAAMlF,kBAEPqG,EAAU4D,QAAUxD,KAAKvB,MAAM+E,SACnCxD,KAAKsO,aACLtO,KAAKvB,MAAMnJ,yBAAyB0K,KAAKpB,MAAMgT,UAC/C5R,KAAKvB,MAAMlF,mB,6CAKbyG,KAAKvB,MAAM6O,qB,+BAsBH,IAAD,SAEoCtN,KAAKvB,MAAzC6H,EAFA,EAEAA,SAAUhG,EAFV,EAEUA,QAAS8V,EAFnB,EAEmBA,cAFnB,EAIuBpW,KAAKpB,MAA5BgT,EAJA,EAIAA,SAAU7R,EAJV,EAIUA,KAAMlB,EAJhB,EAIgBA,IAEjBsO,EAAS,CACb,CACE3Y,MAAO,SACP4Y,UAAW,SACXtB,IAAK,SACLpG,OAAQ,SAACvN,GAAD,OAAaA,GAAU,cAAC,UAAD,CAAuBA,OAAQA,KAC9DkX,OAAQ,SAACC,EAAGC,GACV,IAAMgJ,EAAS,CAAC,SAAU,WAAY,UAAW,YACjD,OAAOA,EAAO7W,QAAQ4N,EAAEnX,QAAUogB,EAAO7W,QAAQ6N,EAAEpX,SAErDqgB,iBAAkB,UAEpB,CACEhkB,MAAO,UACP4Y,UAAW,UACXtB,IAAK,UACL8C,QAAS5X,IAAEof,GAAe7jB,KAAI,YAAgB,IAAdyM,EAAa,EAAbA,QAC9B,MAAO,CAACrF,KAAMqF,EAAQxH,SAAUqK,MAAO7C,EAAQxH,aAC9C2X,OAAO,SAAStN,QACnBgN,SAAU,SAAChN,EAAD,YAAS7C,QAAqBxH,SAASmO,SAAS9D,IAC1D6D,OAAQ,gBAAElO,EAAF,EAAEA,SAAUG,EAAZ,EAAYA,MAAZ,OAAwB,gCAC9B,kBAAY+F,KAAZ,CAAiBR,QAAM,EAAvB,SAAyB1F,IAA2B,uBACpD,kBAAYkG,KAAZ,CAAiBlK,KAAM,YAAvB,SAAqCmE,SAGzC,CACEnD,MAAO,UACP4Y,UAAW,OACXtB,IAAK,QAEP,CACEtX,MAAO,UACP4Y,UAAW,UACXtB,IAAK,UACLpG,OAAQ,SAACxJ,GAAD,OAAeA,GAAY,cAAC,UAAD,CAAYxI,KAAMwI,EAASxI,SAEhE,CACEc,MAAO,SACP4Y,UAAW,SACXtB,IAAK,SACLpG,OAAQ,SAAC/L,EAAD,OAAQ0F,EAAR,EAAQA,WAAYC,EAApB,EAAoBA,SAApB,OAAkCY,IAAOb,GAAYE,OAAO,MAChE,MAAQW,IAAOZ,GAAUC,OAAO,QAEtC,CACE/K,MAAO,eACP4Y,UAAW,YACXtB,IAAK,YACLpG,OAAQ,SAACiC,GAAD,OAAWA,EAAQzH,IAAOyH,EAAM6H,mBAAmBiJ,UAAY,MAEzE,CACEjkB,MAAO,SACPsX,IAAK,SACLpG,OAAQ,SAAC/L,EAAD,OAAQqF,EAAR,EAAQA,QAAYkR,EAApB,kCACN,8BACE,mBAAS1b,MAAO,OAAhB,SACE,kBAAY+F,KAAZ,CAAiBqG,QAAS,kBAAM,EAAK0Q,WAAWoH,UAAiBllB,KAAKoS,YAAtC,2BAAuDsK,GAAvD,IAA+DlR,QAASA,EAAQtM,OAAhH,SACE,cAAC,IAAD,QAGJ,mBAAS8B,MAAO,SAAhB,SACE,kBAAY+F,KAAZ,CAAiBqG,QAAS,kBAAM,EAAKnC,MAAM0F,QAAQqE,KAAnB,UAA2B,EAAK/J,MAAMgK,MAAMpR,IAA5C,YAAmD6Y,EAAOxd,MAA1F,SACE,cAAC,IAAD,cAQZ,OACE,oBAAOiK,UAAW,WAAYzC,MAAO,CAACC,MAAO,QAA7C,UACE,kBAAYE,MAAZ,CAAkBX,MAAO,EAAzB,0BACA,mBAAM6T,UAAU,EAAhB,SACE,mBAAM5E,SAAUrI,EAAQzK,QAAxB,SACE,oBAAQqE,MAAO,CAAC+O,UAAW,IAAKkH,OAAQ,qBAAxC,UACE,kBAAQjG,MAAR,CAAcrN,UAAU,yBAAyB1C,MAAO,IAAxD,SAEGmM,EAAS8J,OACR,mBACElF,KAAK,SACLmF,gBAAiB,CAAC,aAClBnW,MAAO,CAAC2O,OAAQ,QAChBsD,SAAUnM,KAAK6L,aAJjB,SAKG7U,IAAEzE,IAAI+T,GAAU,WAA6BgK,GAAU,EAArC5d,GAAsC,IAAlCgB,EAAiC,EAAjCA,KAAM0R,EAA2B,EAA3BA,KAAMkB,EAAqB,EAArBA,SACjC,OAAO,kBAAMiK,QAAN,CAAuCnL,KAAM,cAAC,IAAD,CAAM5R,KAAM4R,IAAS5Q,MAAOd,EAAzE,SACJsD,IAAEzE,IAAI+T,GAAU,WAAmBkK,GAAnB,IAAE9d,EAAF,EAAEA,GAAIgB,EAAN,EAAMA,KAAM0R,EAAZ,EAAYA,KAAZ,OACf,kBAAMtE,KAAN,CAA4CsE,KAAM,cAAC,IAAD,CAAM5R,KAAM4R,IAA9D,SAAwE1R,GAAxD,QAAU4c,EAAQ,IAAM5d,OAFlB,WAAa4d,QAMzC,wBAGN,kBAAQpI,QAAR,CAAgBhO,MAAO,CAAC6J,QAAS,UAAjC,SACE,oBAAM4E,SAAUrI,EAAQ8O,KAAxB,UAEGgH,EAAchG,OACb,oBAAOzT,UAAW,WAAYzC,MAAO,CAACI,OAAQ,SAAUH,MAAO,QAA/D,UACE,mBAAQ3G,KAAK,UACL0G,MAAO,CAACkR,MAAO,SACfhG,KAAM,cAAC,IAAD,IACNxE,QAAS,kBAAM,EAAK0Q,WAAWoH,UAAiBllB,KAAKoS,YAAa,CAACrQ,WAAY2Y,SAAS0D,MAHhG,8BAMA,mBAAOnE,QAASN,EACTO,WAAY0I,EACZzI,OAAQ,KACRzT,MAAO,CAACC,MAAO,aAEtB,mBAAOwW,MAAO,IAAMC,yBAEtB,cAAC,UAAD,CAAkB7Q,KAAMA,IAAS2Y,UAAiBllB,KAAKoS,YAAavF,SAAUL,KAAKsO,WAAYzP,IAAKA,uB,GAxKzFa,IAAMyD,WAqMtBC,uBAhBS,SAACC,GAAW,IAEtBiD,EAERjD,EAFFxN,QAAUyQ,SAFqB,EAI7BjD,EADFC,aAAe8S,EAHgB,EAGhBA,cAHgB,IAGDje,OAASoL,EAHR,EAGQA,QAASC,EAHjB,EAGiBA,OAElD,MAAO,CACLlD,QAAS,CACPzK,QAAS8N,oBAAUN,EAAOpN,mBAC1BmZ,KAAMzL,oBAAUN,EAAO7N,qBAEzB8Q,WAAU8P,gBACV7S,UACAC,YAIoC,CACtCxN,8BACAV,oDACAiE,8BACA+T,qCAJalK,CAKZkV,I,2WC3MGK,E,kDAEJ,WAAYla,GAAQ,IAAD,8BACjB,cAAMA,IAeRma,aAAe,gBAAE9M,EAAF,EAAEA,IAAF,OAAW,EAAKzG,SAAS,CAACrM,KAAM8S,KAhB5B,EAkBnBwF,WAAa,SAACO,GAAD,IAAOhT,EAAP,uDAAa,KAAb,OAAsB,EAAKwG,SAAS,CAACtF,KAAM8R,EAAMhT,SAlB3C,EAoBnByP,WAAa,kBAAM,EAAKjJ,SAAS,CAACtF,KAAM,KAAMlB,IAAK,QApBhC,EAsBnBga,cAAgB,WAAO,IACdnmB,EAAM,EAAK+L,MAAM6E,aAAjB5Q,GACP,OAAQ,EAAKkM,MAAM5F,MACjB,IAAK,UACH,OAAQ,cAAC,UAAD,CAASoW,KAAM1c,IACzB,IAAK,SACH,OAAQ,cAAC,UAAD,CAAO0c,KAAM1c,IACvB,IAAK,WACH,OAAQ,cAAC,UAAD,CAAU0c,KAAM1c,IAC1B,IAAK,cACH,OAAQ,cAAC,UAAD,CAAY0c,KAAM1c,IAC5B,IAAK,QACH,OAAQ,cAAC,UAAD,CAAO0c,KAAM1c,IACvB,QAAS,OAAO,OAjClB,EAAKkM,MAAQ,CACX5F,KAAM,UACN+G,KAAM,KACNlB,IAAK,MALU,E,gEASE,IACD3J,EAAa8K,KAAKvB,MAA5BgK,MAAUvT,OACdA,EAAOka,MAAOpP,KAAKvB,MAAMnL,gBAAgB4B,EAAOka,Q,6CAG9BpP,KAAKvB,MAAM6O,qB,+BAyBzB,IAAD,EAEyBtN,KAAKvB,MAA9B6B,EAFA,EAEAA,QAASgD,EAFT,EAESA,aAEhB,OACE,oBAAO3G,UAAW,WAAYzC,MAAO,CAACC,MAAO,QAA7C,UACE,kBAAYE,MAAZ,CAAkBX,MAAO,EAAzB,iCACA,mBAAMiP,SAAUrI,EAAhB,SACGgD,GACD,oBAAQzG,UAAU,yBAAyB3C,MAAO,CAAE6J,QAAS,SAAUkF,UAAW,KAAlF,UAEE,mBAAQiB,MAAR,CAAcrN,UAAU,yBAAyB1C,MAAO,IAAxD,UACE,oBAAOwC,UAAW,WAAYzC,MAAO,CAACC,MAAO,OAAQ4J,QAAS,SAAU+U,YAAa,oBAAqBzW,aAAc,GAAxH,UACE,kBAAYhI,MAAZ,CAAkBX,MAAO,EAAGQ,MAAO,CAACI,OAAQ,EAAGpD,MAAOsF,OAAKuc,SAA3D,SAAsEzV,EAAatE,QAAQxH,WAC3F,kBAAYkG,KAAZ,CAAiBlK,KAAK,YAAtB,SAAmC8P,EAAatE,QAAQrH,QACxD,mBAAY+F,KAAZ,mBAAuB4F,EAAatQ,WAEtC,oBACEkY,KAAK,SACLgB,oBAAqB,CAAClM,KAAKpB,MAAM5F,MACjCmT,SAAUnM,KAAK4Y,aAHjB,UAIE,kBAAM9X,KAAN,CAAyBsE,KAAM,cAAC,IAAD,IAA/B,oBAAe,WACf,kBAAMtE,KAAN,CAAwBsE,KAAM,cAAC,IAAD,IAA9B,oBAAe,UACf,kBAAMtE,KAAN,CAA0BsE,KAAM,cAAC,IAAD,IAAhC,qBAAe,YACf,kBAAMtE,KAAN,CAAuBsE,KAAM,cAAC,IAAD,IAA7B,kBAAe,SACf,kBAAMtE,KAAN,CAA6BsE,KAAM,cAAC,IAAD,IAAnC,wBAAe,qBAInB,kBAAQ8C,QAAR,CAAgBhO,MAAO,CAAC6J,QAAS,SAAUkF,UAAW,KAAtD,SACGjJ,KAAK6Y,8B,GAvEanZ,IAAMyD,WA0FxBC,uBARS,SAACC,GAAW,IACZC,EAAkBD,EAAjCC,aAAeA,aACtB,MAAO,CACLhD,QAASqD,oBAAUN,EAAO1P,wBAC1B2P,kBAIoC,CACtChQ,kCAAiBiG,8BAAe+T,qCADnBlK,CAEZuV,I,qaChGGK,E,kDAEJ,WAAYva,GAAQ,IAAD,8BACjB,cAAMA,IAmBR6S,WAAa,eAACzS,EAAD,uDAAO,KAAP,OAAgB,EAAKwG,SAAS,CAACtF,MAAM,EAAMlB,SApBrC,EAsBnByP,WAAa,kBAAM,EAAKjJ,SAAS,CAACtF,KAAM,KAAMlB,IAAK,QApBjD,EAAKD,MAAQ,CACXmB,KAAM,KACNlB,IAAK,MAJU,E,gEASjBmB,KAAKvB,MAAM9J,uBAAuBqL,KAAKvB,MAAM2Q,Q,yCAG5BxP,EAAWC,EAAWC,IACjCF,EAAU4D,QAAUxD,KAAKvB,MAAM+E,SACnCxD,KAAKsO,aACLtO,KAAKvB,MAAM9J,uBAAuBqL,KAAKvB,MAAM2Q,MAC7CpP,KAAKvB,MAAMlF,mB,+BAQL,IAAD,SAEoByG,KAAKvB,MAAzB6B,EAFA,EAEAA,QAAS+V,EAFT,EAESA,QAEhB,OACE,mBAAM1N,SAAUrI,EAAhB,SACG+V,GAAW,qCACZ,oBAAOzZ,KAAM,SAAUD,UAAW,WAAYzC,MAAO,CAACC,MAAO,QAA7D,UACE,mBAAQ3G,KAAK,UAAU0G,MAAO,CAACkR,MAAO,SAAUhG,KAAM,cAAC,IAAD,IAC9CxE,QAAS,kBAAM,EAAK0Q,WAAW,OADvC,+BAIA,oBAAKT,OAAQ,GAAb,UACE,8CAAS,CAACY,GAAI,EAAGC,GAAI,KAArB,cACE,mBAAWld,MAAM,cAAcqN,MAAO3B,IAAOmW,EAAQ/W,UAAUC,OAAO,QACrEW,MAAS+Y,cAAc/Y,IAAOmW,EAAQ/W,UAAU2C,SAAS,EAAG,SAC7D,mBAAYvE,KAAZ,CACElK,KAAM,SADR,UACkB,cAAC,IAAD,IADlB,SACyC0M,IAAOmW,EAAQ/W,UAAUkO,IAAI,EAAG,OAAOiL,iBAGlF,6CAAS,CAAChH,GAAI,EAAGC,GAAI,KAArB,aACG2E,EAAQ6C,aAAa9I,OACpB,mBAAW5b,MAAM,yBAAyBqN,MAAK,UAAKwU,EAAQ6C,aAAa9I,OAA1B,YACpC7J,OAAQ,cAAC,IAAD,MACnB,mBAAW/R,MAAM,yBAAyBqN,MAAO,YAAa0E,OAAQ,cAAC,IAAD,YAG5E,oBACEgH,UAAQ,EACR3Q,KAAM,SACNuQ,OAAQ,EAHV,UAIE,kBAAcrM,KAAd,CAAmBC,MAAO,qBAAK7G,MAAO,CAACif,UAAW,SAAxB,iCAA1B,SACE,cAAC,UAAD,CAAuBhhB,OAAQke,EAAQle,WAEzC,mBAAc2I,KAAd,CAAmBC,MAAO,qBAAK7G,MAAO,CAACif,UAAW,SAAxB,6BAA1B,UACG9C,EAAQrjB,KADX,IACiB,kBAAY0K,KAAZ,CAAiBlK,KAAM,YAAvB,4BAEjB,mBAAcsN,KAAd,CAAmBC,MAAO,qBAAK7G,MAAO,CAACif,UAAW,SAAxB,qBAA1B,UACG9C,EAAQxgB,QAAQnC,KADnB,IACyB,kBAAYgK,KAAZ,CAAiBlK,KAAM,YAAvB,SAAqC6iB,EAAQxgB,QAAQqc,cAAcxe,UAE5F,kBAAcoN,KAAd,CAAmBC,MAAO,qBAAK7G,MAAO,CAACif,UAAW,SAAxB,qBAA1B,SACG,cAAC,UAAD,CAAYzlB,KAAM2iB,EAAQla,QAAQzI,SAErC,kBAAcoN,KAAd,CAAmBC,MAAO,qBAAK7G,MAAO,CAACif,UAAW,SAAxB,gCAA1B,SACGjZ,IAAOmW,EAAQhX,YAAYE,OAAO,QAErC,kBAAcuB,KAAd,CAAmBC,MAAO,qBAAK7G,MAAO,CAACif,UAAW,SAAxB,8BAA1B,SACGjZ,IAAOmW,EAAQ/W,UAAUC,OAAO,QAEnC,kBAAcuB,KAAd,CAAmBC,MAAO,qBAAK7G,MAAO,CAACif,UAAW,SAAxB,0BAA1B,SACG9C,EAAQ+C,aAAR,UAA0B/C,EAAQ+C,aAAlC,2BAEH,kBAActY,KAAd,CAAmBC,MAAO,qBAAK7G,MAAO,CAACif,UAAW,SAAxB,+BAA1B,SACG9C,EAAQC,OAAOlG,OAAS,qCAAE,cAAC,IAAD,IAAF,IAAmBiG,EAAQC,OAAOlG,OAAlC,cAAuD,cAElF,kBAActP,KAAd,CAAmBC,MAAO,qBAAK7G,MAAO,CAACif,UAAW,SAAxB,mCAA1B,SACG9C,EAAQ6C,aAAa9I,OAAS,qCAAE,cAAC,IAAD,IAAF,IAAmBiG,EAAQ6C,aAAa9I,OAAxC,cAA6D,oBAIlG,cAAC,UAAD,CAAkBrQ,KAAMC,KAAKpB,MAAMmB,KAAMM,SAAUL,KAAKsO,WAAYzP,IAAKwX,a,GAtF/C3W,IAAMyD,WAuGzBC,uBARS,SAACC,GAAW,IAAD,EACmBA,EAA7CC,aAAe+S,EADW,EACXA,QAAkB7S,EADP,EACFrL,OAASqL,OACxC,MAAO,CACLlD,QAASqD,oBAAUN,EAAOzO,4BAC1ByhB,UAAS7S,YAI2B,CACtC7O,gDAAwB4E,+BADX6J,CAEZ4V,I,wXC1GGK,E,kDAEJ,WAAY5a,GAAQ,IAAD,8BACjB,cAAMA,IAwBR6S,WAAa,eAACzS,EAAD,uDAAO,KAAP,OAAgB,EAAKwG,SAAS,CAACtF,MAAM,EAAMlB,SAzBrC,EA2BnByP,WAAa,kBAAM,EAAKjJ,SAAS,CAACtF,KAAM,KAAMlB,IAAK,QAzBjD,EAAKD,MAAQ,CACXmB,KAAM,KACNlB,IAAK,MAJU,E,gEASjBmB,KAAKvB,MAAM5J,sBAAsBmL,KAAKvB,MAAM2Q,Q,yCAG3BxP,EAAWC,EAAWC,IACjCF,EAAU2D,SAAWvD,KAAKvB,MAAM8E,UACpCvD,KAAKsO,aACLtO,KAAKvB,MAAM5J,sBAAsBmL,KAAKvB,MAAM2Q,MAC5CpP,KAAKvB,MAAMlF,kBAEPqG,EAAU4D,QAAUxD,KAAKvB,MAAM+E,SACnCxD,KAAKsO,aACLtO,KAAKvB,MAAM5J,sBAAsBmL,KAAKvB,MAAM2Q,MAC5CpP,KAAKvB,MAAMlF,mB,+BAQL,IAAD,SAEiCyG,KAAKvB,MAAtC6B,EAFA,EAEAA,QAASgD,EAFT,EAESA,aAAcgT,EAFvB,EAEuBA,OAExBnJ,EAAS,CACb,CACE3Y,MAAO,SACP4Y,UAAW,SACXtB,IAAK,SACLpG,OAAQ,SAACvN,GAAD,OAAaA,GAAU,cAAC,UAAD,CAAuBA,OAAQA,KAC9DkX,OAAQ,SAACC,EAAGC,GACV,IAAMgJ,EAAS,CAAC,SAAU,WAAY,WACtC,OAAOA,EAAO7W,QAAQ4N,EAAEnX,QAAUogB,EAAO7W,QAAQ6N,EAAEpX,SAErDqgB,iBAAkB,UAEpB,CACEhkB,MAAO,QACP4Y,UAAW,QACXtB,IAAK,QACLpG,OAAQ,gBAAE1S,EAAF,EAAEA,KAAMwK,EAAR,EAAQA,MAAR,OAAoB,gCAC1B,kBAAYE,KAAZ,CAAiBR,QAAM,EAAvB,SAAyBlG,IAAEsiB,WAAWtmB,KAAwB,uBAC9D,kBAAY0K,KAAZ,CAAiBlK,KAAM,YAAvB,SAAqCgK,SAGzC,CACEhJ,MAAO,aACP4Y,UAAW,aACXtB,IAAK,aACLpG,OAAQ,SAACzG,GAAD,OAAUA,EAAOiB,IAAOjB,GAAMM,OAAO,MAAQ,MACrD8P,OAAQ,SAACC,EAAGC,GAAJ,OAAUD,EAAEjQ,WAAakQ,EAAElQ,aAErC,CACE7K,MAAO,WACP4Y,UAAW,WACXtB,IAAK,WACLpG,OAAQ,SAACzG,GAAD,OAAUA,EAAOiB,IAAOjB,GAAMM,OAAO,MAAQ,MACrD8P,OAAQ,SAACC,EAAGC,GAAJ,OAAUD,EAAEhQ,SAAWiQ,EAAEjQ,WAEnC,CACE9K,MAAO,iBACPsX,IAAK,iBACLpG,OAAQ,SAAC/L,EAAD,GAAiG,IAAzF4f,EAAwF,EAAxFA,OAAsBC,EAAkE,EAAhFnc,aAAgF,IAAlDC,MAAQA,EAA0C,EAA1CA,MAAqBmc,EAAqB,EAAnCpc,aAC7Dqc,EAAe,SAAC,GAAqD,IAApDpc,EAAmD,EAAnDA,MAAOmc,EAA4C,EAA5CA,eAAgBF,EAA4B,EAA5BA,OAAQC,EAAoB,EAApBA,eACpD,OAAIC,GAAkBD,EACb,kBAAY9b,KAAZ,CAAiBlK,KAAM,UAAW0J,QAAM,EAAxC,uBACAlG,IAAE2G,OAAOL,IAAUic,EACnBA,EACAviB,IAAE2G,OAAOL,GACT,kBAAYI,KAAZ,CAAiBlK,KAAM,SAAU0J,QAAM,EAAvC,oBACAqc,EACAjc,EAAQic,EAERjc,GAEX,OAAO,qCAAGoc,EAAa,CAACpc,QAAOmc,mBAAxB,IAA0C,cAAC,IAAD,IAA1C,IAAiEC,EAAa,CACnFH,SACAjc,QACAkc,wBAIN,CACEhlB,MAAO,SACPsX,IAAK,SACLpG,OAAQ,SAAC/L,EAAMuW,GAAP,OACN,4BACE,mBAAS1b,MAAO,OAAhB,SACE,mBAAQhB,KAAK,OAAO4R,KAAM,cAAC,IAAD,IAAiBrD,SAAkC,WAAxBuB,EAAanL,OAC1DyI,QAAS,kBAAM,EAAK0Q,WAAL,aAAiBhO,gBAAiB4M,cAOnE,OAAQ,oBAAMvH,SAAUrI,EAAhB,UACN,oBAAO1D,KAAM,SAAUD,UAAW,WAAYzC,MAAO,CAACC,MAAO,QAA7D,UACE,mBAAQ3G,KAAK,UAAU0G,MAAO,CAACkR,MAAO,SAAUhG,KAAM,cAAC,IAAD,IAC9CrD,SAAkC,WAAxBuB,EAAanL,OACvByI,QAAS,kBAAM,EAAK0Q,WAAW,CAAChO,kBAFxC,qBAKA,mBAAOmK,QAASN,EAAQO,WAAY4I,EAAQ3I,OAAQ,KAAMzT,MAAO,CAACC,MAAO,aAE3E,cAAC,UAAD,CAAW4F,KAAMC,KAAKpB,MAAMmB,KAAMM,SAAUL,KAAKsO,WAAYzP,IAAKmB,KAAKpB,MAAMC,a,GApHnDa,IAAMyD,WAkIvBC,uBARS,SAACC,GAAW,IAAD,EACkDA,EAA5EC,aAAeA,EADW,EACXA,aAAcgT,EADH,EACGA,OADH,EACkDjT,EAAtCgE,MAAQlP,OAASoL,EAD7B,EAC6BA,QAASC,EADtC,EACsCA,OACvE,MAAO,CACLlD,QAASqD,oBAAUN,EAAOvO,4BAC1BwO,eAAcgT,SAAQ/S,UAASC,YAIK,CACtC3O,8CAAuB0E,+BADV6J,CAEZiW,I,4XCvIGlb,EAAS,CACbC,SAAU,CAACpB,KAAM,GACjBqB,WAAY,CAACrB,KAAM,KAGf2c,E,kDAEJ,WAAYlb,GAAQ,IAAD,8BACjB,cAAMA,IAuBRC,SAAY,WAAO,IACVC,EAAW,EAAKC,MAAhBD,QADS,EAEmB,EAAKF,MAAjCI,EAFS,EAETA,IAAK4U,EAFI,EAEJA,SAAUE,EAFN,EAEMA,UACtBhV,EAAQG,QACLC,iBACAjL,MAAK,YAAyB,IAAvBmL,EAAsB,EAAtBA,KAAShL,EAAa,sCACGgL,EADH,GACrBI,EADqB,KACTC,EADS,KAErB5M,EAA6BmM,EAA7BnM,GAAI4Q,EAAyBzE,EAAzByE,aAAiBsT,EAFA,YAEQ/X,EAFR,uBAGxBnM,EACFihB,EAAUjhB,EAAD,aACP2M,WAAYA,EAAWE,OAAO,cAC9BD,SAAUA,EAASC,OAAO,eACvBtL,IAGLwf,EAAS,2BACJmD,GADG,IAENgD,gBAAiBtW,EAAa5Q,GAC9B2M,WAAYA,EAAWE,OAAO,cAC9BD,SAAUA,EAASC,OAAO,eACvBtL,OAGRC,OAAM,SAACuL,GAAD,OAAUrL,QAAQC,IAAI,mBAAoBoL,OA7CnD,EAAKb,MAAQ,CACXD,QAASe,IAAMC,aAHA,E,+DAOAC,EAAWC,EAAWC,GACvC,IAAKF,EAAUG,MAAQC,KAAKvB,MAAMsB,OAChCC,KAAKpB,MAAMD,QAAQG,QAAQmB,cACvBD,KAAKvB,MAAMI,KAAK,CAAC,IAAD,EACmCmB,KAAKvB,MAAMI,IAAzDyE,EADW,EACXA,aAAcjE,EADH,EACGA,WAAYC,EADf,EACeA,SAAaT,EAD5B,wDAEXgb,EAAcvW,EAAduW,WAID5a,EAAOI,EAAa,CAACa,IAAOb,GAAaa,IAAOZ,IAAa,KAEnEU,KAAKpB,MAAMD,QAAQG,QAAQqB,eAA3B,2BAJa,CAAC9C,cAAc,IAI5B,IAAoD4B,QAASJ,IAC7DmB,KAAKvB,MAAMnD,WAAWue,M,+BA+BlB,IAAD,EAE0C7Z,KAAKvB,MAA/CsB,EAFA,EAEAA,KAAMM,EAFN,EAEMA,SAAUxB,EAFhB,EAEgBA,IAAKyB,EAFrB,EAEqBA,QAASpE,EAF9B,EAE8BA,SAE9BoH,GAAgBzE,GAAY,IAA5ByE,aACAhE,GAAYgE,GAA8B,IAA1ChE,SACAjD,GAAUH,GAAsB,CAACG,OAAQ,KAAzCA,OAEAsC,EAAWqB,KAAKpB,MAAhBD,QAQP,OACE,mBACE+B,QAASX,EACTvL,MAAM,SACN6L,SAAUA,EACVM,OAAQ,CACN,mBAAmBC,QAASP,EAA5B,mBAAY,QACZ,mBAAqB7M,KAAK,UAAU8M,QAASA,EAAQzB,GAAOA,EAAInM,GAAK,OAAS,UACtEkO,QAASZ,KAAKtB,SADtB,mBAAY,WANhB,SAUE,8CAAUP,GAAV,IAAkB0C,IAAKlC,EAASjL,KAAK,cAAcgL,SAAUsB,KAAKtB,SAAlE,UAEE,kBAAMoC,KAAN,CAAWpN,KAAK,WAAWqN,MAAO,QAASC,MAAO,CAAC,CAACC,UAAU,EAAM3M,QAAS,+BAA7E,SACE,mBACE4M,YAAU,EACVC,YAAY,eACZC,iBAAiB,WACjBC,aAAc,SAACC,EAAOC,GAAR,OAAmBA,EAAOC,SAASC,cAAcC,QAAQJ,EAAMG,gBAAkB,GAC/FnB,QAASA,EAAQnE,QACjBwF,YAAU,EANZ,SAOG3K,IAAEzE,IAAI8J,GAAQ,gBAAE3J,EAAF,EAAEA,GAAIM,EAAN,EAAMA,KAAN,OAAgB,kBAAQ4O,OAAR,CAAeC,MAAOnP,EAAtB,SAA2BM,WAI9D,kBAAM8N,KAAN,CAAWpN,KAAK,OAAOqN,MAAM,SAASC,MAAO,CAAC,CAACC,UAAU,EAAM3M,QAAS,yBAAxE,SACE,kBAAYwN,YAAZ,CAAwB5H,MAAO,CAACC,MAAO,QAAS6H,aAhCnC,SAAClD,GACpB,OAAOQ,GAAYR,IAChBoB,IAAOpB,GAASgb,SAAS5Z,MAAS+B,SAAS,EAAG,SAC/C/B,IAAOpB,GAASib,QAAQ7Z,IAAOZ,GAAUkO,IAAI,EAAG,cAgC9C,kBAAM1M,KAAN,CAAWC,MAAO,SAAUrN,KAAM,SAAUsN,MAAO,CAAC,CAACC,UAAU,EAAM3M,QAAS,yBAA9E,SACE,mBAAa6N,IAAK,MAGpB,kBAAMrB,KAAN,CAAWC,MAAO,YAAa4B,cAAc,UAAUjP,KAAM,eAA7D,SACE,mBAAQkP,gBAAiB,YAAaC,kBAAmB,wB,GAtG7CnD,IAAMyD,WA6HfC,uBAXS,SAACC,GAAW,IAAD,EAC0CA,EAApEgE,MAAQlP,OAASoL,EADS,EACTA,QAASC,EADA,EACAA,OAA6BtH,EAAamH,EAAhClH,QAAUA,QACrD,MAAO,CACLmE,QAAS,CACPoD,OAAQC,oBAAUN,EAAOqQ,cACzB9P,KAAMD,oBAAUN,EAAOuQ,gBAEzBrQ,UAASC,SAAQtH,cAImB,CACtCuX,oBACAE,sBACArY,yBAHa8H,CAIZuW,I,kbCnIGN,E,kLAGFrZ,KAAKvB,MAAM1J,wBAAwBiL,KAAKvB,MAAM2Q,Q,+BAGtC,IAAD,EAEmCpP,KAAKvB,MAAxC6B,EAFA,EAEAA,QAASiW,EAFT,EAESA,SAAUjT,EAFnB,EAEmBA,aAEnBjE,EAA2CiE,EAA3CjE,WAAYC,EAA+BgE,EAA/BhE,SAAmBpD,EAAYoH,EAArBnH,QAE7B,OACE,mBAAMwM,SAAUrI,EAAhB,SACE,oBAAUpG,MAAO,CAAC8f,UAAW,GAA7B,UAEE,kBAAUlZ,KAAV,CAAemZ,IAAK,cAAC,IAAD,CAAkB/f,MAAO,CAACggB,SAAU,UAAYhjB,MAAO,QAA3E,SACE,oBAAOyF,UAAW,WAAYzC,MAAO,CAACC,MAAO,QAA7C,UACE,8BACE,mBAAYuD,KAAZ,kCAAsCwC,IAAOb,GAAYE,OAAO,MAAhE,OACCW,MAASia,OAAOja,IAAOb,GAAa,QAAU,mBAAKnI,MAAM,OAAX,oBAEjD,oBAAK2Z,OAAQ,CAAC,IAAd,UACE,mBAAK5F,KAAK,QAAV,SACE,mBAAMpO,UAAW,cAAjB,SACE,cAAC,UAAD,CAAaV,QAASD,QAG1B,mBAAK+O,KAAK,OAAV,SACE,mBACEmP,WAAW,aACX1M,WAAY,GACZ2M,OAAQ,gCAAK,cAAC,IAAD,IAAL,cACRC,WAAY,oBAAEhd,MAAQtK,EAAV,EAAUA,KAAMwK,EAAhB,EAAgBA,MAAQ+b,EAAxB,EAAwBA,OAAQlc,EAAhC,EAAgCA,aAAhC,OACV,mBAAMyD,KAAN,WACE,kBAAMA,KAAKiK,KAAX,CACEvW,MAAO,kBAAYkJ,KAAZ,CAAiBR,QAAM,EAAvB,SAAyBlG,IAAEsiB,WAAWtmB,KAC7CoJ,YAAaoB,IAEf,8BAAOH,EACL,kBAAYK,KAAZ,CAAiBR,QAAM,EAAC1J,KAAM,UAA9B,uBAAuE+lB,oBAStFviB,IAAEzE,IAAIgkB,GAAU,gBAAElX,EAAF,EAAEA,WAAYC,EAAd,EAAcA,SAAmBpD,EAAjC,EAAwBC,QAAmBma,EAA3C,EAA2CA,OAA3C,OACf,kBAAUxV,KAAV,UACE,oBAAOnE,UAAW,WAAYzC,MAAO,CAACC,MAAO,QAA7C,UACE,8BACE,kBAAYuD,KAAZ,UACGwC,IAAOb,GAAY8a,OAAOja,IAAOZ,GAAW,OAC3CY,IAAOb,GAAYE,OAAO,MAC1BW,IAAOb,GAAYE,OAAO,MAAQ,MAAQW,IAAOZ,GAAUC,OAAO,QAErEW,MAASqa,UAAUra,IAAOb,GAAaa,IAAOZ,GAAW,MAAO,OACjE,mBAAKpI,MAAM,OAAX,oBAEF,oBAAK2Z,OAAQ,CAAC,IAAd,UACE,mBAAK5F,KAAK,QAAV,SACE,mBAAMpO,UAAW,cAAjB,SACE,cAAC,UAAD,CAAaV,QAASD,QAG1B,mBAAK+O,KAAK,OAAV,SACE,mBACEmP,WAAW,aACX1M,WAAY4I,EACZ+D,OAAQ,gCAAK,cAAC,IAAD,IAAL,cACRC,WAAY,oBAAEhd,MAAQtK,EAAV,EAAUA,KAAMwK,EAAhB,EAAgBA,MAAQ+b,EAAxB,EAAwBA,OAAQlc,EAAhC,EAAgCA,aAAhC,OACV,mBAAMyD,KAAN,WACE,kBAAMA,KAAKiK,KAAX,CACEvW,MAAO,kBAAYkJ,KAAZ,CAAiBR,QAAM,EAAvB,SAAyBlG,IAAEsiB,WAAWtmB,KAC7CoJ,YAAaoB,IAEf,8BAAOH,EAAgB,kBAAYK,KAAZ,CAAiBR,QAAM,EAAC1J,KAAM,UAA9B,uBAAuE,IAAM+lB,uBASpH,kBAAUzY,KAAV,CAAemZ,IAAK,cAAC,IAAD,CAAqB/f,MAAO,CAACggB,SAAU,UAAYhjB,MAAO,OAA9E,SACE,8BACE,mBAAYwG,KAAZ,gCAAoCwC,IAAOZ,GAAUC,OAAO,MAA5D,OACCW,MAASia,OAAOja,IAAOZ,GAAW,QAAU,mBAAKpI,MAAM,OAAX,+B,GA1F3BwI,IAAMyD,WA8GvBC,uBARS,SAACC,GAAW,IAAD,EACgBA,EAA1CC,aAAeA,EADW,EACXA,aAAciT,EADH,EACGA,SACpC,MAAO,CACLjW,QAASqD,oBAAUN,EAAOrO,6BAC1BsO,eAAciT,cAIsB,CACtCxhB,mDADaqO,CAEZiW,I,4UC3HGmB,E,4MAMJC,iBAAmB,SAAA5Y,GAAU,IAAD,EACL7K,IAAE4D,MAAMiH,EAAO,KADV,mBACnBiR,EADmB,KACZE,EADY,KAE1B,EAAKvU,MAAMxJ,0BAA0B,EAAKwJ,MAAM2Q,KAAM,CAAC0D,QAAOE,S,kEAL9DhT,KAAKvB,MAAMxJ,0BAA0B+K,KAAKvB,MAAM2Q,Q,+BAQxC,IAAD,EAEuBpP,KAAKvB,MAA5B6B,EAFA,EAEAA,QAASkW,EAFT,EAESA,WAEVkE,EAAUlE,EAAWkE,QAAUlE,EAAWkE,QAAU,GAEpDjN,EAAU+I,EAAW/I,QAAU+I,EAAW/I,QAAU,GAEpD1Z,EAAOyiB,EAAWziB,KAAOyiB,EAAWziB,KAAO,GAE3C4mB,EAAkB,SAAC,GAAD,uBAAE7H,EAAF,KAASE,EAAT,YAAkB9S,IAAO4S,GAAOvT,OAAO,cAAgB,IAAMW,IAAO8S,GAAKzT,OAAO,eAElGqb,EAAa,CAAC,CAACpmB,MAAO,OAAQ4Y,UAAW,OAAQtB,IAAK,OAAQuD,OAAQ,SAACC,EAAGC,GAAJ,OAAUrP,IAAOoP,EAAErQ,MAAQiB,IAAOqP,EAAEtQ,OAC9GuZ,iBAAkB,UAAW9S,OAAQ,SAACzG,GAAD,OAAUA,EAAOiB,IAAOjB,GAAMM,OAAO,MAAQ,QAE9Esb,EAAa7jB,IAAEzE,IAAIkb,GAAS,gBAAE3B,EAAF,EAAEA,IAAQqB,EAAV,0CAAC,eAA0BA,GAA3B,IAAmCrB,MAAKuD,OAAQ,SAACC,EAAGC,GAAJ,OAAUD,EAAExD,GAAOyD,EAAEzD,IACjGpG,OAAQ,SAAA7D,GAAK,OAAIA,EAAQ,kBAAYnE,KAAZ,CAAiBod,MAAI,EAArB,SAAuBjZ,IAA2BA,QAE3E/C,EAAU9H,IAAEgY,KAAK0L,GAAS,mCAAE5H,EAAF,KAASE,EAAT,YAAkB9S,MAASqa,UAAUra,IAAO4S,GAAQ5S,IAAO8S,GAAM,MAAO,SACtGhc,IAAEgY,KAAK0L,GAAS,mCAAE5H,EAAF,KAASE,EAAT,YAAkB9S,MAASqa,UAAUra,IAAO4S,GAAQ5S,IAAO8S,GAAM,MAAO,SACxFhc,IAAE+jB,KAAKL,GAET,OACE,mBAAM/R,SAAUrI,EAAhB,SACE,oBAAO3D,UAAW,WAAYzC,MAAO,CAACC,MAAO,QAA7C,UACGugB,EAAQtK,QACT,mBACElP,YAAU,EACV8Z,aAAcL,EAAgB7b,GAC9B+E,SAAU7D,KAAKya,iBACfna,QAASA,EAASpG,MAAO,CAACkR,MAAO,SAJnC,SAKGpU,IAAEzE,IAAImoB,GAAS,mCAAE5H,EAAF,KAASE,EAAT,YAAkB,mBAAQpR,OAAR,CAAeC,MAAO8Y,EAAgB,CAAC7H,EAAOE,IAA9C,UAC/B9S,IAAO4S,GAAOvT,OAAO,gBADU,MACUW,IAAO8S,GAAKzT,OAAO,wBAGjE,mBAAOkO,QAAO,UAAMmN,EAAN,YAAqBC,IAAanN,WAAY3Z,EAAMwgB,YAAY,EACvEra,MAAO,CAAC+gB,eAAgB,UACxB5E,QAAU,SAAAtiB,GAAI,OACZ,mBAAOmnB,QAAQC,IAAf,CAAmBzoB,GAAI,UAAvB,UACE,kBAAOwoB,QAAQE,KAAf,UAAoB,kBAAY1d,KAAZ,CAAiBR,QAAM,EAAvB,2BACnBlG,IAAEzE,IAAIkb,GAAS,YAAkC,IAAhCL,EAA+B,EAA/BA,UAAWiO,EAAoB,EAApBA,OAAQC,EAAY,EAAZA,OAC7BjU,EAAQ,kBAAMiU,EAAS,cAAC,IAAD,IAAkB,MAC/C,MAAe,cAAXD,EACM,kBAAOH,QAAQE,KAAf,UACN,mBAAY1d,KAAZ,CAAiBR,QAAM,EACN1J,KAAK,UADtB,UACiCwD,IAAEukB,MAAMxnB,EAAMqZ,GAD/C,MAC8DiO,EAD9D,IACuEhU,SAElE6G,SAASmN,GACR,kBAAOH,QAAQE,KAAf,UACN,mBAAY1d,KAAZ,CAAiBR,QAAM,EAAvB,UAAyBlG,IAAEukB,MAAMxnB,EAAMqZ,GAAvC,MAAsDiO,EAAtD,IAA+DhU,SAE1DrQ,IAAE2G,OAAO0d,GACR,kBAAOH,QAAQE,KAAf,UACN,kBAAY1d,KAAZ,CAAiBR,QAAM,EAAC1J,KAAK,SAA7B,sBAGK,kBAAO0nB,QAAQE,KAAf,sB,GAnEK1b,IAAMyD,WAsF5BC,uBARS,SAACC,GAAW,IAAD,EACkBA,EAA5CC,aAAeA,EADW,EACXA,aAAckT,EADH,EACGA,WACpC,MAAO,CACLlW,QAASqD,oBAAUN,EAAOlO,gCAC1BmO,eAAckT,gBAIsB,CAACvhB,uDAA1BmO,CAAsDoX,I,mdCnF/DgB,E,4MAMJf,iBAAmB,SAAA5Y,GAAU,IAAD,EACL7K,IAAE4D,MAAMiH,EAAO,KADV,mBACnBiR,EADmB,KACZE,EADY,KAE1B,EAAKvU,MAAMrJ,qBAAqB,EAAKqJ,MAAM2Q,KAAM,CAAC0D,QAAOE,S,EAG3DyI,YAAc,SAACpe,EAAcC,EAAOE,EAAO8Y,GACzC,OAAIjZ,EACK,mBAAW7I,MAAM,QAAQqN,MAAO,SAAK6Z,OAAQpF,EAAOlG,OAAS,cAAC,IAAD,IAAkB,KAAMuL,WAAY,CAACzkB,MAAO0kB,QAAM7C,WAC/G/hB,IAAE2G,OAAOL,GACT,mBAAW9I,MAAM,QAAQqN,MAAO,SAAU8Z,WAAY,CAACzkB,MAAO2kB,MAAI9C,WAElE,qCACL,mBAAWvkB,MAAM,QAAQqN,MAAOvE,EAAOoe,OAAQpF,EAAOlG,OAAS,cAAC,IAAD,IAAkB,OAChF5S,GAAmB,UAAVA,GAAqB,kBAAYE,KAAZ,CAAiBlK,KAAM,YAAvB,SAAqCgK,Q,EAI1Ese,mBAAqB,SAACze,EAAcC,EAAOqK,GACzC,GAAItK,EACF,OAAO,8BACL,kBAAYK,KAAZ,CAAiBR,QAAM,EAAC1J,KAAM,UAA9B,uBACA,qBAAK0G,MAAO,CAACC,MAAO,KAApB,SAA0B,mBAAU4hB,QAAS,WAE5C,GAAI/kB,IAAE2G,OAAOL,GAChB,OAAO,8BACL,kBAAYI,KAAZ,CAAiBR,QAAM,EAAC1J,KAAM,SAA9B,oBACA,qBAAK0G,MAAO,CAACC,MAAO,KAApB,SAA0B,mBAAU4hB,QAAS,IAAK5jB,OAAO,mBAG3D,IAAM4jB,EAAUpU,EAAQrK,EAAQ,IAChC,OAAIye,GAAW,IACN,8BACL,kBAAYre,KAAZ,CAAiBR,QAAM,EAAC1J,KAAM,SAA9B,2BACA,qBAAK0G,MAAO,CAACC,MAAO,KAApB,SAA0B,mBAAU4hB,QAAS,IAAK5jB,OAAO,mBAEpD4jB,GAAW,GACX,qBAAK7hB,MAAO,CAACC,MAAO,KAApB,SAA0B,mBAAU4hB,QAASlM,KAAKmM,MAAMD,GACpBE,YAAa,CAAC,KAAMJ,MAAI9C,QAAS,OAAQ8C,MAAI9C,aAEjFgD,GAAW,GACX,qBAAK7hB,MAAO,CAACC,MAAO,KAApB,SAA0B,mBAAU4hB,QAASlM,KAAKmM,MAAMD,GAAUE,YAAa,CACpF,KAAM1f,SAAOwc,QACb,OAAQxc,SAAOwc,aAGV,qBAAK7e,MAAO,CAACC,MAAO,KAApB,SAA0B,mBAAU4hB,QAASlM,KAAKmM,MAAMD,Q,EAIrEG,eAAiB,SAAC7e,EAAcC,EAAOqK,GACrC,GAAItK,EACF,OAAO,mBAAU7J,KAAM,SAAUuoB,QAAS,IAAKxc,OAAQ,iBAAM,YAC1D,GAAIvI,IAAE2G,OAAOL,GAChB,OAAO,mBAAU9J,KAAM,SAAUuoB,QAAS,IAAK5jB,OAAO,YAAYoH,OAAQ,iBAAM,YAEhF,IAAMwc,EAAUpU,EAAQrK,EAAQ,IAChC,OAAIye,GAAW,IACN,mBAAUvoB,KAAM,SAAUuoB,QAAS,IAAK5jB,OAAO,YAAYoH,OAAQ,iBAAM,aACzEwc,GAAW,GACX,mBAAUvoB,KAAM,SAAUuoB,QAASlM,KAAKmM,MAAMD,GACpCE,YAAa,CAAC,KAAMJ,MAAI9C,QAAS,OAAQ8C,MAAI9C,WACvDgD,GAAW,GACX,mBAAUvoB,KAAM,SAAUuoB,QAASlM,KAAKmM,MAAMD,GACpCE,YAAa,CAAC,KAAM1f,SAAOwc,QAAS,OAAQxc,SAAOwc,WAE7D,mBAAUvlB,KAAM,SAAUuoB,QAASlM,KAAKmM,MAAMD,M,kEApEzD/b,KAAKvB,MAAMrJ,qBAAqB4K,KAAKvB,MAAM2Q,Q,+BAwEnC,IAAD,SAEkBpP,KAAKvB,MAAvB6B,EAFA,EAEAA,QAASmW,EAFT,EAESA,MAEViE,EAAUjE,EAAMiE,QAAUjE,EAAMiE,QAAU,GAE1CyB,EAAS1F,EAAM0F,OAAS1F,EAAM0F,OAAS,GAEvCxB,EAAkB,SAAC,GAAD,uBAAE7H,EAAF,KAASE,EAAT,YAAkB9S,IAAO4S,GAAOvT,OAAO,cAAgB,IAAMW,IAAO8S,GAAKzT,OAAO,eAElGT,EAAU9H,IAAEgY,KAAK0L,GAAS,mCAAE5H,EAAF,KAASE,EAAT,YAAkB9S,MAASqa,UAAUra,IAAO4S,GAAQ5S,IAAO8S,GAAM,MAAO,SACtGhc,IAAEgY,KAAK0L,GAAS,mCAAE5H,EAAF,KAASE,EAAT,YAAkB9S,MAASqa,UAAUra,IAAO4S,GAAQ5S,IAAO8S,GAAM,MAAO,SACxFhc,IAAE+jB,KAAKL,GAET,OACE,mBAAM/R,SAAUrI,EAAhB,SACE,oBAAO3D,UAAW,WAAYzC,MAAO,CAACC,MAAO,QAA7C,UACGugB,EAAQtK,QACT,mBACElP,YAAU,EACV8Z,aAAcL,EAAgB7b,GAC9B+E,SAAU7D,KAAKya,iBACfna,QAASA,EAASpG,MAAO,CAACkR,MAAO,SAJnC,SAKGpU,IAAEzE,IAAImoB,GAAS,mCAAE5H,EAAF,KAASE,EAAT,YAAkB,mBAAQpR,OAAR,CAAeC,MAAO8Y,EAAgB,CAAC7H,EAAOE,IAA9C,UAC/B9S,IAAO4S,GAAOvT,OAAO,gBADU,MACUW,IAAO8S,GAAKzT,OAAO,wBAGjE,mBACE6c,WAAS,EACTC,iBAAkB,CAAC,KACnB9O,UAAU,EACV1Q,UAAU,gCAJZ,SAKG7F,IAAEzE,IAAI4pB,GAAQ,WAA+D7L,GAA/D,EAAE5d,GAAF,IAAMM,EAAN,EAAMA,KAAM2U,EAAZ,EAAYA,MAAOrK,EAAnB,EAAmBA,MAAOE,EAA1B,EAA0BA,MAAOH,EAAjC,EAAiCA,aAAcif,EAA/C,EAA+CA,MAAOhG,EAAtD,EAAsDA,OAAtD,OACb,kBAAUiG,MAAV,CACElC,OAAQ,kBAAY3c,KAAZ,UAAkB1G,IAAEsiB,WAAWtmB,KACvCwP,MAAO,EAAKsZ,mBAAmBze,EAAcC,EAAOtG,IAAEukB,MAAMe,EAAO,WAEnEzf,UAAU,6BAJZ,SAKE,oBAAKgU,OAAQ,CAAC,GAAI,IAAlB,UACE,mBAAK7T,KAAM,EAAX,SACE,oBAAK6T,OAAQ,CAAC,GAAI,IAAlB,UACE,mBAAK7T,KAAM,GAAX,SAAe,mBAAWxI,MAAM,QAAQqN,MAAO8F,MAC/C,mBAAK3K,KAAM,EAAX,SAAc,mBAASxJ,KAAK,WAAW0G,MAAO,CAAC2O,OAAQ,YACvD,mBAAK7L,KAAM,GAAX,SAAgB,EAAKye,YAAYpe,EAAcC,EAAOE,EAAO8Y,KAC7D,mBAAKtZ,KAAM,GAAI9C,MAAO,CAAC6J,QAAS,YAAhC,SACE,mBAAOpH,UAAU,aAAazC,MAAO,CAACC,MAAO,OAAQqiB,eAAgB,UAArE,SACG,EAAKN,eAAe7e,EAAcC,EAAOtG,IAAEukB,MAAMe,EAAO,oBAKjE,mBAAKtf,KAAM,GAAX,SACE,cAAC,UAAD,CAAYyf,WAAU,sBAAiBnM,GAASvc,KAAMuoB,UAhBpDhM,EAAQ,EAAK,kB,GA/GH5Q,IAAMyD,WAoJvBC,uBARS,SAACC,GAAW,IAAD,EACaA,EAAvCC,aAAeA,EADW,EACXA,aAAcmT,EADH,EACGA,MACpC,MAAO,CACLnW,QAASqD,oBAAUN,EAAOhO,0BAC1BiO,eAAcmT,WAIsB,CAACrhB,6CAA1BgO,CAAiDoY,I,0IChKhEkB,IAAiBC,K,IAEXC,E,4MAEJC,gBAAkB,SAAC/J,EAAOE,GAIxB,IAHA,IAAI8J,EAAO,GACPC,EAAMjK,EAEHiK,GAAO/J,GACZ8J,EAAKtU,KAAKuU,EAAIC,UACdD,EAAMA,EAAIE,QAAQzP,IAAI,EAAG,OAG3B,OAAOsP,G,kEAIP9c,KAAKkd,gB,yCAGYtd,EAAWC,EAAWC,GACnCE,KAAKsc,OAAOtc,KAAKsc,MAAMa,UAE3Bnd,KAAKkd,gB,6CAIDld,KAAKsc,OAAOtc,KAAKsc,MAAMa,Y,oCAGd,IAAD,EACend,KAAKvB,MAAzBge,EADK,EACLA,WAAY1oB,EADP,EACOA,KAGfuoB,EAAQI,IAAeD,EAAYW,KAGvCd,EAAMvoB,KAAOA,EAGb,IAAIspB,EAAWf,EAAMgB,MAAM9U,KAAK,IAAI4U,KACpCC,EAASE,cAAgB,GACzBF,EAASG,YAAc,GAGPlB,EAAMmB,MAAMjV,KAAK,IAAI4U,KAC3Bjb,IAAM,EAIhB,IAAIub,EAASpB,EAAMoB,OAAOlV,KAAK,IAAI4U,KACnCM,EAAOC,WAAWC,OAAS,SAC3BF,EAAOC,WAAWE,MAAQ,OAC1BH,EAAOI,YAAc,EACrBJ,EAAOK,YAAc,iBACrBL,EAAOM,YAAc,GAYrB1B,EAAM2B,OAAS,IAAIb,IACnBd,EAAM2B,OAAOC,MAAQb,EACrBf,EAAM6B,WAAa,IAAIzB,IAEvBgB,EAAOxO,QAAQkP,mBAAoB,EACnCV,EAAOxO,QAAQmP,QAAQ7Q,IAAI,KAAK,SAACkD,EAAG4N,GAMlC,OALIZ,EAAOxO,QAAQqP,gBAAgBX,OAAS,EAC1CF,EAAOxO,QAAQsP,WAAWC,KAAOnC,EAAMoC,OAAOC,SAAS,GAEvDjB,EAAOxO,QAAQsP,WAAWC,KAAOnC,EAAMoC,OAAOC,SAAS,GAElDjO,KAiBT1Q,KAAKsc,MAAQA,I,+BAGL,IACDG,EAAczc,KAAKvB,MAAnBge,WAEP,OAAO,qBAAK/pB,GAAI+pB,EAAYviB,MAAO,CAACC,MAAO,OAAQ0O,OAAQ,e,GAnGtCnJ,IAAMyD,WAwGhByZ,a,wgBChFT9S,E,kDAEJ,WAAarL,GAAQ,IAAD,8BAClB,cAAMA,IAuCRmgB,qBAAuB,SAAC9L,EAAOE,GAI7B,IAHA,IAAI8J,EAAO,GACPC,EAAMjK,EAEH5S,IAAO6c,GAAK8B,eAAe7L,EAAK,UACrC8J,EAAKtU,KAAK,CAACuU,EAAIhK,QAAQ,SAASiK,SAAUD,EAAI7a,MAAM,SAAS8a,WAC7DD,EAAMA,EAAIE,QAAQzP,IAAI,EAAG,SAG3B,OAAOsP,GAjDW,EAoDpBrC,iBAAmB,SAAA5Y,GAAU,IACT3M,EAAa,EAAKuJ,MAA5BgK,MAAUvT,OADQ,EAEL8B,IAAE4D,MAAMiH,EAAO,KAFV,mBAEnBiR,EAFmB,KAEZE,EAFY,KAG1B,EAAK3N,SAAS,CAACpG,KAAM,CAACiB,IAAO4S,GAAQ5S,IAAO8S,MACxC9d,EAAOW,SAAU,EAAK4I,MAAMoU,SAAS3d,EAAOW,QAASqK,IAAO4S,GAAQ5S,IAAO8S,KAtD/E,EAAKpU,MAAQ,CACXK,KAAM,CAACiB,MAAS6S,QAAQ,SAAU7S,MAASgC,MAAM,UACjDiL,OAAQ,CACN,CACE3Y,MAAO,UACP4Y,UAAW,UACXtB,IAAK,UACLpG,OAAQ,SAACxJ,GAAD,OAAeA,GAAY,cAAC,UAAD,CAAYxI,KAAMwI,EAASxI,SAEhE,CACEc,MAAO,aACP4Y,UAAW,aACXtB,IAAK,aACLpG,OAAQ,SAACzG,GAAD,OAAUA,EAAOiB,IAAOjB,GAAMM,OAAO,MAAQ,OAEvD,CACE/K,MAAO,WACP4Y,UAAW,WACXtB,IAAK,WACLpG,OAAQ,SAACzG,GAAD,OAAUA,EAAOiB,IAAOjB,GAAMM,OAAO,MAAQ,OAEvD,CACE/K,MAAO,SACP4Y,UAAW,SACXtB,IAAK,SACLpG,OAAQ,SAACvN,GAAD,OAAaA,GAAU,cAAC,UAAD,CAAuBA,OAAQA,QA3BlD,E,gEAiCC,IACDjD,EAAa8K,KAAKvB,MAA5BgK,MAAUvT,OACdA,EAAOW,SAAUmK,KAAKvB,MAAMoU,SAAS3d,EAAOW,W,6CAG1BmK,KAAKvB,MAAM6O,qB,+BAqBzB,IAAD,EAEoBtN,KAAKvB,MAAzB6B,EAFA,EAEAA,QAASzK,EAFT,EAESA,QAFT,EAGgBmK,KAAKpB,MAArBK,EAHA,EAGAA,KAAMkO,EAHN,EAGMA,OAEPwN,EAAkB,SAAC,GAAD,uBAAE7H,EAAF,KAASE,EAAT,YAAkB9S,IAAO4S,GAAOvT,OAAO,cAAgB,IAAMW,IAAO8S,GAAKzT,OAAO,eAClGuf,EAAajpB,GAAWA,EAAQyN,aACpCtD,KAAK4e,qBAAqB1e,IAAOrK,EAAQyN,aAAajE,YAAaa,OAAY,CAACjB,GAElF,OACE,oBAAOtC,UAAW,WAAYC,KAAM,SAAU1C,MAAO,CAACC,MAAO,QAA7D,UACE,kBAAYE,MAAZ,CAAkBX,MAAO,EAAzB,2BACA,mBAAM6T,UAAU,EACV/Y,MAAO,SACPyX,UAAW,CAAClI,QAAS,GACrBvB,MAAO,CACL,mBAAMmG,SAAUrI,EAAhB,SACE,mBACEY,YAAU,EACV8Z,aAAcL,EAAgB1b,GAC9B4E,SAAU7D,KAAKya,iBACfna,QAASA,EAJX,SAKGtJ,IAAEzE,IAAIusB,GAAY,mCAAEhM,EAAF,KAASE,EAAT,YAAkB,kBAAQpR,OAAR,CAAeC,MAAO8Y,EAAgB,CAAC7H,EAAOE,IAA9C,SAClC9S,MAASqa,UAAUzH,EAAOE,GAAO,aAAe9S,IAAO4S,GAAOvT,OAAO,yBAKpF,oBAAKsR,OAAQ,CAAC,IAAd,UACE,mBAAK7T,KAAM,EAAX,SACE,mBAAM2L,SAAUrI,EAAhB,SACE,mBAAMiN,UAAU,EAAO/Y,MAAO,sBACxBgX,QAAS,CAAC,kBAAYjR,KAAZ,CAAiBC,KAAI,0BAAqB3E,EAAUA,EAAQnD,GAAK,IAAM4rB,OAAQ,SAA/E,SAAyF,cAAC,IAAD,OACnGrS,UAAW,CAAChD,UAAW,KAF7B,SAGGpT,GACD,kBAAMkV,KAAN,CACEY,OAAQ,mBAAQzR,MAAO,CAAChD,MAAO,UAAW8D,gBAAiB,WAC3CoK,KAAM,cAAC,IAAD,CAAM5R,KAAMqC,EAAQuP,SAC1C5Q,MAAOqB,EAAQnC,KACf0I,YAAavG,EAAQqc,cAAcxe,aAK3C,mBAAKsJ,KAAM,EAAX,SACE,mBAAMuQ,UAAU,EAAO/Y,MAAO,WAAYyX,UAAW,CAAChD,UAAW,KAAjE,SACE,mBAAMN,SAAUrI,EAAhB,SACGzK,GACD,kBAAMkV,KAAN,CACEY,OAAQ,cAAC,UAAD,CAAYjR,MAAI,EAAChH,KAAMmC,EAAQ4N,KAAKjM,WAC5ChD,MAAO,qCAAGqB,EAAQ4N,KAAKjM,SAAS,uBAAK,kBAAYkG,KAAZ,CAAiBlK,KAAM,YAAvB,SAAqCqC,EAAQ4N,KAAK9L,WACvFyE,YAAa,QAAUvG,EAAQ4N,KAAKwU,oBAK5C,mBAAKjb,KAAM,GAAX,SACE,mBAAMuQ,UAAU,EAAO/Y,MAAO,eAA9B,SACE,mBAAMmU,SAAUrI,EAAhB,SACGzK,GACD,mBAAO4X,QAASN,EAAQO,WAAY7X,EAAQugB,cAAe7B,YAAY,EAAO3X,KAAK,mBAK3F,mBAAM2Q,UAAU,EAAhB,SACE,mBAAM5E,SAAUrI,EAAhB,SACGzK,GACD,oBAAMwmB,iBAAiB,IAAvB,UACE,kBAAM0C,QAAN,CACEC,IAAK,iCAAM,cAAC,IAAD,IAAN,YADP,SAGE,cAAC,UAAD,CAAOC,OAAQhgB,KADX,KAGN,kBAAM8f,QAAN,CACEC,IAAK,iCAAM,cAAC,IAAD,IAAN,kBADP,SAGE,cAAC,UAAD,CAAYC,OAAQhgB,KADhB,mB,GAzIOS,IAAMyD,WA6JlBC,uBARS,SAACC,GAAW,IACnBxN,EAAYwN,EAApBsE,MAAQ9R,QACf,MAAO,CACLyK,QAASqD,oBAAUN,EAAO4P,aAC1Bpd,aAIoC,CAACgd,oBAAUvF,qCAApClK,CAAuD0G,I,oTCnLhEoV,E,4MAEJrC,gBAAkB,SAAC/J,EAAOE,GAIxB,IAHA,IAAI8J,EAAO,GACPC,EAAMjK,EAEHiK,GAAO/J,GACZ8J,EAAKtU,KAAKuU,EAAIC,UACdD,EAAMA,EAAIE,QAAQzP,IAAI,EAAG,OAG3B,OAAOsP,G,uDAGC,IAAD,EACmB9c,KAAKvB,MAAxB5I,EADA,EACAA,QAASopB,EADT,EACSA,OADT,cAEcA,EAFd,GAEAnM,EAFA,KAEOE,EAFP,KAID4H,EAAa,CAAC,CAACpmB,MAAO,OAAQ4Y,UAAW,OAAQtB,IAAK,OAAQuD,OAAQ,SAACC,EAAGC,GAAJ,OAAUD,EAAErQ,KAAOsQ,EAAEtQ,MAC/FuZ,iBAAkB,UAAW9S,OAAQ,SAACzG,GAAD,OAAUA,EAAOiB,IAAOjB,GAAMM,OAAO,MAAQ,QAC9E4N,EAASnW,IAAEnB,EAAQugB,eAAe7jB,KAAI,YAAmC,IAAxB2J,EAAuB,EAAhCC,QAAsBya,EAAU,2BAC5E,OAAO5f,IAAEzE,IAAI2J,EAASG,QAAQ,YAAsC,IAApC3J,EAAmC,EAAnCA,GAAIM,EAA+B,EAA/BA,KAAMsK,EAAyB,EAAzBA,MAAOD,EAAkB,EAAlBA,aACzCyO,EAAG,UAAM8K,EAAKlkB,GAAX,YAAiBA,EAAjB,YAAuBM,GAChC,MAAO,CACLwB,MAAO,kBAAM,8BAAQwC,IAAEsiB,WAAWtmB,GAAM,cAAC,UAAD,CAAYU,KAAMwI,EAASxI,WACnE0Z,UAAWtB,EACXA,IAAKA,EACLuD,OAAQ,SAACC,EAAGC,GAAJ,OAAUD,EAAExD,GAAOyD,EAAEzD,IAC7BpG,OAAQ,SAAA7D,GAAK,OAAIA,EAAQ,kBAAYnE,KAAZ,CAAiBod,MAAI,EAArB,SAAuBjZ,IAA2BA,GAC3EwZ,OAAQhe,EAAe,YAAcC,SAGxC6hB,UAAUtd,QAEP9N,EAAOiD,IAAEzE,IAAIyN,KAAK6c,gBAAgB/J,EAAO5S,MAAS+Y,cAAcjG,GAAOA,EAAM9S,QAAW,SAAAjB,GAC5F,IAAM0I,EAAQ3Q,IAAEzE,IAAI4a,GAAQ,YAAY,IAAVrB,EAAS,EAATA,IAAS,EACT9U,IAAE4D,MAAMkR,EAAK,KADJ,mBAC9BsT,EAD8B,KACrBC,EADqB,KAE/BjQ,EAAOpY,IAAEgY,KAAKnZ,EAAQugB,cAAe,CAAC1jB,GAAIwb,SAASkR,KACnD9hB,EAAQtG,IAAEgY,KAAKI,EAAKjT,QAAQE,OAAQ,CAAC3J,GAAIwb,SAASmR,KAClDC,EAAStoB,IAAEyO,OAAOnI,EAAMgiB,QAAQ,gBAAE9P,EAAF,EAAEA,kBAAF,OAAyBtP,IAAOsP,GAAmB2K,OAAOlb,EAAM,WACtG,MAAO,CAAC6M,MAAKjK,MAAO7K,IAAEukB,MAAM+D,EAAQ,cAEtC,OAAO,aAACrgB,QAASjI,IAAE2Q,GAAO4X,MAAM,OAAOC,UAAU,SAAS3d,YAG5D,OACE,oBAAOlF,UAAW,WAAYzC,MAAO,CAACC,MAAO,QAA7C,UACE,mBAAQslB,OAAO,EAAOvlB,MAAO,CAACkR,MAAO,SAArC,SACE,kBAAQ7Q,KAAR,CAAaC,KAAK,WAAWhG,MAC3B,mBAAQhB,KAAK,UAAb,uBAGJ,mBAAOia,QAAO,UAAMmN,EAAN,YAAqBzN,IAASO,WAAY3Z,EAAMwgB,YAAY,EAAOra,MAAO,CAAC+gB,eAAgB,UAClG5E,QAAU,SAAAtiB,GAAI,OACZ,mBAAOmnB,QAAQC,IAAf,CAAmBzoB,GAAI,UAAvB,UACE,kBAAOwoB,QAAQE,KAAf,UAAoB,kBAAY1d,KAAZ,CAAiBR,QAAM,EAAvB,2BACnBlG,IAAEzE,IAAI4a,GAAQ,YAA0B,IAAxBC,EAAuB,EAAvBA,UAAWiO,EAAY,EAAZA,OAC1B,MAAe,cAAXA,EACM,kBAAOH,QAAQE,KAAf,UACN,mBAAY1d,KAAZ,CAAiBR,QAAM,EAAC1J,KAAK,UAA7B,UAAwCwD,IAAEukB,MAAMxnB,EAAMqZ,GAAtD,MAAqEiO,OAEhEnN,SAASmN,GACR,kBAAOH,QAAQE,KAAf,UACN,mBAAY1d,KAAZ,CAAiBR,QAAM,EAAvB,UAAyBlG,IAAEukB,MAAMxnB,EAAMqZ,GAAvC,MAAsDiO,OAEjDrkB,IAAE2G,OAAO0d,GACR,kBAAOH,QAAQE,KAAf,UACN,kBAAY1d,KAAZ,CAAiBR,QAAM,EAAC1J,KAAK,SAA7B,sBAGK,kBAAO0nB,QAAQE,KAAf,oB,GAtEL1b,IAAMyD,WAqFhBC,uBALS,SAAC,GAEvB,MAAO,CAACvN,QAF2B,EAAX8R,MACjB9R,WAI+B,GAAzBuN,CAA6B8b,I,qYClFtCQ,E,4MAEJjE,YAAc,SAACpe,EAAcC,EAAOE,GAClC,OAAIH,EACK,mBAAW7I,MAAM,QAAQqN,MAAO,YAAa8Z,WAAY,CAACzkB,MAAO0kB,QAAM7C,WACvE/hB,IAAE2G,OAAOL,GACT,mBAAW9I,MAAM,QAAQqN,MAAO,SAAU8Z,WAAY,CAACzkB,MAAO2kB,MAAI9C,WAElE,qCACL,mBAAWvkB,MAAM,QAAQqN,MAAOvE,IAC/BE,GAAmB,UAAVA,GAAqB,kBAAYE,KAAZ,CAAiBlK,KAAM,YAAvB,SAAqCgK,Q,EAI1Ese,mBAAqB,SAACze,EAAcC,EAAOqK,GACzC,GAAItK,EACF,OAAO,8BACL,kBAAYK,KAAZ,CAAiBR,QAAM,EAAC1J,KAAM,UAA9B,uBACA,qBAAK0G,MAAO,CAACC,MAAO,KAApB,SAA0B,mBAAU4hB,QAAS,WAE5C,GAAI/kB,IAAE2G,OAAOL,GAChB,OAAO,8BACL,kBAAYI,KAAZ,CAAiBR,QAAM,EAAC1J,KAAM,SAA9B,oBACA,qBAAK0G,MAAO,CAACC,MAAO,KAApB,SAA0B,mBAAU4hB,QAAS,IAAK5jB,OAAO,mBAG3D,IAAM4jB,EAAUpU,EAAQrK,EAAQ,IAChC,OAAIye,GAAW,IACN,8BACL,kBAAYre,KAAZ,CAAiBR,QAAM,EAAC1J,KAAM,SAA9B,2BACA,qBAAK0G,MAAO,CAACC,MAAO,KAApB,SAA0B,mBAAU4hB,QAAS,IAAK5jB,OAAO,mBAEpD4jB,GAAW,GACX,qBAAK7hB,MAAO,CAACC,MAAO,KAApB,SAA0B,mBAAU4hB,QAASlM,KAAKmM,MAAMD,GACpBE,YAAa,CAAC,KAAMJ,MAAI9C,QAAS,OAAQ8C,MAAI9C,aAEjFgD,GAAW,GACX,qBAAK7hB,MAAO,CAACC,MAAO,KAApB,SAA0B,mBAAU4hB,QAASlM,KAAKmM,MAAMD,GAAUE,YAAa,CACpF,KAAM1f,SAAOwc,QACb,OAAQxc,SAAOwc,aAGV,qBAAK7e,MAAO,CAACC,MAAO,KAApB,SAA0B,mBAAU4hB,QAASlM,KAAKmM,MAAMD,Q,EAIrEG,eAAiB,SAAC7e,EAAcC,EAAOqK,GACrC,GAAItK,EACF,OAAO,mBAAU7J,KAAM,SAAUuoB,QAAS,IAAKxc,OAAQ,iBAAM,eAC1D,GAAIvI,IAAE2G,OAAOL,GAChB,OAAO,mBAAU9J,KAAM,SAAUuoB,QAAS,IAAK5jB,OAAO,YAAYoH,OAAQ,iBAAM,YAEhF,IAAMwc,EAAUpU,EAAQrK,EAAQ,IAChC,OAAIye,GAAW,IACN,mBAAUvoB,KAAM,SAAUuoB,QAAS,IAAK5jB,OAAO,YAAYoH,OAAQ,iBAAM,aACzEwc,GAAW,GACX,mBAAUvoB,KAAM,SAAUuoB,QAASlM,KAAKmM,MAAMD,GACpCE,YAAa,CAAC,KAAMJ,MAAI9C,QAAS,OAAQ8C,MAAI9C,WACvDgD,GAAW,GACX,mBAAUvoB,KAAM,SAAUuoB,QAASlM,KAAKmM,MAAMD,GACpCE,YAAa,CAAC,KAAM1f,SAAOwc,QAAS,OAAQxc,SAAOwc,WAE7D,mBAAUvlB,KAAM,SAAUuoB,QAASlM,KAAKmM,MAAMD,M,uDAIjD,IAAD,SACmB/b,KAAKvB,MAAxB5I,EADA,EACAA,QAASopB,EADT,EACSA,OADT,cAEcA,EAFd,GAEAnM,EAFA,KAEOE,EAFP,KAID3W,EAASrF,IAAEnB,EAAQugB,eAAe7jB,KAAI,YAAmC,IAAxB2J,EAAuB,EAAhCC,QAAgC,2BAC5E,OAAOnF,IAAEzE,IAAI2J,EAASG,QAAQ,SAACiB,GAC7B,OAAO,2BAAIA,GAAX,IAAkBnB,QAASD,EAASxI,aAErCyrB,UAAUtd,QAEb,OACE,mBACEua,WAAS,EACTC,iBAAkB,CAAC,KACnB9O,UAAU,EACV1Q,UAAU,gCAJZ,SAKG7F,IAAEzE,IAAI8J,GAAQ,WAAoEiU,GAApE,EAAE5d,GAAF,IAAMM,EAAN,EAAMA,KAAMsK,EAAZ,EAAYA,MAAOE,EAAnB,EAAmBA,MAAOH,EAA1B,EAA0BA,aAAciiB,EAAxC,EAAwCA,OAAiBpjB,EAAzD,EAAgDC,QAAhD,OACb,kBAAUogB,MAAV,CACElC,OACE,8BACE,kBAAY3c,KAAZ,UAAkB1G,IAAEsiB,WAAWtmB,KAC/B,cAAC,UAAD,CAAYU,KAAMwI,OAGtBsG,MAAO,EAAKsZ,mBAAmBze,EAAcC,EAAOtG,IAAEukB,MAAM+D,EAAQ,WAEpEziB,UAAU,6BATZ,SAUE,oBAAKgU,OAAQ,CAAC,GAAI,IAAlB,UACE,mBAAK7T,KAAM,EAAX,SACE,oBAAK6T,OAAQ,CAAC,GAAI,IAAlB,UACE,mBAAK7T,KAAM,GAAX,SAAe,mBAAWxI,MAAM,QAAQqN,MAAO7K,IAAEukB,MAAM+D,EAAQ,cAC/D,mBAAKtiB,KAAM,EAAX,SAAc,mBAASxJ,KAAK,WAAW0G,MAAO,CAAC2O,OAAQ,YACvD,mBAAK7L,KAAM,GAAX,SAAgB,EAAKye,YAAYpe,EAAcC,EAAOE,KACtD,mBAAKR,KAAM,GAAI9C,MAAO,CAAC6J,QAAS,YAAhC,SACE,mBAAOpH,UAAU,aAAazC,MAAO,CAACC,MAAO,OAAQqiB,eAAgB,UAArE,SACG,EAAKN,eAAe7e,EAAcC,EAAOtG,IAAEukB,MAAM+D,EAAQ,oBAKlE,mBAAKtiB,KAAM,GAAX,SACE,cAAC,UAAD,CAAYyf,WAAU,sBAAiBnM,GAASvc,KAAMurB,EAAQxM,MAAOA,EAAOE,IAAKA,EACrE1V,MAAOD,EAAe,KAAOC,GAAgB,UAjBvDgT,EAAQ,EAAK,a,GA3FX5Q,IAAMyD,WA4HXC,uBALS,SAAC,GAEvB,MAAO,CAACvN,QAF2B,EAAX8R,MACjB9R,WAI+B,GAAzBuN,CAA6Bsc,I,gKCnI5ChD,IAAiBC,K,IAEXC,E,4MAEJC,gBAAkB,SAAC/J,EAAOE,GAIxB,IAHA,IAAI8J,EAAO,GACPC,EAAMjK,EAEHiK,GAAO/J,GACZ8J,EAAKtU,KAAKuU,EAAIC,UACdD,EAAMA,EAAIE,QAAQzP,IAAI,EAAG,OAG3B,OAAOsP,G,kEAIP9c,KAAKkd,gB,yCAGYtd,EAAWC,EAAWC,GACnCE,KAAKsc,OAAOtc,KAAKsc,MAAMa,UAE3Bnd,KAAKkd,gB,6CAIDld,KAAKsc,OAAOtc,KAAKsc,MAAMa,Y,oCAGd,IAAD,EACkCnd,KAAKvB,MAA5Cge,EADK,EACLA,WAAY1oB,EADP,EACOA,KAAMuJ,EADb,EACaA,MAAOwV,EADpB,EACoBA,MAAOE,EAD3B,EAC2BA,IAGnCsJ,EAAQI,IAAeD,EAAYW,KAGvCd,EAAMvoB,KAAOiD,IAAEzE,IAAIyN,KAAK6c,gBAAgB/J,EAAOE,IAAM,SAAA/T,GACnD,IAAMqgB,EAAStoB,IAAEyO,OAAO1R,GAAM,gBAAEyb,EAAF,EAAEA,kBAAF,OAAyBtP,IAAOsP,GAAmB2K,OAAOlb,EAAM,WAC9F,MAAO,CAACA,OAAMqgB,OAAQtoB,IAAEukB,MAAM+D,EAAQ,cAIxC,IAAIjC,EAAWf,EAAMgB,MAAM9U,KAAK,IAAI4U,KACpCC,EAASE,cAAgB,GACzBF,EAASG,YAAc,GAGvB,IAAImC,EAAYrD,EAAMmB,MAAMjV,KAAK,IAAI4U,KACrCuC,EAAUxd,IAAM,EACXnL,IAAE2G,OAAOL,KAAQqiB,EAAUvd,IAAM9E,GAGtC,IAAIogB,EAASpB,EAAMoB,OAAOlV,KAAK,IAAI4U,KA+BnC,GA9BAM,EAAOC,WAAWC,OAAS,SAC3BF,EAAOC,WAAWE,MAAQ,OAC1BH,EAAOI,YAAc,EACrBJ,EAAOK,YAAc,iBACrBL,EAAOM,YAAc,GAYrB1B,EAAM2B,OAAS,IAAIb,IACnBd,EAAM2B,OAAOC,MAAQb,EACrBf,EAAM6B,WAAa,IAAIzB,IAEvBgB,EAAOxO,QAAQkP,mBAAoB,EACnCV,EAAOxO,QAAQmP,QAAQ7Q,IAAI,KAAK,SAACkD,EAAG4N,GAMlC,OALIZ,EAAOxO,QAAQqP,gBAAgBX,OAAS,EAC1CF,EAAOxO,QAAQsP,WAAWC,KAAOnC,EAAMoC,OAAOC,SAAS,GAEvDjB,EAAOxO,QAAQsP,WAAWC,KAAOnC,EAAMoC,OAAOC,SAAS,GAElDjO,MAGJ1Z,IAAE2G,OAAOL,GAAQ,CAEpB,IAAIsiB,EAAQD,EAAUE,WAAWnc,SACjCkc,EAAM/d,MAAQvE,EACdsiB,EAAME,KAAKC,OAASrD,IAAc,WAClCkD,EAAME,KAAKhC,YAAc,EACzB8B,EAAME,KAAKE,cAAgB,EAC3BJ,EAAME,KAAKG,gBAAkB,MAC7BL,EAAM7e,MAAMmf,QAAS,EACrBN,EAAM7e,MAAMpH,KAAO,QACnBimB,EAAM7e,MAAM0d,KAAOmB,EAAME,KAAKC,OAC9BH,EAAM7e,MAAMof,eAAiB,MAG/BngB,KAAKsc,MAAQA,I,+BAGL,IACDG,EAAczc,KAAKvB,MAAnBge,WAEP,OAAO,qBAAK/pB,GAAI+pB,EAAYviB,MAAO,CAACC,MAAO,OAAQ0O,OAAQ,e,GAtGtCnJ,IAAMyD,WA2GhByZ,a,qZC1FTwD,G,yLAGFpgB,KAAKvB,MAAMpI,yB,6CAGW2J,KAAKvB,MAAM6O,qB,+BAEzB,IAAD,EACqCtN,KAAKvB,MAA1C6B,EADA,EACAA,QAASgG,EADT,EACSA,SAAUnC,EADnB,EACmBA,QAASsE,EAD5B,EAC4BA,MAEnC,OACE,oBAAO9L,UAAW,WAAYzC,MAAO,CAACC,MAAO,QAA7C,UACE,kBAAYE,MAAZ,CAAkBX,MAAO,EAAzB,kCACA,mBAAM6T,UAAU,EAAO/Y,MAAO,qBAA9B,SACE,mBAAMmU,SAAUrI,EAAhB,SACE,mBAAKuQ,OAAQ,CAAC,GAAI,IAAlB,SACGvK,EAAS8J,OAASpZ,IAAEzE,IAAI+T,GAAU,gBAAEtT,EAAF,EAAEA,KAAMoS,EAAR,EAAQA,KAAM1R,EAAd,EAAcA,KAAMwe,EAApB,EAAoBA,cAApB,OACjC,mBAAKlV,KAAM,EAAX,SACE,8BACE,mBACEH,UAAW,cACX2O,QAAS,CACP,mBAAShX,MAAO,aAAhB,SACE,cAAC,IAAD,CAAoBoM,QAAS,kBAAMuD,EAAQqE,KAAR,UAAgBC,EAAMpR,IAAtB,YAA6BrE,UAJtE,SAOE,kBAAM+X,KAAN,CACEY,OAAQ,mBAAQzR,MAAO,CAAEhD,MAAO,UAAW8D,gBAAiB,WAAaoK,KAAM,cAAC,IAAD,CAAM5R,KAAM4R,MAC3F5Q,MAAOd,EACP0I,YAAa8V,EAAgBA,EAAcxe,KAAO,cAKvD,mBAAKsJ,KAAM,GAAI9C,MAAO,CAACI,OAAQ,YAA/B,SAA4C,qC,GAnC/BoF,IAAMyD,YAsDvBC,uBARS,SAACC,GAAW,IACjBiD,EAAajD,EAAvBxN,QAAUyQ,SACjB,MAAO,CACLhG,QAASqD,oBAAUN,EAAO/M,0BAC1BgQ,cAIoC,CACtCjQ,4CAAsBiX,qCADTlK,CAEZgd,I,wgBCjDGtW,E,kDAEJ,WAAarL,GAAQ,IAAD,8BAClB,cAAMA,IAuCRmgB,qBAAuB,SAAC9L,EAAOE,GAI7B,IAHA,IAAI8J,EAAO,GACPC,EAAMjK,EAEH5S,IAAO6c,GAAK8B,eAAe7L,EAAK,UACrC8J,EAAKtU,KAAK,CAACuU,EAAIhK,QAAQ,SAASiK,SAAUD,EAAI7a,MAAM,SAAS8a,WAC7DD,EAAMA,EAAIE,QAAQzP,IAAI,EAAG,SAG3B,OAAOsP,GAjDW,EAoDpBrC,iBAAmB,SAAA5Y,GAAU,IACT3M,EAAa,EAAKuJ,MAA5BgK,MAAUvT,OADQ,EAEL8B,IAAE4D,MAAMiH,EAAO,KAFV,mBAEnBiR,EAFmB,KAEZE,EAFY,KAG1B,EAAK3N,SAAS,CAACpG,KAAM,CAACiB,IAAO4S,GAAQ5S,IAAO8S,MACxC9d,EAAOW,SAAU,EAAK4I,MAAMyU,gBAAgBhe,EAAOW,QAASX,EAAOuO,KAAMvD,IAAO4S,GAAQ5S,IAAO8S,KAtDnG,EAAKpU,MAAQ,CACXK,KAAM,CAACiB,MAAS6S,QAAQ,SAAU7S,MAASgC,MAAM,UACjDiL,OAAQ,CACN,CACE3Y,MAAO,UACP4Y,UAAW,UACXtB,IAAK,UACLpG,OAAQ,SAACxJ,GAAD,OAAeA,GAAY,cAAC,UAAD,CAAYxI,KAAMwI,EAASxI,SAEhE,CACEc,MAAO,aACP4Y,UAAW,aACXtB,IAAK,aACLpG,OAAQ,SAACzG,GAAD,OAAUA,EAAOiB,IAAOjB,GAAMM,OAAO,MAAQ,OAEvD,CACE/K,MAAO,WACP4Y,UAAW,WACXtB,IAAK,WACLpG,OAAQ,SAACzG,GAAD,OAAUA,EAAOiB,IAAOjB,GAAMM,OAAO,MAAQ,OAEvD,CACE/K,MAAO,SACP4Y,UAAW,SACXtB,IAAK,SACLpG,OAAQ,SAACvN,GAAD,OAAaA,GAAU,cAAC,UAAD,CAAuBA,OAAQA,QA3BlD,E,gEAiCC,IACDjD,EAAa8K,KAAKvB,MAA5BgK,MAAUvT,OACdA,EAAOW,SAAUmK,KAAKvB,MAAMyU,gBAAgBhe,EAAOW,QAASX,EAAOuO,Q,6CAGjDzD,KAAKvB,MAAM6O,qB,+BAqBzB,IAAD,EAEoBtN,KAAKvB,MAAzB6B,EAFA,EAEAA,QAASzK,EAFT,EAESA,QAFT,EAGgBmK,KAAKpB,MAArBK,EAHA,EAGAA,KAAMkO,EAHN,EAGMA,OAEPwN,EAAkB,SAAC,GAAD,uBAAE7H,EAAF,KAASE,EAAT,YAAkB9S,IAAO4S,GAAOvT,OAAO,cAAgB,IAAMW,IAAO8S,GAAKzT,OAAO,eAClGuf,EAAajpB,GAAWA,EAAQyN,aACpCtD,KAAK4e,qBAAqB1e,IAAOrK,EAAQyN,aAAajE,YAAaa,OAAY,CAACjB,GAElF,OACE,oBAAOtC,UAAW,WAAYC,KAAM,SAAU1C,MAAO,CAACC,MAAO,QAA7D,UACE,kBAAYE,MAAZ,CAAkBX,MAAO,EAAzB,2BACA,mBAAM6T,UAAU,EACV/Y,MAAO,SACPyX,UAAW,CAAClI,QAAS,GACrBvB,MAAO,CACL,mBAAMmG,SAAUrI,EAAhB,SACE,mBACEY,YAAU,EACV8Z,aAAcL,EAAgB1b,GAC9B4E,SAAU7D,KAAKya,iBACfna,QAASA,EAJX,SAKGtJ,IAAEzE,IAAIusB,GAAY,mCAAEhM,EAAF,KAASE,EAAT,YAAkB,kBAAQpR,OAAR,CAAeC,MAAO8Y,EAAgB,CAAC7H,EAAOE,IAA9C,SAClC9S,MAASqa,UAAUzH,EAAOE,GAAO,aAAe9S,IAAO4S,GAAOvT,OAAO,yBAKpF,oBAAKsR,OAAQ,CAAC,IAAd,UACE,mBAAK7T,KAAM,EAAX,SACE,mBAAM2L,SAAUrI,EAAhB,SACE,mBAAMiN,UAAU,EAAO/Y,MAAO,sBACxBgX,QAAS,CAAC,kBAAYjR,KAAZ,CAAiBC,KAAI,0BAAqB3E,EAAUA,EAAQnD,GAAK,IAAM4rB,OAAQ,SAA/E,SAAyF,cAAC,IAAD,OACnGrS,UAAW,CAAChD,UAAW,KAF7B,SAGGpT,GACD,kBAAMkV,KAAN,CACEY,OAAQ,mBAAQzR,MAAO,CAAChD,MAAO,UAAW8D,gBAAiB,WAC3CoK,KAAM,cAAC,IAAD,CAAM5R,KAAMqC,EAAQuP,SAC1C5Q,MAAOqB,EAAQnC,KACf0I,YAAavG,EAAQqc,cAAcxe,aAK3C,mBAAKsJ,KAAM,EAAX,SACE,mBAAMuQ,UAAU,EAAO/Y,MAAO,WAAYyX,UAAW,CAAChD,UAAW,KAAjE,SACE,mBAAMN,SAAUrI,EAAhB,SACGzK,GACD,kBAAMkV,KAAN,CACEY,OAAQ,cAAC,UAAD,CAAYjR,MAAI,EAAChH,KAAMmC,EAAQ4N,KAAKjM,WAC5ChD,MAAO,qCAAGqB,EAAQ4N,KAAKjM,SAAS,uBAAK,kBAAYkG,KAAZ,CAAiBlK,KAAM,YAAvB,SAAqCqC,EAAQ4N,KAAK9L,WACvFyE,YAAa,QAAUvG,EAAQ4N,KAAKwU,oBAK5C,mBAAKjb,KAAM,GAAX,SACE,mBAAMuQ,UAAU,EAAO/Y,MAAO,eAA9B,SACE,mBAAMmU,SAAUrI,EAAhB,SACGzK,GACD,mBAAO4X,QAASN,EAAQO,WAAY7X,EAAQugB,cAAe7B,YAAY,EAAO3X,KAAK,mBAK3F,mBAAM2Q,UAAU,EAAhB,SACE,mBAAM5E,SAAUrI,EAAhB,SACGzK,GACD,oBAAMwmB,iBAAiB,IAAvB,UACE,kBAAM0C,QAAN,CACEC,IAAK,iCAAM,cAAC,IAAD,IAAN,YADP,SAGE,cAAC,UAAD,CAAOC,OAAQhgB,KADX,KAGN,kBAAM8f,QAAN,CACEC,IAAK,iCAAM,cAAC,IAAD,IAAN,kBADP,SAGE,cAAC,UAAD,CAAYC,OAAQhgB,KADhB,mB,GAzIOS,IAAMyD,WA6JlBC,uBARS,SAACC,GAAW,IACnBxN,EAAYwN,EAApBsE,MAAQ9R,QACf,MAAO,CACLyK,QAASqD,oBAAUN,EAAO4P,aAC1Bpd,aAIoC,CAACqd,kCAAiB5F,qCAA3ClK,CAA8D0G,I,oTCnLvEoV,E,4MAEJrC,gBAAkB,SAAC/J,EAAOE,GAIxB,IAHA,IAAI8J,EAAO,GACPC,EAAMjK,EAEHiK,GAAO/J,GACZ8J,EAAKtU,KAAKuU,EAAIC,UACdD,EAAMA,EAAIE,QAAQzP,IAAI,EAAG,OAG3B,OAAOsP,G,uDAGC,IAAD,EACmB9c,KAAKvB,MAAxB5I,EADA,EACAA,QAASopB,EADT,EACSA,OADT,cAEcA,EAFd,GAEAnM,EAFA,KAEOE,EAFP,KAID4H,EAAa,CAAC,CAACpmB,MAAO,OAAQ4Y,UAAW,OAAQtB,IAAK,OAAQuD,OAAQ,SAACC,EAAGC,GAAJ,OAAUD,EAAErQ,KAAOsQ,EAAEtQ,MAC/FuZ,iBAAkB,UAAW9S,OAAQ,SAACzG,GAAD,OAAUA,EAAOiB,IAAOjB,GAAMM,OAAO,MAAQ,QAC9E4N,EAASnW,IAAEnB,EAAQugB,eAAe7jB,KAAI,YAAmC,IAAxB2J,EAAuB,EAAhCC,QAAsBya,EAAU,2BAC5E,OAAO5f,IAAEzE,IAAI2J,EAASG,QAAQ,YAAsC,IAApC3J,EAAmC,EAAnCA,GAAIM,EAA+B,EAA/BA,KAAMsK,EAAyB,EAAzBA,MAAOD,EAAkB,EAAlBA,aACzCyO,EAAG,UAAM8K,EAAKlkB,GAAX,YAAiBA,EAAjB,YAAuBM,GAChC,MAAO,CACLwB,MAAO,kBAAM,8BAAQwC,IAAEsiB,WAAWtmB,GAAM,cAAC,UAAD,CAAYU,KAAMwI,EAASxI,WACnE0Z,UAAWtB,EACXA,IAAKA,EACLuD,OAAQ,SAACC,EAAGC,GAAJ,OAAUD,EAAExD,GAAOyD,EAAEzD,IAC7BpG,OAAQ,SAAA7D,GAAK,OAAIA,EAAQ,kBAAYnE,KAAZ,CAAiBod,MAAI,EAArB,SAAuBjZ,IAA2BA,GAC3EwZ,OAAQhe,EAAe,YAAcC,SAGxC6hB,UAAUtd,QAEP9N,EAAOiD,IAAEzE,IAAIyN,KAAK6c,gBAAgB/J,EAAO5S,MAAS+Y,cAAcjG,GAAOA,EAAM9S,QAAW,SAAAjB,GAC5F,IAAM0I,EAAQ3Q,IAAEzE,IAAI4a,GAAQ,YAAY,IAAVrB,EAAS,EAATA,IAAS,EACT9U,IAAE4D,MAAMkR,EAAK,KADJ,mBAC9BsT,EAD8B,KACrBC,EADqB,KAE/BjQ,EAAOpY,IAAEgY,KAAKnZ,EAAQugB,cAAe,CAAC1jB,GAAIwb,SAASkR,KACnD9hB,EAAQtG,IAAEgY,KAAKI,EAAKjT,QAAQE,OAAQ,CAAC3J,GAAIwb,SAASmR,KAClDC,EAAStoB,IAAEyO,OAAOnI,EAAMgiB,QAAQ,gBAAE9P,EAAF,EAAEA,kBAAF,OAAyBtP,IAAOsP,GAAmB2K,OAAOlb,EAAM,WACtG,MAAO,CAAC6M,MAAKjK,MAAO7K,IAAEukB,MAAM+D,EAAQ,cAEtC,OAAO,aAACrgB,QAASjI,IAAE2Q,GAAO4X,MAAM,OAAOC,UAAU,SAAS3d,YAG5D,OACE,oBAAOlF,UAAW,WAAYzC,MAAO,CAACC,MAAO,QAA7C,UACE,mBAAQslB,OAAO,EAAOvlB,MAAO,CAACkR,MAAO,SAArC,SACE,kBAAQ7Q,KAAR,CAAaC,KAAK,WAAWhG,MAC3B,mBAAQhB,KAAK,UAAb,uBAGJ,mBAAOia,QAAO,UAAMmN,EAAN,YAAqBzN,IAASO,WAAY3Z,EAAMwgB,YAAY,EAAOra,MAAO,CAAC+gB,eAAgB,UAClG5E,QAAU,SAAAtiB,GAAI,OACZ,mBAAOmnB,QAAQC,IAAf,CAAmBzoB,GAAI,UAAvB,UACE,kBAAOwoB,QAAQE,KAAf,UAAoB,kBAAY1d,KAAZ,CAAiBR,QAAM,EAAvB,2BACnBlG,IAAEzE,IAAI4a,GAAQ,YAA0B,IAAxBC,EAAuB,EAAvBA,UAAWiO,EAAY,EAAZA,OAC1B,MAAe,cAAXA,EACM,kBAAOH,QAAQE,KAAf,UACN,mBAAY1d,KAAZ,CAAiBR,QAAM,EAAC1J,KAAK,UAA7B,UAAwCwD,IAAEukB,MAAMxnB,EAAMqZ,GAAtD,MAAqEiO,OAEhEnN,SAASmN,GACR,kBAAOH,QAAQE,KAAf,UACN,mBAAY1d,KAAZ,CAAiBR,QAAM,EAAvB,UAAyBlG,IAAEukB,MAAMxnB,EAAMqZ,GAAvC,MAAsDiO,OAEjDrkB,IAAE2G,OAAO0d,GACR,kBAAOH,QAAQE,KAAf,UACN,kBAAY1d,KAAZ,CAAiBR,QAAM,EAAC1J,KAAK,SAA7B,sBAGK,kBAAO0nB,QAAQE,KAAf,oB,GAtEL1b,IAAMyD,WAqFhBC,uBALS,SAAC,GAEvB,MAAO,CAACvN,QAF2B,EAAX8R,MACjB9R,WAI+B,GAAzBuN,CAA6B8b,I,qYClFtCQ,E,4MAEJjE,YAAc,SAACpe,EAAcC,EAAOE,GAClC,OAAIH,EACK,mBAAW7I,MAAM,QAAQqN,MAAO,YAAa8Z,WAAY,CAACzkB,MAAO0kB,QAAM7C,WACvE/hB,IAAE2G,OAAOL,GACT,mBAAW9I,MAAM,QAAQqN,MAAO,SAAU8Z,WAAY,CAACzkB,MAAO2kB,MAAI9C,WAElE,qCACL,mBAAWvkB,MAAM,QAAQqN,MAAOvE,IAC/BE,GAAmB,UAAVA,GAAqB,kBAAYE,KAAZ,CAAiBlK,KAAM,YAAvB,SAAqCgK,Q,EAI1Ese,mBAAqB,SAACze,EAAcC,EAAOqK,GACzC,GAAItK,EACF,OAAO,8BACL,kBAAYK,KAAZ,CAAiBR,QAAM,EAAC1J,KAAM,UAA9B,uBACA,qBAAK0G,MAAO,CAACC,MAAO,KAApB,SAA0B,mBAAU4hB,QAAS,WAE5C,GAAI/kB,IAAE2G,OAAOL,GAChB,OAAO,8BACL,kBAAYI,KAAZ,CAAiBR,QAAM,EAAC1J,KAAM,SAA9B,oBACA,qBAAK0G,MAAO,CAACC,MAAO,KAApB,SAA0B,mBAAU4hB,QAAS,IAAK5jB,OAAO,mBAG3D,IAAM4jB,EAAUpU,EAAQrK,EAAQ,IAChC,OAAIye,GAAW,IACN,8BACL,kBAAYre,KAAZ,CAAiBR,QAAM,EAAC1J,KAAM,SAA9B,2BACA,qBAAK0G,MAAO,CAACC,MAAO,KAApB,SAA0B,mBAAU4hB,QAAS,IAAK5jB,OAAO,mBAEpD4jB,GAAW,GACX,qBAAK7hB,MAAO,CAACC,MAAO,KAApB,SAA0B,mBAAU4hB,QAASlM,KAAKmM,MAAMD,GACpBE,YAAa,CAAC,KAAMJ,MAAI9C,QAAS,OAAQ8C,MAAI9C,aAEjFgD,GAAW,GACX,qBAAK7hB,MAAO,CAACC,MAAO,KAApB,SAA0B,mBAAU4hB,QAASlM,KAAKmM,MAAMD,GAAUE,YAAa,CACpF,KAAM1f,SAAOwc,QACb,OAAQxc,SAAOwc,aAGV,qBAAK7e,MAAO,CAACC,MAAO,KAApB,SAA0B,mBAAU4hB,QAASlM,KAAKmM,MAAMD,Q,EAIrEG,eAAiB,SAAC7e,EAAcC,EAAOqK,GACrC,GAAItK,EACF,OAAO,mBAAU7J,KAAM,SAAUuoB,QAAS,IAAKxc,OAAQ,iBAAM,eAC1D,GAAIvI,IAAE2G,OAAOL,GAChB,OAAO,mBAAU9J,KAAM,SAAUuoB,QAAS,IAAK5jB,OAAO,YAAYoH,OAAQ,iBAAM,YAEhF,IAAMwc,EAAUpU,EAAQrK,EAAQ,IAChC,OAAIye,GAAW,IACN,mBAAUvoB,KAAM,SAAUuoB,QAAS,IAAK5jB,OAAO,YAAYoH,OAAQ,iBAAM,aACzEwc,GAAW,GACX,mBAAUvoB,KAAM,SAAUuoB,QAASlM,KAAKmM,MAAMD,GACpCE,YAAa,CAAC,KAAMJ,MAAI9C,QAAS,OAAQ8C,MAAI9C,WACvDgD,GAAW,GACX,mBAAUvoB,KAAM,SAAUuoB,QAASlM,KAAKmM,MAAMD,GACpCE,YAAa,CAAC,KAAM1f,SAAOwc,QAAS,OAAQxc,SAAOwc,WAE7D,mBAAUvlB,KAAM,SAAUuoB,QAASlM,KAAKmM,MAAMD,M,uDAIjD,IAAD,SACmB/b,KAAKvB,MAAxB5I,EADA,EACAA,QAASopB,EADT,EACSA,OADT,cAEcA,EAFd,GAEAnM,EAFA,KAEOE,EAFP,KAID3W,EAASrF,IAAEnB,EAAQugB,eAAe7jB,KAAI,YAAmC,IAAxB2J,EAAuB,EAAhCC,QAAgC,2BAC5E,OAAOnF,IAAEzE,IAAI2J,EAASG,QAAQ,SAACiB,GAC7B,OAAO,2BAAIA,GAAX,IAAkBnB,QAASD,EAASxI,aAErCyrB,UAAUtd,QAEb,OACE,mBACEua,WAAS,EACTC,iBAAkB,CAAC,KACnB9O,UAAU,EACV1Q,UAAU,gCAJZ,SAKG7F,IAAEzE,IAAI8J,GAAQ,WAAoEiU,GAApE,EAAE5d,GAAF,IAAMM,EAAN,EAAMA,KAAMsK,EAAZ,EAAYA,MAAOE,EAAnB,EAAmBA,MAAOH,EAA1B,EAA0BA,aAAciiB,EAAxC,EAAwCA,OAAiBpjB,EAAzD,EAAgDC,QAAhD,OACb,kBAAUogB,MAAV,CACElC,OACE,8BACE,kBAAY3c,KAAZ,UAAkB1G,IAAEsiB,WAAWtmB,KAC/B,cAAC,UAAD,CAAYU,KAAMwI,OAGtBsG,MAAO,EAAKsZ,mBAAmBze,EAAcC,EAAOtG,IAAEukB,MAAM+D,EAAQ,WAEpEziB,UAAU,6BATZ,SAUE,oBAAKgU,OAAQ,CAAC,GAAI,IAAlB,UACE,mBAAK7T,KAAM,EAAX,SACE,oBAAK6T,OAAQ,CAAC,GAAI,IAAlB,UACE,mBAAK7T,KAAM,GAAX,SAAe,mBAAWxI,MAAM,QAAQqN,MAAO7K,IAAEukB,MAAM+D,EAAQ,cAC/D,mBAAKtiB,KAAM,EAAX,SAAc,mBAASxJ,KAAK,WAAW0G,MAAO,CAAC2O,OAAQ,YACvD,mBAAK7L,KAAM,GAAX,SAAgB,EAAKye,YAAYpe,EAAcC,EAAOE,KACtD,mBAAKR,KAAM,GAAI9C,MAAO,CAAC6J,QAAS,YAAhC,SACE,mBAAOpH,UAAU,aAAazC,MAAO,CAACC,MAAO,OAAQqiB,eAAgB,UAArE,SACG,EAAKN,eAAe7e,EAAcC,EAAOtG,IAAEukB,MAAM+D,EAAQ,oBAKlE,mBAAKtiB,KAAM,GAAX,SACE,cAAC,UAAD,CAAYyf,WAAU,sBAAiBnM,GAASvc,KAAMurB,EAAQxM,MAAOA,EAAOE,IAAKA,EACrE1V,MAAOD,EAAe,KAAOC,GAAgB,UAjBvDgT,EAAQ,EAAK,a,GA3FX5Q,IAAMyD,WA4HXC,uBALS,SAAC,GAEvB,MAAO,CAACvN,QAF2B,EAAX8R,MACjB9R,WAI+B,GAAzBuN,CAA6Bsc,I,gKCnI5ChD,IAAiBC,K,IAEXC,E,4MAEJC,gBAAkB,SAAC/J,EAAOE,GAIxB,IAHA,IAAI8J,EAAO,GACPC,EAAMjK,EAEHiK,GAAO/J,GACZ8J,EAAKtU,KAAKuU,EAAIC,UACdD,EAAMA,EAAIE,QAAQzP,IAAI,EAAG,OAG3B,OAAOsP,G,kEAIP9c,KAAKkd,gB,yCAGYtd,EAAWC,EAAWC,GACnCE,KAAKsc,OAAOtc,KAAKsc,MAAMa,UAE3Bnd,KAAKkd,gB,6CAIDld,KAAKsc,OAAOtc,KAAKsc,MAAMa,Y,oCAGd,IAAD,EACkCnd,KAAKvB,MAA5Cge,EADK,EACLA,WAAY1oB,EADP,EACOA,KAAMuJ,EADb,EACaA,MAAOwV,EADpB,EACoBA,MAAOE,EAD3B,EAC2BA,IAGnCsJ,EAAQI,IAAeD,EAAYW,KAGvCd,EAAMvoB,KAAOiD,IAAEzE,IAAIyN,KAAK6c,gBAAgB/J,EAAOE,IAAM,SAAA/T,GACnD,IAAMqgB,EAAStoB,IAAEyO,OAAO1R,GAAM,gBAAEyb,EAAF,EAAEA,kBAAF,OAAyBtP,IAAOsP,GAAmB2K,OAAOlb,EAAM,WAC9F,MAAO,CAACA,OAAMqgB,OAAQtoB,IAAEukB,MAAM+D,EAAQ,cAIxC,IAAIjC,EAAWf,EAAMgB,MAAM9U,KAAK,IAAI4U,KACpCC,EAASE,cAAgB,GACzBF,EAASG,YAAc,GAGvB,IAAImC,EAAYrD,EAAMmB,MAAMjV,KAAK,IAAI4U,KACrCuC,EAAUxd,IAAM,EACXnL,IAAE2G,OAAOL,KAAQqiB,EAAUvd,IAAM9E,GAGtC,IAAIogB,EAASpB,EAAMoB,OAAOlV,KAAK,IAAI4U,KA+BnC,GA9BAM,EAAOC,WAAWC,OAAS,SAC3BF,EAAOC,WAAWE,MAAQ,OAC1BH,EAAOI,YAAc,EACrBJ,EAAOK,YAAc,iBACrBL,EAAOM,YAAc,GAYrB1B,EAAM2B,OAAS,IAAIb,IACnBd,EAAM2B,OAAOC,MAAQb,EACrBf,EAAM6B,WAAa,IAAIzB,IAEvBgB,EAAOxO,QAAQkP,mBAAoB,EACnCV,EAAOxO,QAAQmP,QAAQ7Q,IAAI,KAAK,SAACkD,EAAG4N,GAMlC,OALIZ,EAAOxO,QAAQqP,gBAAgBX,OAAS,EAC1CF,EAAOxO,QAAQsP,WAAWC,KAAOnC,EAAMoC,OAAOC,SAAS,GAEvDjB,EAAOxO,QAAQsP,WAAWC,KAAOnC,EAAMoC,OAAOC,SAAS,GAElDjO,MAGJ1Z,IAAE2G,OAAOL,GAAQ,CAEpB,IAAIsiB,EAAQD,EAAUE,WAAWnc,SACjCkc,EAAM/d,MAAQvE,EACdsiB,EAAME,KAAKC,OAASrD,IAAc,WAClCkD,EAAME,KAAKhC,YAAc,EACzB8B,EAAME,KAAKE,cAAgB,EAC3BJ,EAAME,KAAKG,gBAAkB,MAC7BL,EAAM7e,MAAMmf,QAAS,EACrBN,EAAM7e,MAAMpH,KAAO,QACnBimB,EAAM7e,MAAM0d,KAAOmB,EAAME,KAAKC,OAC9BH,EAAM7e,MAAMof,eAAiB,MAG/BngB,KAAKsc,MAAQA,I,+BAGL,IACDG,EAAczc,KAAKvB,MAAnBge,WAEP,OAAO,qBAAK/pB,GAAI+pB,EAAYviB,MAAO,CAACC,MAAO,OAAQ0O,OAAQ,e,GAtGtCnJ,IAAMyD,WA2GhByZ,a,mfCnFTxV,E,kDAEJ,WAAY3I,GAAQ,IAAD,8BACjB,cAAMA,IAcR4hB,YAAc,SAAC3tB,GAAQ,IAAD,EACe,EAAK+L,MAAjC6H,EADa,EACbA,SAAUnC,EADG,EACHA,QAASsE,EADN,EACMA,MACpB6X,EAActpB,IAAEsP,GAAU/T,IAAI,YAAY4sB,UAAUtd,QACnD7O,EAAQgE,IAAEgY,KAAKsR,EAAa,CAAC5tB,GAAI,EAAKkM,MAAMyS,kBAA5Cre,KACPmR,EAAQqE,KAAR,UAAgBC,EAAMpR,IAAtB,YAA6BrE,EAA7B,YAAqCN,KAnBpB,EAwBnBmZ,aAAe,YAAY,IAAVC,EAAS,EAATA,IAAS,EAEI9U,IAAE4D,MAAMkR,EAAK,KAFjB,mBAEFpZ,GAFE,gBAGxB,EAAK+L,MAAMnJ,yBAAyB5C,GACpC,EAAK2S,SAAS,CAACgM,gBAAiBnD,SAASxb,MA1BzC,EAAKkM,MAAQ,CACXyS,gBAAiB,MAHF,E,gEAQjBrR,KAAKvB,MAAMzI,kB,6CAIXgK,KAAKvB,MAAM6O,qB,+BAmBH,IAAD,SAEoCtN,KAAKvB,MAAzC6H,EAFA,EAEAA,SAAUhG,EAFV,EAEUA,QAAS8V,EAFnB,EAEmBA,cAEpBjJ,EAAS,CACb,CACE3Y,MAAO,UACP4Y,UAAW,UACXtB,IAAK,UACL8C,QAAS5X,IAAEof,GAAe7jB,KAAI,YAAgB,IAAdyM,EAAa,EAAbA,QAC9B,MAAO,CAACrF,KAAMqF,EAAQxH,SAAUqK,MAAO7C,EAAQxH,aAC9C2X,OAAO,SAAStN,QACnBgN,SAAU,SAAChN,EAAD,YAAS7C,QAAqBxH,SAASmO,SAAS9D,IAC1D6D,OAAQ,gBAAElO,EAAF,EAAEA,SAAUG,EAAZ,EAAYA,MAAZ,OAAwB,gCAC9B,kBAAY+F,KAAZ,CAAiBR,QAAM,EAAvB,SAAyB1F,IAA2B,uBACpD,kBAAYkG,KAAZ,CAAiBlK,KAAM,YAAvB,SAAqCmE,SAGzC,CACEnD,MAAO,uBACPgN,SAAU,CACR,CACEhN,MAAO,UACP4Y,UAAW,OACXtB,IAAK,OACLpG,OAAQ,SAAC1S,EAAD,SAAgC,WAAhC,EAAQmF,QAAoCnF,IAEtD,CACEwB,MAAO,UACP4Y,UAAW,UACXtB,IAAK,UACLpG,OAAQ,SAACxJ,EAAD,SAAoC,WAApC,EAAY/D,QAAoC+D,GAAY,cAAC,UAAD,CAAYxI,KAAMwI,EAASxI,SAEjG,CACEc,MAAO,aACP4Y,UAAW,aACXtB,IAAK,aACLpG,OAAQ,SAACzG,EAAD,SAA+B,WAA/B,EAAQ9G,QAAmC8G,EAAOiB,IAAOjB,GAAMM,OAAO,MAAQ,OAExF,CACE/K,MAAO,WACP4Y,UAAW,WACXtB,IAAK,WACLpG,OAAQ,SAACzG,EAAD,SAA+B,WAA/B,EAAQ9G,QAAmC8G,EAAOiB,IAAOjB,GAAMM,OAAO,MAAQ,SAI5F,CACE/K,MAAO,SACPsX,IAAK,SACLpG,OAAQ,SAAC/L,EAAMuW,GAAP,OACN,4BACE,mBAAS1b,MAAO,QAAhB,SAAyB,mBAAQhB,KAAK,OAAO4R,KAAM,cAAC,IAAD,IAClBxE,QAAS,kBAAM,EAAKyf,YAAYnQ,EAAOlR,QAAQtM,cAMxF,OACE,oBAAOiK,UAAW,WAAYzC,MAAO,CAACC,MAAO,QAA7C,UACE,kBAAYE,MAAZ,CAAkBX,MAAO,EAAzB,qBACA,mBAAM6T,UAAU,EAAhB,SACE,mBAAM5E,SAAUrI,EAAQzK,QAAxB,SACE,oBAAQqE,MAAO,CAAC+O,UAAW,IAAKkH,OAAQ,qBAAxC,UACE,kBAAQjG,MAAR,CAAcrN,UAAU,yBAAyB1C,MAAO,IAAxD,SAEGmM,EAAS8J,OACR,mBACElF,KAAK,SACLmF,gBAAiB,CAAC,aAClBnW,MAAO,CAAC2O,OAAQ,QAChBsD,SAAUnM,KAAK6L,aAJjB,SAKG7U,IAAEzE,IAAI+T,GAAU,WAA6BgK,GAAU,EAArC5d,GAAsC,IAAlCgB,EAAiC,EAAjCA,KAAM0R,EAA2B,EAA3BA,KAAMkB,EAAqB,EAArBA,SACjC,OAAO,kBAAMiK,QAAN,CAAuCnL,KAAM,cAAC,IAAD,CAAM5R,KAAM4R,IAAS5Q,MAAOd,EAAzE,SACJsD,IAAEzE,IAAI+T,GAAU,WAAmBkK,GAAnB,IAAE9d,EAAF,EAAEA,GAAIgB,EAAN,EAAMA,KAAM0R,EAAZ,EAAYA,KAAZ,OACf,kBAAMtE,KAAN,CAA4CsE,KAAM,cAAC,IAAD,CAAM5R,KAAM4R,IAA9D,SAAwE1R,GAAxD,QAAU4c,EAAQ,IAAM5d,OAFlB,WAAa4d,QAMzC,wBAGN,kBAAQpI,QAAR,CAAgBhO,MAAO,CAAC6J,QAAS,QAAjC,SACE,mBAAM4E,SAAUrI,EAAQ8O,KAAxB,SAEGgH,EAAchG,OACb,mBAAO3C,QAASN,EACTO,WAAY1W,IAAEof,GAAemK,OAAO,UAAUpR,OAAO,cAActN,QACnE8L,OAAQ,KACRzT,MAAO,CAACC,MAAO,UACpB,mBAAOwW,MAAO,IAAMC,2C,GA5HflR,IAAMyD,WAoJlBC,uBAXS,SAACC,GAAW,IACjBiD,EAAuEjD,EAAjFxN,QAAUyQ,SADgB,EACuDjD,EAA5DC,aAAe8S,EADV,EACUA,cADV,IACyBje,OAASoL,EADlC,EACkCA,QAASC,EAD3C,EAC2CA,OAC5E,MAAO,CACLlD,QAAS,CACPzK,QAAS8N,oBAAUN,EAAOpN,mBAC1BmZ,KAAMzL,oBAAUN,EAAO7N,qBAEzB8Q,WAAU8P,gBAAe7S,UAASC,YAIE,CACtCxN,8BACAV,oDACAG,kCACAK,oCACAqF,0CACAS,wBACArC,8BACA+T,qCARalK,CASZgE,I,ofCnKG0G,E,kDAEJ,WAAYrP,GAAQ,IAAD,8BACjB,cAAMA,IAwBRuH,SAAW,YAAe,IAAbT,EAAY,EAAZA,OACPA,GAAQ,EAAKF,SAAS,CAACE,YA1BV,EA6BnBsJ,SAAW,YAAiB,IAAfnc,EAAc,EAAdA,GAAIgB,EAAU,EAAVA,KACf,EAAK2R,SAAS,CAACmb,MAAO,CAAC9tB,KAAIgB,WA9BV,EAiCnB+sB,cAAgB,SAAC5O,GACf,EAAKxM,SAAL,eAAgBwM,EAAO,QAhCvB,EAAKjT,MAAQ,CACX2G,OAAQ,KACRib,MAAO,MAJQ,E,gEASjBxgB,KAAKvB,MAAMvI,qB,6CAIX8J,KAAKvB,MAAM6O,qB,yCAGM1N,EAAWC,EAAWC,GACvC,IAAK9I,IAAE0pB,QAAQ7gB,EAAWG,KAAKpB,OAAQ,CAAC,IAAD,EACboB,KAAKpB,MAAtB2G,EAD8B,EAC9BA,OAAQib,EADsB,EACtBA,MAAyBG,EAAY,GAChDpb,IAAQob,EAAS,2BAAOA,GAAP,IAAkBpb,YACnCib,IAAOG,EAAS,2BAAOA,GAAP,IAAkBH,MAAOA,EAAM9tB,MACnDsN,KAAKvB,MAAMvI,iBAAiByqB,M,+BAgBtB,IAAD,SACqC3gB,KAAKvB,MAA1C6H,EADA,EACAA,SAAUhG,EADV,EACUA,QAAS6D,EADnB,EACmBA,QAASsE,EAD5B,EAC4BA,MAD5B,EAEiBzI,KAAKpB,MAAtB2G,EAFA,EAEAA,OAAQib,EAFR,EAEQA,MAETI,EAAgB5pB,IAAEyO,OAAOa,GAAU,qBAAEA,SAAuB8J,UAElE,OACE,oBAAOzT,UAAW,WAAYzC,MAAO,CAACC,MAAO,QAA7C,UACE,mBAAK3G,KAAK,OAAOuJ,QAAQ,SAASuV,MAAM,SAASpY,MAAO,CAAC+O,UAAW,IAAK4X,gBAAgB,uBAAyBC,eAAgB,SAAlI,SACE,8BACE,kBAAYzmB,MAAZ,CAAkBX,MAAO,EAAGQ,MAAO,CAACmI,aAAc,GAAlD,0DACA,mBAAY3E,KAAZ,CAAiBR,QAAM,EAAvB,0BAAqC,qBAAKL,UAAW,OAAQ+N,IAA8B,qBAAsBC,IAAK,OAAQ3Q,MAAO,CAAC2O,OAAQ,GAAIvO,OAAQ,eAC1J,mBACE5G,KAAK,QACLmJ,UAAU,aACV6B,SAAUsB,KAAKgG,SAHjB,SAIE,kBAAMlF,KAAN,CAAWpN,KAAK,SAAhB,SACE,mBAAOkJ,KAAK,QAAQuE,YAAY,SAASoF,OAAQ,cAAC,IAAD,eAKzD,mBAAMoC,SAAUrI,EAAhB,SACE,qBAAKpG,MAAO,CAAC+O,UAAW,IAAK3O,OAAQ,IAArC,SACE,oBAAKuW,OAAQ,CAAC,IAAd,UACE,oBAAK7T,KAAM,EAAX,UACE,kBAAY3C,MAAZ,CAAkBX,MAAO,EAAzB,2BACA,mBAAOkD,KAAM,QAASD,UAAU,WAAhC,SACG3F,IAAEzE,IAAI+T,GAAU,gBAAE5T,EAAF,EAAEA,GAAIgB,EAAN,EAAMA,KAAM4S,EAAZ,EAAYA,SAAZ,OACf,mBAAY/L,KAAZ,CAAiBqG,QAAS,kBAAM,EAAKiO,SAAS,CAACnc,KAAIgB,UAAnD,UAA4DA,EAA5D,IAAmE4S,EAAS8J,OAAS,yCAAI9J,EAAS8J,OAAb,OAA2B,gBAItH,oBAAKpT,KAAM,GAAX,UACE,oBAAO9C,MAAO,CAACmI,aAAc,IAA7B,UACGkD,GAAU,oBAAKwb,UAAQ,EAAC7pB,MAAM,OAAOwb,QAAS,kBAAM,EAAK+N,cAAc,WAA7D,UACT,kBAAY/iB,KAAZ,CAAiBR,QAAM,EAAvB,qBADS,KAC2CqI,KAErDib,GAAS,oBAAKO,UAAQ,EAAC7pB,MAAM,OAAOwb,QAAS,kBAAM,EAAK+N,cAAc,UAA7D,UACR,kBAAY/iB,KAAZ,CAAiBR,QAAM,EAAvB,oBADQ,KAC2CsjB,EAAM9sB,WAG5DktB,EAAcxQ,OACb,mBAAOzT,UAAU,WAAWC,KAAM,QAAS1C,MAAO,CAACC,MAAO,QAA1D,SACGnD,IAAEzE,IAAIquB,GAAe,gBAAQI,EAAR,EAAEttB,KAAkB4S,EAApB,EAAoBA,SAApB,OACpB,gCACE,kBAAYjM,MAAZ,CAAkBX,MAAO,EAAGQ,MAAO,CAACmI,aAAc,GAAlD,SAAuD2e,IACvD,mBAAS9mB,MAAO,CAACI,OAAQ,YACzB,mBAAKuW,OAAQ,CAAC,IAAd,SACG7Z,IAAEzE,IAAI+T,GAAU,gBAAEtT,EAAF,EAAEA,KAAMoS,EAAR,EAAQA,KAAM1R,EAAd,EAAcA,KAAM0I,EAApB,EAAoBA,YAApB,OACf,6CAAS,CAACmV,IAAK,EAAGC,GAAI,EAAGC,GAAI,GAAIC,GAAI,KAArC,aACE,kBAAYnX,KAAZ,CAAiBqG,QAAS,kBAAMuD,EAAQqE,KAAR,UAAgBC,EAAMpR,IAAtB,YAA6BrE,KAA7D,SACE,oBAAM6J,UAAW,cAAjB,UACE,kBAAMkO,KAAN,CACEY,OAAQ,mBAAQzR,MAAO,CAAChD,MAAO,UAAW8D,gBAAiB,WAC3CoK,KAAM,cAAC,IAAD,CAAM5R,KAAM4R,MAClC5Q,MAAOd,EACP0I,YAAa4kB,EACb9mB,MAAO,CAACmI,aAAc,MAExB,kBAAYpF,UAAZ,CAAsBgS,SAAU,CAACkD,KAAM,GAAIjY,MAAO,CAACI,OAAQ,GAA3D,SAAgE8B,yBAS9E,uC,GA5GCsD,IAAMyD,WAiIZC,uBARS,SAACC,GAAW,IACjBiD,EAAajD,EAAvBxN,QAAUyQ,SACjB,MAAO,CACLhG,QAASqD,oBAAUN,EAAOpN,mBAC1BqQ,cAIoC,CAACpQ,oCAAkBoX,qCAA5ClK,CAA+D0K,I,whBC3HxEzB,E,4MAiBJ4U,WAAa,WAAO,IAAD,EACoC,EAAKxiB,MAAxCvJ,EADD,EACTuT,MAAUvT,OAAUU,EADX,EACWA,qBACxBV,EAAOxC,IACT,IAAMwuB,QAAQ,CACZ1sB,MAAO,iCACP4Q,KAAM,cAAC,IAAD,IACNkG,QAAS,gEACT6V,KAJY,WAKVvrB,EAAqBV,EAAOxC,Q,kEAvBf,IACDwC,EAAa8K,KAAKvB,MAA5BgK,MAAUvT,OACdA,EAAOxC,IAAKsN,KAAKvB,MAAMtI,oBAAoBjB,EAAOxC,M,yCAGrCkN,EAAWC,EAAWC,GACvC,IAAKF,EAAU2D,SAAWvD,KAAKvB,MAAM8E,QAAS,CAAC,IAC9BrO,EAAW8K,KAAKvB,MAAxBgK,MAAQvT,OACXA,EAAOxC,IAAKsN,KAAKvB,MAAMtI,oBAAoBjB,EAAOxC,IACtDsN,KAAKvB,MAAMlF,mB,6CAISyG,KAAKvB,MAAM6O,qB,+BAezB,IAAD,EACoBtN,KAAKvB,MAAzB5I,EADA,EACAA,QAASyK,EADT,EACSA,QADT,EAGkBzK,GAAWA,EAAQ4J,KAAO+F,QAAQ,YAAY3P,EAAQ4J,OAAU,GAAlF0U,EAHA,EAGAA,KAAMO,EAHN,EAGMA,SAEb,OACE,oBAAO/X,UAAW,WAAYzC,MAAO,CAACC,MAAO,QAA7C,UACE,kBAAYE,MAAZ,CAAkBX,MAAO,EAAzB,wBACA,mBAAM6T,UAAU,EAAhB,SACE,oBAAM5E,SAAUrI,EAAQzM,IAAxB,UACGgC,EACD,oBAAKkH,QAAQ,SAAS8T,OAAQ,CAAC,IAAK3W,MAAO,CAAC+O,UAAW,IAAK3O,OAAQ,UAApE,UACE,mBAAK0C,KAAM,EAAX,SACE,mBAAQJ,KAAM,IAAK1C,MAAO,CAAChD,MAAO,UAAW8D,gBAAiB,UAAWoQ,MAAO,SACxEhG,KAAM,cAAC,IAAD,CAAM5R,KAAMqC,EAAQuP,WAEpC,mBAAKpI,KAAM,GAAX,SACE,oBAAOL,UAAW,WAAYzC,MAAO,CAACC,MAAO,QAA7C,UACE,gCACE,kBAAYE,MAAZ,CAAkBX,MAAO,EAAGQ,MAAO,CAACmI,aAAc,GAAlD,SAAuDxM,EAAQnC,OAC/D,kBAAYgK,KAAZ,CAAiBlK,KAAM,YAAvB,SAAqCqC,EAAQqc,cAAcxe,UAE7D,kBAAYuJ,UAAZ,CAAsB/C,MAAO,CAAC8f,UAAW,OAAzC,SAAkDnkB,EAAQuG,cACzDvG,EAAQsG,QAAU,mCAChBtG,EAAQyN,aACP,mBAAY5F,KAAZ,WAAiB,kBAAYA,KAAZ,CAAiBlK,KAAK,UAAtB,SAAgC,cAAC,IAAD,MAAjD,sBACiB0M,IAAOrK,EAAQyN,aAAajE,YAAYE,OAAO,SAChE,mBAAQ/L,KAAK,UAAUoN,QAASZ,KAAKihB,WAArC,yBACE,mBAAYvjB,KAAZ,WAAiB,kBAAYA,KAAZ,CAAiBlK,KAAK,UAAtB,SAAgC,cAAC,IAAD,MAAjD,wCAIH,mBAAO0G,MAAO,CAAC+O,UAAW,OAClCpT,GACD,oBAAMwmB,iBAAiB,IAAvB,UACE,kBAAM0C,QAAN,CACEC,IAAK,iCAAM,cAAC,IAAD,IAAN,eADP,SAGGtK,EAAW,cAACA,EAAD,IAAc,uBADtB,KAGN,kBAAMqK,QAAN,CACEC,IAAK,iCAAM,cAAC,IAAD,IAAN,oBADP,SAGG7K,EAAO,cAACA,EAAD,IAAU,uBADd,KAGN,kBAAM4K,QAAN,CACEC,IAAK,iCAAM,cAAC,IAAD,IAAN,eADP,SAGE,mBAAKnO,OAAQ,CAAC,IAAd,SACG7Z,IAAEzE,IAAIsD,EAAQ0K,UAAU,SAACrE,GAAD,OACtB,6CAAS,CAACqV,IAAK,EAAGC,GAAI,EAAGC,GAAI,GAAIC,GAAI,KAArC,aAA0C,cAAC,UAAD,CAAavV,QAASD,aAHjE,oB,GA7ECwD,IAAMyD,WAwGZC,uBAXS,SAACC,GAAW,IACjBxN,EAA+CwN,EAAzDxN,QAAUA,QAAkC0N,EAAaF,EAArCC,aAAenL,OAASoL,QACnD,MAAO,CACLjD,QAAS,CACPzM,IAAK8P,oBAAUN,EAAOjN,mBACtBoX,IAAK7J,oBAAUN,EAAO3N,qBAExBG,UAAS0N,aAI2B,CAACpN,0CAAqBP,4CAAsB2D,8BAAe+T,qCAApFlK,CAAuGiJ,I,iCCzItH,wHAWa8B,EAAe,SAACtY,EAAS4N,GACpC,OAAO,SAAAlQ,GACLA,EAAS,CAACC,KAAMC,kBAAiBC,KAAM0d,mBACvCxd,UAAMC,IAAN,sBAAyBgC,EAAzB,YAAoC4N,IAAQ3P,MAAK,YAAa,IAAXC,EAAU,EAAVA,KACjDR,EAAS,CAACC,KAAMQ,iBAAgBN,KAAM0d,mBACtC7d,EAAS,CAACC,KAAM4d,iBAAgBnd,QAASF,EAAKA,UAC7CG,OAAM,YAAiB,IAAfC,EAAc,EAAdA,SACTZ,EAAS,CAACC,KAAMQ,iBAAgBN,KAAM0d,mBAClCjd,IACFC,QAAQC,IAAI,aAAcF,EAASG,SACnCf,EAAS,CAACC,KAAMe,eAAcC,MAAO,aAAcF,QAASH,EAASJ,KAAKO,QAASG,SAAUC,6BAMxF0sB,EAAmB,SAACvrB,GAC/B,OAAO,SAAAtC,GACLA,EAAS,CAACC,KAAMC,kBAAiBC,KAAM0d,mBACvCxd,UAAMC,IAAN,sBAAyBgC,IAAW/B,MAAK,YAAa,IAAXC,EAAU,EAAVA,KACzCR,EAAS,CAACC,KAAMQ,iBAAgBN,KAAM0d,mBACtC7d,EAAS,CAACC,KAAM4d,iBAAgBnd,QAASF,EAAKA,UAC7CG,OAAM,YAAiB,IAAfC,EAAc,EAAdA,SACTZ,EAAS,CAACC,KAAMQ,iBAAgBN,KAAM0d,mBAClCjd,IACFC,QAAQC,IAAI,aAAcF,EAASG,SACnCf,EAAS,CAACC,KAAMe,eAAcC,MAAO,aAAcF,QAASH,EAASJ,KAAKO,QAASG,SAAUC,8B,iCCrCrG,sEAIaie,EAAsB,WACjC,OAAO,SAACpf,GACNA,EAAS,CAACC,KAAM0iB,oB,4iBCoBd/X,EAAS,CACbC,SAAU,CAACpB,KAAM,GACjBqB,WAAY,CAACrB,KAAM,KAGfqkB,EAAc,CAClBhjB,WAAY,CAACrB,KAAM,KAGfskB,E,kDAEJ,WAAY7iB,GAAQ,IAAD,8BACjB,cAAMA,IAqBRC,SAAY,WAAO,IACVC,EAAW,EAAKC,MAAhBD,QADS,EAEuB,EAAKF,MAArCI,EAFS,EAETA,IAAKrD,EAFI,EAEJA,WAAYE,EAFR,EAEQA,YACxBiD,EAAQG,QACLC,iBACAjL,MAAK,SAACG,GACD4K,EAAInM,GACNgJ,EAAYmD,EAAInM,GAAL,eAAauB,IAExBuH,EAAW,eAAIvH,OAElBC,OAAM,SAACuL,GAAD,OAAUrL,QAAQC,IAAI,mBAAoBoL,OA/BnD,EAAKb,MAAQ,CACXD,QAASe,IAAMC,aAHA,E,+DAOAC,EAAWC,EAAWC,GACvC,IAAKF,EAAUG,MAAQC,KAAKvB,MAAMsB,OAChCC,KAAKpB,MAAMD,QAAQG,QAAQmB,cACvBD,KAAKvB,MAAMI,KAAK,CAAC,IAAD,EACOmB,KAAKvB,MAAMI,IAA7BxC,EADW,EACXA,OAAWwC,EADA,0BAGZ0iB,EAAUvqB,IAAEqF,GAAQoJ,OAAO,WAAWlT,KAAI,YAAoC,IAAlC+K,EAAiC,EAAjCA,MAAOD,EAA0B,EAA1BA,aAAiBwB,EAAS,wCAC3E2iB,EAAalkB,GAASD,EAC5B,OAAO,aAACmkB,aAAYlkB,QAAOD,gBAAiBwB,MAC3CgD,QACH7B,KAAKpB,MAAMD,QAAQG,QAAQqB,eAA3B,2BALa,CAACkG,WAAW,EAAOob,SAAS,EAAOC,UAAU,IAK1D,IAAoDrlB,OAAQklB,GAAY1iB,O,+BAmBpE,IAAD,EAE0CmB,KAAKvB,MAA/CsB,EAFA,EAEAA,KAAMM,EAFN,EAEMA,SAAUxB,EAFhB,EAEgBA,IAAKyB,EAFrB,EAEqBA,QAASgG,EAF9B,EAE8BA,SAE9B3H,EAAWqB,KAAKpB,MAAhBD,QAEP,OACE,mBACE+B,QAASX,EACTvL,MAAM,UACN2F,MAAO,IACPkG,SAAUA,EACVM,OAAQ,CACN,mBAAmBC,QAASP,EAA5B,mBAAY,QACZ,mBAAqB7M,KAAK,UAAU8M,QAASA,EAAQzB,GAAOA,EAAInM,GAAK,OAAS,UACtEkO,QAASZ,KAAKtB,SADtB,mBAAY,WAPhB,SAWE,8CAAUP,GAAV,IAAkB0C,IAAKlC,EAASjL,KAAK,cAAcgL,SAAUsB,KAAKtB,SAAlE,UAEE,kBAAMoC,KAAN,CAAWpN,KAAK,aAAaqN,MAAO,UAAWC,MAAO,CACpD,CAACC,UAAU,EAAM3M,QAAS,+BAD5B,SAGE,mBACE4M,YAAU,EACVC,YAAY,iBACZC,iBAAiB,WACjBC,aAAc,SAACC,EAAOC,GAAR,OAAmBA,EAAOC,SAASC,cAAcC,QAAQJ,EAAMG,gBAAkB,GAC/FE,YAAU,EAACI,UAAQ,EALrB,SAMG/K,IAAEzE,IAAI+T,GAAU,gBAAE5T,EAAF,EAAEA,GAAIgB,EAAN,EAAMA,KAAN,OAAgB,kBAAQkO,OAAR,CAAeC,MAAOnP,EAAtB,SAA2BgB,WAIhE,kBAAMoN,KAAN,CAAWpN,KAAK,OAAOqN,MAAM,eAAeC,MAAO,CACjD,CAACC,UAAU,EAAM3M,QAAS,+BAD5B,SAGE,wBAGF,kBAAMwM,KAAN,CAAWpN,KAAK,cAAcqN,MAAM,cAApC,SACE,kBAAO+E,SAAP,MAGF,kBAAMhF,KAAN,CAAWpN,KAAK,YAAYqN,MAC1B,sDAEE,mBAASvM,MAAM,gCAAf,SACA,cAAC,IAAD,SAGFmO,cAAc,UAPhB,SAQE,mBAAQC,gBAAiB,SAAUC,kBAAmB,cAGxD,kBAAM/B,KAAN,CAAWpN,KAAK,UAAUqN,MACxB,oDAEE,mBAASvM,MAAM,kBAAf,SACA,cAAC,IAAD,SAGFmO,cAAc,UAPhB,SAQE,mBAAQC,gBAAiB,OAAQC,kBAAmB,WAGtD,kBAAM/B,KAAN,CAAWpN,KAAK,WAAWqN,MACzB,qDAEE,mBAASvM,MAAM,yDAAf,SACA,cAAC,IAAD,SAGFmO,cAAc,UAPhB,SAQE,mBAAQC,gBAAiB,QAASC,kBAAmB,eAGvD,oBAAS8e,YAAY,SAArB,UACE,kBAAYjkB,KAAZ,CAAiBlK,KAAM,SAAvB,eADF,aAIA,kBAAM8Y,KAAN,CAAW5Y,KAAK,SACLsN,MAAO,CACL,CACEiC,UAAU,WAAD,4BAAE,WAAOjM,EAAG4qB,GAAV,SAAAtS,EAAA,yDACJsS,KAASA,EAAMxR,OAAS,GADpB,yCAEA7X,QAAQC,OAAO,IAAIzF,MAAM,iCAFzB,2CAAF,qDAAC,KAHzB,SAWG,SAAC8uB,EAAD,SAAUrU,EAAV,EAAUA,IAAKsU,EAAf,EAAeA,OAAUC,EAAzB,EAAyBA,OAAzB,OACC,qCAEGF,EAAOzR,OACR,4BACGyR,EAAOtvB,KAAI,SAAAyvB,GAAK,OACf,kBAAMlhB,KAAN,UACE,oBAAK5G,MAAO,CAACC,MAAO,QAApB,UACE,oBAAK6C,KAAM,GAAX,UAEE,kBAAM8D,KAAN,2BACMkhB,GADN,IAEEjhB,MAAM,UACNrN,KAAM,CAACsuB,EAAMtuB,KAAM,cACnBuuB,SAAU,CAACD,EAAMC,SAAU,cAC3BjhB,MAAO,CAAC,CAACC,UAAU,EAAM3M,QAAS,6BAClC4tB,QAAM,EANR,SAQE,yBAGF,kBAAMphB,KAAN,2BACMkhB,GADN,IAEEjhB,MAAM,OACNrN,KAAM,CAACsuB,EAAMtuB,KAAM,QACnBuuB,SAAU,CAACD,EAAMC,SAAU,QAC3BjhB,MAAO,CAAC,CAACC,UAAU,EAAM3M,QAAS,6BALpC,SAOE,yBAGF,kBAAMwM,KAAN,2BACMkhB,GADN,IAEEjhB,MAAM,cACNrN,KAAM,CAACsuB,EAAMtuB,KAAM,eACnBuuB,SAAU,CAACD,EAAMC,SAAU,eAJ7B,SAME,kBAAOnc,SAAP,OAGF,kBAAMhF,KAAN,2BACMkhB,GADN,IAEEjhB,MAAM,OACNrN,KAAM,CAACsuB,EAAMtuB,KAAM,QACnBuuB,SAAU,CAACD,EAAMC,SAAU,QAJ7B,SAME,4BAIJ,oBAAKjlB,KAAM,GAAX,UAEE,kBAAM8D,KAAN,2BAAekhB,GAAf,IAAsBjhB,MAAO,UAAW4B,cAAc,UAC3CjP,KAAM,CAACsuB,EAAMtuB,KAAM,cACnBuuB,SAAU,CAACD,EAAMC,SAAU,cAFtC,SAGE,mBAAQrf,gBAAiB,UAAWC,kBAAmB,cAGzD,kBAAM/B,KAAN,2BAAeugB,GAAf,IAA4BnnB,MAAO,CAACmI,aAAc,GAAIC,cAAY,EAAlE,SACG,YAAsB,IACfhF,GAAQiF,EADM,EAAnBA,eAC2B,UAAUyf,EAAMtuB,MAC5C,OAAO4J,GAASA,EAAMkkB,YACpB,kBAAM1gB,KAAN,uCAAekhB,GAAW7jB,GAA1B,IAAkC4C,MAAO,YAAa4B,cAAc,UACzDjP,KAAM,CAACsuB,EAAMtuB,KAAM,gBACnBuuB,SAAU,CAACD,EAAMC,SAAU,gBAFtC,SAGE,mBAAQrf,gBAAiB,YAAaC,kBAAmB,mBAKjE,kBAAM/B,KAAN,2BAAeugB,GAAf,IAA4BnnB,MAAO,CAACmI,aAAc,GAAIC,cAAY,EAAlE,SACG,YAAsB,IACfhF,GAAQiF,EADM,EAAnBA,eAC2B,UAAUyf,EAAMtuB,MAC5C,OAAO4J,GAASA,EAAMkkB,aAAelkB,EAAMD,cACzC,qCACE,kBAAMyD,KAAN,uCAAekhB,GAAW7jB,GAA1B,IAAkC4C,MAAO,cAC9BrN,KAAM,CAACsuB,EAAMtuB,KAAM,SAAUuuB,SAAU,CAACD,EAAMC,SAAU,SACxDjhB,MAAO,CAAC,CAACC,UAAU,EAAM3M,QAAS,wBAF7C,SAGE,mBAAa6N,IAAK,OAGpB,kBAAMrB,KAAN,uCAAekhB,GAAW7jB,GAA1B,IAAkC4C,MAAO,QAC9BrN,KAAM,CAACsuB,EAAMtuB,KAAM,SAAUuuB,SAAU,CAACD,EAAMC,SAAU,SACxDjhB,MAAO,CAAC,CAACC,UAAU,EAAM3M,QAAS,yBAF7C,SAGE,8BACE,kBAAQsN,OAAR,CAAeC,MAAM,WAArB,sBACA,kBAAQD,OAAR,CAAeC,MAAM,SAArB,oBACA,kBAAQD,OAAR,CAAeC,MAAM,QAArB,mBACA,kBAAQD,OAAR,CAAeC,MAAM,SAArB,oBACA,kBAAQD,OAAR,CAAeC,MAAM,UAArB,qBACA,kBAAQD,OAAR,CAAeC,MAAM,QAArB,mCASd,mBAAK7E,KAAM,EAAX,SACE,cAAC,IAAD,CAAqB4D,QAAS,kBAAMkhB,EAAOE,EAAMtuB,eA9FvCsuB,EAAMlW,UAoGhB,KAEV,mBAAMhL,KAAN,2BAAeugB,GAAf,cACE,mBAAQ7tB,KAAK,SAASoN,QAAS,kBAAM4M,EAAI,CAACjY,WAAYsJ,EAAItJ,cAAcoc,OAAK,EAACvM,KAAM,cAAC,IAAD,IAApF,uBAGA,kBAAM+c,UAAN,CAAgBJ,OAAQA,wB,GAjPhBriB,IAAMyD,WA6QjBC,uBAZS,SAACC,GAAW,IACP+e,EAAW/e,EAA/BxN,QAAUyQ,SAEjB,MAAO,CACLA,SAFetP,IAAEqrB,QAAQD,GAAQ,qBAAE9b,YAGnChG,QAAS,CACPoD,OAAQC,oBAAUN,EAAO5H,eACzBmI,KAAMD,oBAAUN,EAAO1H,oBAKW,CAACH,wBAAYE,2BAAtC0H,CAAoDke,I,6NC3OpDgB,UAzDO,SAAC7jB,GAErB,IAEOsB,EAAuBtB,EAAvBsB,KAAMM,EAAiB5B,EAAjB4B,SAAUxB,EAAOJ,EAAPI,IAEvB,OACE,mBACE6B,QAASX,EACTvL,MAAM,eACN2F,MAAO,IACPkG,SAAUA,EACVM,OAAQ,CACN,mBAAmBC,QAASP,EAA5B,mBAAY,SANhB,SASGxB,GACD,oBAAcsO,OAAQ,EAAtB,UACE,kBAAcrM,KAAd,CAAmBC,MAAM,eAAzB,SAAyClC,EAAInL,OAC7C,kBAAcoN,KAAd,CAAmBC,MAAM,gBAAzB,SAA0ClC,EAAIqT,gBAC9C,kBAAcpR,KAAd,CAAmBC,MAAM,cAAzB,SAAwClC,EAAIzC,cAC5C,kBAAc0E,KAAd,CAAmBC,MAAM,OAAzB,SACE,8BAAQlC,EAAI7L,KAAK,kBAAY0K,KAAZ,CAAiBlK,KAAM,YAAvB,8BAEnB,mBAAcsN,KAAd,CAAmBC,MAAM,OAAzB,UACE,cAAC,IAAD,CAAMvN,KAAMqL,EAAIuG,OADlB,IAC2BvG,EAAIuG,QAE/B,mBAActE,KAAd,CAAmBC,MAAM,SAAzB,UACkB,QAAflC,EAAI0jB,QAAoB,kBAAY7kB,KAAZ,CAAiBR,QAAM,EAAC1J,KAAM,UAA9B,iBACT,SAAfqL,EAAI0jB,QAAqB,kBAAY7kB,KAAZ,CAAiBR,QAAM,EAAC1J,KAAM,UAA9B,qBAE5B,kBAAcsN,KAAd,CAAmBC,MAAM,WAAzB,SACE,kBAAYrD,KAAZ,CAAiB1K,MAAI,EAArB,SA9BY,8BA8ByB6L,EAAI2jB,aAE3C,kBAAc1hB,KAAd,CAAmBC,MAAM,aAAzB,SACE,kBAAYrD,KAAZ,CAAiB1K,MAAI,EAArB,SAAuB6L,EAAIxH,QAE7B,kBAAcyJ,KAAd,CAAmBC,MAAM,YAAzB,SACE,kBAAYrD,KAAZ,CAAiB1K,MAAI,EAArB,SAAuB6L,EAAIY,SAE7B,kBAAcqB,KAAd,CAAmBC,MAAM,SAAzB,SACGlC,EAAIuB,UACH,mBAAOjI,OAAO,aAAawB,KAAK,WAChC,mBAAOxB,OAAO,UAAUwB,KAAK,eAEjC,kBAAcmH,KAAd,CAAmBC,MAAM,SAAzB,SACGlC,EAAIwH,UACH,mBAAOlO,OAAO,UAAUwB,KAAK,WAC7B,mBAAOxB,OAAO,UAAUwB,KAAK,qB,oOCrDjColB,E,IAAAA,QAEF9X,E,kDAEJ,WAAYxI,GAAQ,IAAD,8BACjB,cAAMA,IAkBRgkB,YAAc,SAACzD,GAAD,OAAS,EAAK3Z,SAAS,CAACqd,KAAM1D,KAhB1C,EAAKpgB,MAAQ,CACX+jB,YAAa,IACbD,KAAM,KALS,E,gEASE,IAAD,EACO1iB,KAAKvB,MAAvBrF,EADW,EACXA,MAAO+K,EADI,EACJA,QACV/K,GAAO+K,EAAQqE,KAAK,O,yCAGP5I,EAAWC,EAAWC,GAAW,IAAD,EACxBE,KAAKvB,MAAvBrF,EAD0C,EAC1CA,MAAO+K,EADmC,EACnCA,QACV/K,GAAO+K,EAAQqE,KAAK,O,+BAKhB,IAAD,SACqBxI,KAAKpB,MAA1B+jB,EADA,EACAA,YAAaD,EADb,EACaA,KAEpB,OACE,mBAAKlvB,KAAK,OAAOuJ,QAAQ,SAASuV,MAAM,SAASpY,MAAO,CAAC+O,UAAW,QAAS4X,gBAAgB,wBAA7F,SACE,4BACE,oBAAM3mB,MAAO,CAACC,MAAO,KAArB,UACE,mBAAK3G,KAAK,OAAOuJ,QAAQ,SAAzB,SACE,4BAAK,qBAAK6N,IAAK,qBAAsBC,IAAK,gBAAiB3Q,MAAO,CAAC0oB,SAAU,QAASvgB,aAAc,cAEtG,oBAAMga,iBAAkBsG,EAAaE,UAAWH,EAAM7e,SAAU7D,KAAKyiB,YAAaK,UAAQ,EAA1F,UACE,cAAC/D,EAAD,CAASC,IAAI,SAAb,SACE,cAAC,UAAD,KADwB,KAG1B,cAACD,EAAD,CAASC,IAAI,UAAb,SACE,cAAC,UAAD,CAAQ+D,UAAW,kBAAM,EAAKN,YAAY,SADjB,mB,GArCtB/iB,IAAMyD,WAqDVC,uBALS,SAAC,GAEvB,MAAO,CAAChK,MAF0B,EAAV4N,KACjB5N,SAI+B,GAAzBgK,CAA6B6D,I,iQCpDtC+b,E,4MAEJtkB,SAAW,SAACukB,GAAD,OAAY,EAAKxkB,MAAM3G,WAAWmrB,I,uDAEnC,IACD3iB,EAAWN,KAAKvB,MAAhB6B,QAEP,OACE,oBACE5M,KAAK,QACLmJ,UAAU,aACV6B,SAAUsB,KAAKtB,SAHjB,UAME,kBAAMoC,KAAN,CACEpN,KAAK,WACLsN,MAAO,CACL,CACEC,UAAU,EACV3M,QAAS,gCALf,SASE,mBAAOiS,OAAQ,cAAC,IAAD,CAAc1J,UAAU,wBAAyBsE,YAAY,eAG9E,kBAAML,KAAN,CACEpN,KAAK,WACLsN,MAAO,CACL,CACEC,UAAU,EACV3M,QAAS,gCALf,SASE,mBACEiS,OAAQ,cAAC,IAAD,CAAc1J,UAAU,wBAChCrJ,KAAK,WACL2N,YAAY,eAIhB,kBAAML,KAAN,UACE,cAAC,IAAD,CAAMsI,GAAI,UAAWlP,MAAO,CAACkR,MAAO,SAApC,SACE,kBAAY7Q,KAAZ,kCAIJ,kBAAMuG,KAAN,UACE,mBAAQtN,KAAK,UAAU0kB,SAAS,SAASrb,UAAU,oBAAoByD,UAAWA,EAASqR,OAAK,EAAhG,6B,GAjDUjS,IAAMyD,WAiEXC,uBALS,SAACC,GAAW,IACXsS,EAActS,EAA9B2D,KAAO7O,OAASwd,SACvB,MAAO,CAACrV,QAASqD,oBAAUN,EAAOtL,UAASub,UAAWqC,KAGhB,CAAC7d,wBAAYyB,+BAAtC6J,CAAsD4f,I,kPClE/DE,E,kDAEJ,WAAYzkB,GAAQ,IAAD,8BACjB,cAAMA,IAcRC,SAAW,SAACukB,GAAD,OAAY,EAAKxkB,MAAMlH,WAAW0rB,IAf1B,EAiBnBE,QAAU,kBAAM,EAAKvkB,MAAMD,QAAQG,QAAQmB,eAfzC,EAAKrB,MAAQ,CACXD,QAASe,IAAMC,aAHA,E,+DAOAC,EAAWC,EAAWC,IAClCF,EAAU0T,SAAWtT,KAAKvB,MAAM6U,UACnCtT,KAAKmjB,UACLnjB,KAAKvB,MAAMskB,YACX/iB,KAAKvB,MAAMlF,mB,+BAQL,IACD+G,EAAWN,KAAKvB,MAAhB6B,QACA3B,EAAWqB,KAAKpB,MAAhBD,QAEP,OACE,oBACEjL,KAAK,QACLmJ,UAAU,aACV6B,SAAUsB,KAAKtB,SACfmC,IAAKlC,EAJP,UAOE,kBAAMmC,KAAN,CACEpN,KAAK,WACLsN,MAAO,CACL,CAACC,UAAU,EAAM3M,QAAS,gCAH9B,SAME,mBAAOiS,OAAQ,cAAC,IAAD,CAAkB1J,UAAU,wBAAyBsE,YAAY,gBAGlF,kBAAML,KAAN,CACEpN,KAAK,QACLsN,MAAO,CACL,CAACxN,KAAM,QAASc,QAAS,kCACzB,CAAC2M,UAAU,EAAM3M,QAAS,6BAJ9B,SAOE,mBAAOiS,OAAQ,cAAC,IAAD,CAAe1J,UAAU,wBAAyBsE,YAAY,YAG/E,kBAAML,KAAN,CACEpN,KAAK,WACLsN,MAAO,CACL,CAACC,UAAU,EAAM3M,QAAS,+BAC1B,CAAC6N,IAAK,EAAG7N,QAAS,4CAJtB,SAOE,mBAAOiS,OAAQ,cAAC,IAAD,CAAc1J,UAAU,wBAAyBsE,YAAY,eAG9E,kBAAML,KAAN,CACEpN,KAAK,WACLoP,aAAW,EACX9B,MAAO,CACL,CAACC,UAAU,EAAM3M,QAAS,+BAC1B,CAAC6N,IAAK,EAAG7N,QAAS,4CALtB,SAQE,kBAAOyO,SAAP,CACEwD,OAAQ,cAAC,IAAD,CAAc1J,UAAU,wBAChCrJ,KAAK,WACL2N,YAAY,eAIhB,kBAAML,KAAN,CACEpN,KAAK,kBACLsP,aAAc,CAAC,YACfF,aAAW,EACX9B,MAAO,CACL,CAACC,UAAU,EAAM3M,QAAS,qCAC1B,gBAAEiO,EAAF,EAAEA,cAAF,MAAsB,CACpBU,UADoB,SACVC,EAAMrB,GACd,OAAKA,GAASU,EAAc,cAAgBV,EAGrCtJ,QAAQC,OAAO,oDAFbD,QAAQpF,cATzB,SAgBE,kBAAO4P,SAAP,CACEwD,OAAQ,cAAC,IAAD,CAAc1J,UAAU,wBAChCrJ,KAAK,WACL2N,YAAY,uBAIhB,kBAAML,KAAN,UACE,mBAAQtN,KAAK,UAAU0kB,SAAS,SAASrb,UAAU,oBAAoByD,UAAWA,EAASqR,OAAK,EAAhG,8B,GArGWjS,IAAMyD,WAqHZC,uBALS,SAACC,GAAW,IACXqS,EAAcrS,EAA9B2D,KAAO7O,OAASud,SACvB,MAAO,CAACpV,QAASqD,oBAAUN,EAAOzL,WAAU0b,UAAWoC,KAGjB,CAACne,wBAAYgC,+BAAtC6J,CAAsD8f,I,+UCpH/DjM,E,4MAOJvY,SAAW,SAACukB,GAAD,OAAY,EAAKxkB,MAAM7F,WAAWqqB,I,iEAL1BrjB,EAAWC,EAAWC,IAClCF,EAAU0T,SAAWtT,KAAKvB,MAAM6U,SACnCtT,KAAKvB,MAAMlF,kB,+BAKL,IACD+G,EAAWN,KAAKvB,MAAhB6B,QAEP,OACE,mBAAK9M,KAAK,OAAOuJ,QAAQ,SAASuV,MAAM,SACnCpY,MAAO,CAAC+O,UAAW,QAAS4X,gBAAgB,wBADjD,SAEE,4BACE,oBAAM3mB,MAAO,CAACC,MAAO,KAArB,UACE,mBAAK3G,KAAK,OAAOuJ,QAAQ,SAAzB,SACE,4BAAK,qBAAK6N,IAAK,qBAAsBC,IAAK,gBAChC3Q,MAAO,CAAC0oB,SAAU,QAASvgB,aAAc,cAErD,oBACE3O,KAAK,SACLmJ,UAAU,cACV6B,SAAUsB,KAAKtB,SACfxE,MAAO,CAAC8f,UAAW,IAJrB,UAOE,kBAAMlZ,KAAN,CACEpN,KAAK,WACLsN,MAAO,CACL,CAACC,UAAU,EAAM3M,QAAS,gCAH9B,SAME,mBAAOiS,OAAQ,cAAC,IAAD,CAAc1J,UAAU,wBAAyBsE,YAAY,eAG9E,kBAAML,KAAN,CACEpN,KAAK,QACLsN,MAAO,CACL,CAACxN,KAAM,QAASc,QAAS,kCACzB,CAAC2M,UAAU,EAAM3M,QAAS,6BAJ9B,SAOE,mBAAOiS,OAAQ,cAAC,IAAD,CAAe1J,UAAU,wBAAyBsE,YAAY,YAG/E,kBAAML,KAAN,UACE,cAAC,IAAD,CAAMsI,GAAI,SAAUlP,MAAO,CAACkR,MAAO,SAAnC,SACE,kBAAY7Q,KAAZ,wBAIJ,kBAAMuG,KAAN,UACE,mBAAQtN,KAAK,UAAU0kB,SAAS,SAASrb,UAAU,qBAAqByD,UAAWA,EAASqR,OAAK,EAAjG,oC,GAtDKjS,IAAMyD,WAyEZC,uBALS,SAACC,GAAW,IACXuS,EAAYvS,EAA5B2D,KAAO7O,OAASyd,OACvB,MAAO,CAACtV,QAASqD,oBAAUN,EAAOxK,UAASya,UAAWsC,KAGhB,CAAChd,wBAAYW,+BAAtC6J,CAAsD6T,I,qSC1E/DC,E,kLAGF,IAAMkM,EAAQ,IAAIC,gBAAgBrjB,KAAKvB,MAAMqY,SAASvR,QAClD6d,EAAMvvB,IAAI,UAAUmM,KAAKvB,MAAM2U,YAAYgQ,EAAMvvB,IAAI,Y,+BAGjD,IAAD,EACkBmM,KAAKvB,MAAvB6B,EADA,EACAA,QAAS3I,EADT,EACSA,MAEhB,OACE,mBAAKnE,KAAK,OAAOuJ,QAAQ,SAASuV,MAAM,SAASpY,MAAO,CAAC+O,UAAW,QAAS4X,gBAAgB,wBAA7F,SACE,4BACE,mBAAM3mB,MAAO,CAACC,MAAO,IAAK8O,UAAW,KAArC,SACE,mBAAMN,SAAUrI,EAAhB,SACGA,EAAU,qBAAKpG,MAAO,CAAC+O,UAAW,OACjC,mCACGtR,EACC,mBACEQ,OAAO,UACP3D,MAAM,UACN+d,SAAS,6BACT/P,MAAO,CACL,cAAC,IAAD,CAAM4G,GAAI,IAAV,SAAe,mBAAQ5V,KAAK,UAAb,oBAA2B,gBAG9C,mBACE2E,OAAO,QACP3D,MAAM,gBACN+d,SAAS,4BACT/P,MAAO,CACL,cAAC,IAAD,CAAM4G,GAAI,IAAV,SAAe,mBAAQ5V,KAAK,UAAb,oBAA2B,8B,GA/BlCkM,IAAMyD,WAkDvBC,uBALS,SAACC,GAEvB,MAAO,CAAC1L,MADkC0L,EAAnC6D,aAAe/O,OAASR,MAChB2I,QAASqD,oBAAUN,EAAOgQ,mBAGH,CAACD,2BAA1BhQ,CAAwC8T,I,ubChDjDC,E,4MAOJzY,SAAW,YAAiB,IAAfhH,EAAc,EAAdA,SACL0rB,EAAQ,IAAIC,gBAAgB,EAAK5kB,MAAMqY,SAASvR,QACtD,EAAK9G,MAAM8U,eAAe6P,EAAMvvB,IAAI,SAAU6D,I,kEAN9C,IAAM0rB,EAAQ,IAAIC,gBAAgBrjB,KAAKvB,MAAMqY,SAASvR,QAClD6d,EAAMvvB,IAAI,UAAUmM,KAAKvB,MAAMtF,cAAciqB,EAAMvvB,IAAI,Y,+BAQnD,IAAD,EAC2BmM,KAAKvB,MAAhC6B,EADA,EACAA,QAASmD,EADT,EACSA,KAAM/L,EADf,EACeA,SAEtB,OACE,mBAAKlE,KAAK,OAAOuJ,QAAQ,SAASuV,MAAM,SACnCpY,MAAO,CAAC+O,UAAW,QAAS4X,gBAAgB,wBADjD,SAEE,4BACE,mBAAM3mB,MAAO,CAACC,MAAO,IAAK8O,UAAW,KAArC,SACE,mBAAMN,SAAUrI,EAAQzM,IAAxB,SACGyM,EAAQzM,IAAM,qBAAKqG,MAAO,CAAC+O,UAAW,OACrC,mCACGxF,EACC,mCACI/L,EA+DA,mBACES,OAAO,UACP3D,MAAM,UACN+d,SAAS,6BACT/P,MAAO,CACL,cAAC,IAAD,CAAM4G,GAAI,IAAV,SAAe,mBAAQ5V,KAAK,UAAb,oBAA2B,gBAnE9C,oBAAOmJ,UAAW,WAAYzC,MAAO,CAACC,MAAO,QAA7C,UACE,mBAAK3G,KAAK,OAAOuJ,QAAQ,SAAzB,SACE,4BAAK,qBAAK6N,IAAK,qBAAsBC,IAAK,gBAChC3Q,MAAO,CAAC0oB,SAAU,QAASvgB,aAAc,cAErD,oBAAc8K,OAAQ,EAAGI,UAAQ,EAAjC,UACE,kBAAczM,KAAd,CACEC,MAAO,kBAAYrD,KAAZ,CAAiBR,QAAM,EAAvB,sBADT,SAC8DuG,EAAKjM,WACnE,kBAAcsJ,KAAd,CACEC,MAAO,kBAAYrD,KAAZ,CAAiBR,QAAM,EAAvB,sBADT,SAC8DuG,EAAKhM,WACnE,kBAAcqJ,KAAd,CACEC,MAAO,kBAAYrD,KAAZ,CAAiBR,QAAM,EAAvB,mBADT,SAC2DuG,EAAK9L,WAElE,oBACEjE,KAAK,SACLmJ,UAAU,cACV6B,SAAUsB,KAAKtB,SAHjB,UAIE,kBAAMoC,KAAN,CACEpN,KAAK,WACLoP,aAAW,EACX9B,MAAO,CACL,CAACC,UAAU,EAAM3M,QAAS,+BAC1B,CAAC6N,IAAK,EAAG7N,QAAS,4CALtB,SAQE,kBAAOyO,SAAP,CACEwD,OAAQ,cAAC,IAAD,CAAc1J,UAAU,wBAChCrJ,KAAK,WACL2N,YAAY,mBAGhB,kBAAML,KAAN,CACEpN,KAAK,kBACLsP,aAAc,CAAC,YACfF,aAAW,EACX9B,MAAO,CACL,CAACC,UAAU,EAAM3M,QAAS,qCAC1B,gBAAEiO,EAAF,EAAEA,cAAF,MAAsB,CACpBU,UADoB,SACVC,EAAMrB,GACd,OAAKA,GAASU,EAAc,cAAgBV,EAGrCtJ,QAAQC,OAAO,oDAFbD,QAAQpF,cATzB,SAgBE,kBAAO4P,SAAP,CACEwD,OAAQ,cAAC,IAAD,CAAc1J,UAAU,wBAChCrJ,KAAK,WACL2N,YAAY,uBAGhB,kBAAML,KAAN,UACE,mBAAQtN,KAAK,UAAU0kB,SAAS,SAASrb,UAAU,qBAC3CyD,QAASA,EAAQgjB,OACjB3R,OAAK,EAFb,8BAkBV,mBACExZ,OAAO,QACP3D,MAAM,gBACN+d,SAAS,gCACT/P,MAAO,CACL,cAAC,IAAD,CAAM4G,GAAI,IAAV,SAAe,mBAAQ5V,KAAK,UAAb,oBAA2B,8B,GAvG/BkM,IAAMyD,WA+H1BC,uBAVS,SAACC,GAEvB,MAAO,CACLI,KAFyDJ,EAApDI,KAAOA,KAEN/L,SAFmD2L,EAAtC6D,aAAe/O,OAAST,SAE3B4I,QAAS,CACvBzM,IAAK8P,oBAAUN,EAAOhK,mBACtBiqB,OAAQ3f,oBAAUN,EAAOmQ,uBAKS,CAACra,8BAAeoa,iCAAzCnQ,CAA0D+T,I,gCC1IzE,2FAAO,IAAMxT,EAAY,SAACN,GAAD,2BAAWkgB,EAAX,iCAAWA,EAAX,yBACvBlgB,EAAMuD,GAAGiP,OAAOrK,QAAQgY,MAAK,SAAAnO,GAAM,OAAIkO,EAAe5d,SAAS0P,EAAO3hB,UAE3DgV,EAAY,SAACrF,GAAD,OAAW,sCAAIogB,EAAJ,yBAAIA,EAAJ,uBAClCpgB,EAAM2D,KAAKhO,KAAKwqB,MAAK,SAAAE,GAAQ,OAAID,EAAY9d,SAAS+d,S,6LCK3CrgB,EAAQwB,oBAEfmP,E,uKAEF,OACE,cAAC,IAAD,CAAU3Q,MAAOA,EAAjB,SACE,cAAC,IAAD,CAAiBc,QAASA,UAA1B,SACE,cAAC,IAAD,UACE,cAAC,IAAD,CAAOkF,KAAK,IAAIC,UAAWnB,sB,GANjBzI,IAAMyD,WAcb6Q,a,gwCCzBf,OAAe,cAA0B,qD,+BCAzC,2vFACO,IAAMzf,EAAe,eACf2hB,EAAe,eAEfziB,EAAkB,kBAClBO,EAAiB,iBAEjBiiB,EAAoB,OACpBpe,EAAuB,UACvB8rB,EAAuB,UACvBjvB,EAAqB,QAErB8E,EAAe,eACf2c,EAAmB,mBAGnByN,EAAoB,eACpBha,EAAoB,eACpBH,EAAe,UACfC,EAAa,QACbG,EAAqB,gBACrBF,EAAe,qBACfI,EAAkB,aAGlBuL,EAAkB,kBAClBvX,EAAuB,uBACvBG,EAAiB,iBAGjBnG,EAAS,SACTH,EAAU,UACVU,EAAU,UACVO,EAAS,SACTvB,EAAW,WACXyB,EAAY,YACZJ,EAAiB,iBAGjB0a,EAAe,eACfG,EAAkB,kBAGlBvd,EAAkB,kBAClBG,EAAkB,kBAClBE,EAAyB,yBACzBM,EAAoB,oBACpBE,EAAqB,qBACrBN,EAAc,cACdE,EAAe,eAGflB,EAAmB,mBACnB7B,EAAuB,uBACvB+B,EAAmB,mBACnBK,EAAoB,oBACpBnB,EAA2B,2BAC3BE,EAA2B,2BAC3BE,EAA4B,4BAC5BG,EAA+B,+BAC/BE,EAAyB,yBAGzBqhB,EAAa,aACbhD,EAAa,aACbE,EAAc,cAGdxY,EAAc,cACdG,EAAkB,kBAClBE,EAAc,cACdE,GAAe,eAGfE,GAAW,WACXxC,GAAkB,kBAClB0C,GAAY,YAGZ6R,GAAc,cACdC,GAAc,cAGdoF,GAAY,YAGZ7B,GAAiB,kB,kGCtF9B,oBAEMyS,EAFN,OAEiBjwB,EAAM8P,OAAO,CAE5BogB,QAAQ,sCAERxb,QAAS,CACP,eAAgB,sBAIpBub,EAAS7rB,aAAa7D,SAAS8D,KAAI,SAAA9D,GAAQ,OAAIA,KAAU,SAAC+D,GAQxD,OAPIA,EAAM/D,WAEC+D,EAAM6rB,QACf3vB,QAAQC,IAAI,6BAEZD,QAAQC,IAAI,aAAc6D,EAAM5D,UAE3BiE,QAAQC,OAAON,MAGT2rB,a,gOCtBf,iHAIatqB,EAAgB,WAC3B,OAAO,SAAAhG,GACLA,EAAS,CAACC,KAAMgG,mBAIP8T,EAAmB,WAC9B,OAAO,SAAA/Z,GACLA,EAAS,CAACC,KAAM2iB,yB","file":"static/js/main.5461bad5.chunk.js","sourcesContent":["var map = {\n\t\"./\": 323,\n\t\"./MainApp\": 441,\n\t\"./MainApp.css\": 520,\n\t\"./MainApp.js\": 441,\n\t\"./actions/APIKey\": 314,\n\t\"./actions/APIKey.js\": 314,\n\t\"./actions/AddOn\": 310,\n\t\"./actions/AddOn.js\": 310,\n\t\"./actions/Auth\": 113,\n\t\"./actions/Auth.js\": 113,\n\t\"./actions/Common\": 74,\n\t\"./actions/Common.js\": 74,\n\t\"./actions/Log\": 408,\n\t\"./actions/Log.js\": 408,\n\t\"./actions/Notification\": 409,\n\t\"./actions/Notification.js\": 409,\n\t\"./actions/Package\": 160,\n\t\"./actions/Package.js\": 160,\n\t\"./actions/Service\": 105,\n\t\"./actions/Service.js\": 105,\n\t\"./actions/Setting\": 205,\n\t\"./actions/Setting.js\": 205,\n\t\"./actions/Subscription\": 103,\n\t\"./actions/Subscription.js\": 103,\n\t\"./actions/Usage\": 276,\n\t\"./actions/Usage.js\": 276,\n\t\"./actions/User\": 168,\n\t\"./actions/User.js\": 168,\n\t\"./actions/Verification\": 277,\n\t\"./actions/Verification.js\": 277,\n\t\"./app\": 252,\n\t\"./app/\": 252,\n\t\"./app/index\": 252,\n\t\"./app/index.css\": 530,\n\t\"./app/index.js\": 252,\n\t\"./app/routes/APIKey\": 258,\n\t\"./app/routes/APIKey/\": 258,\n\t\"./app/routes/APIKey/index\": 258,\n\t\"./app/routes/APIKey/index.js\": 258,\n\t\"./app/routes/APIMarket\": 261,\n\t\"./app/routes/APIMarket/\": 261,\n\t\"./app/routes/APIMarket/Detail\": 407,\n\t\"./app/routes/APIMarket/Detail.js\": 407,\n\t\"./app/routes/APIMarket/Market\": 406,\n\t\"./app/routes/APIMarket/Market.js\": 406,\n\t\"./app/routes/APIMarket/index\": 261,\n\t\"./app/routes/APIMarket/index.js\": 261,\n\t\"./app/routes/AccessLog\": 262,\n\t\"./app/routes/AccessLog/\": 262,\n\t\"./app/routes/AccessLog/index\": 262,\n\t\"./app/routes/AccessLog/index.js\": 262,\n\t\"./app/routes/Landing\": 256,\n\t\"./app/routes/Landing/\": 256,\n\t\"./app/routes/Landing/index\": 256,\n\t\"./app/routes/Landing/index.js\": 256,\n\t\"./app/routes/Package\": 263,\n\t\"./app/routes/Package/\": 263,\n\t\"./app/routes/Package/Form\": 410,\n\t\"./app/routes/Package/Form.js\": 410,\n\t\"./app/routes/Package/index\": 263,\n\t\"./app/routes/Package/index.js\": 263,\n\t\"./app/routes/Service\": 264,\n\t\"./app/routes/Service/\": 264,\n\t\"./app/routes/Service/Detail\": 411,\n\t\"./app/routes/Service/Detail.js\": 411,\n\t\"./app/routes/Service/Form/Group\": 241,\n\t\"./app/routes/Service/Form/Group.js\": 241,\n\t\"./app/routes/Service/Form/Service\": 242,\n\t\"./app/routes/Service/Form/Service.js\": 242,\n\t\"./app/routes/Service/index\": 264,\n\t\"./app/routes/Service/index.js\": 264,\n\t\"./app/routes/ServiceUsage\": 260,\n\t\"./app/routes/ServiceUsage/\": 260,\n\t\"./app/routes/ServiceUsage/Service\": 405,\n\t\"./app/routes/ServiceUsage/Service.js\": 405,\n\t\"./app/routes/ServiceUsage/Tabs/Chart/UsageChart\": 404,\n\t\"./app/routes/ServiceUsage/Tabs/Chart/UsageChart.js\": 404,\n\t\"./app/routes/ServiceUsage/Tabs/DailyUsage\": 402,\n\t\"./app/routes/ServiceUsage/Tabs/DailyUsage.js\": 402,\n\t\"./app/routes/ServiceUsage/Tabs/Quota\": 403,\n\t\"./app/routes/ServiceUsage/Tabs/Quota.css\": 610,\n\t\"./app/routes/ServiceUsage/Tabs/Quota.js\": 403,\n\t\"./app/routes/ServiceUsage/Usage\": 401,\n\t\"./app/routes/ServiceUsage/Usage.js\": 401,\n\t\"./app/routes/ServiceUsage/index\": 260,\n\t\"./app/routes/ServiceUsage/index.js\": 260,\n\t\"./app/routes/Subscription\": 257,\n\t\"./app/routes/Subscription/\": 257,\n\t\"./app/routes/Subscription/Chart/UsageChart\": 379,\n\t\"./app/routes/Subscription/Chart/UsageChart.js\": 379,\n\t\"./app/routes/Subscription/Detail\": 372,\n\t\"./app/routes/Subscription/Detail.js\": 372,\n\t\"./app/routes/Subscription/Form/AddOn\": 375,\n\t\"./app/routes/Subscription/Form/AddOn.js\": 375,\n\t\"./app/routes/Subscription/Form/Subs\": 208,\n\t\"./app/routes/Subscription/Form/Subs.js\": 208,\n\t\"./app/routes/Subscription/List\": 369,\n\t\"./app/routes/Subscription/List.js\": 369,\n\t\"./app/routes/Subscription/Tab/AddOn\": 374,\n\t\"./app/routes/Subscription/Tab/AddOn.js\": 374,\n\t\"./app/routes/Subscription/Tab/DailyUsage\": 377,\n\t\"./app/routes/Subscription/Tab/DailyUsage.js\": 377,\n\t\"./app/routes/Subscription/Tab/Quota\": 378,\n\t\"./app/routes/Subscription/Tab/Quota.css\": 606,\n\t\"./app/routes/Subscription/Tab/Quota.js\": 378,\n\t\"./app/routes/Subscription/Tab/Summary\": 373,\n\t\"./app/routes/Subscription/Tab/Summary.js\": 373,\n\t\"./app/routes/Subscription/Tab/Timeline\": 376,\n\t\"./app/routes/Subscription/Tab/Timeline.js\": 376,\n\t\"./app/routes/Subscription/index\": 257,\n\t\"./app/routes/Subscription/index.js\": 257,\n\t\"./app/routes/Usage\": 259,\n\t\"./app/routes/Usage/\": 259,\n\t\"./app/routes/Usage/Service\": 400,\n\t\"./app/routes/Usage/Service.css\": 609,\n\t\"./app/routes/Usage/Service.js\": 400,\n\t\"./app/routes/Usage/Tabs/Chart/UsageChart\": 399,\n\t\"./app/routes/Usage/Tabs/Chart/UsageChart.js\": 399,\n\t\"./app/routes/Usage/Tabs/DailyUsage\": 397,\n\t\"./app/routes/Usage/Tabs/DailyUsage.js\": 397,\n\t\"./app/routes/Usage/Tabs/Quota\": 398,\n\t\"./app/routes/Usage/Tabs/Quota.css\": 608,\n\t\"./app/routes/Usage/Tabs/Quota.js\": 398,\n\t\"./app/routes/Usage/Usage\": 396,\n\t\"./app/routes/Usage/Usage.js\": 396,\n\t\"./app/routes/Usage/index\": 259,\n\t\"./app/routes/Usage/index.js\": 259,\n\t\"./components/Avatar\": 149,\n\t\"./components/Avatar/\": 149,\n\t\"./components/Avatar/index\": 149,\n\t\"./components/Avatar/index.js\": 149,\n\t\"./components/Error403\": 265,\n\t\"./components/Error403/\": 265,\n\t\"./components/Error403/index\": 265,\n\t\"./components/Error403/index.js\": 265,\n\t\"./components/Error404\": 266,\n\t\"./components/Error404/\": 266,\n\t\"./components/Error404/index\": 266,\n\t\"./components/Error404/index.js\": 266,\n\t\"./components/Notification\": 267,\n\t\"./components/Notification/\": 267,\n\t\"./components/Notification/index\": 267,\n\t\"./components/Notification/index.js\": 267,\n\t\"./components/PackageCard\": 178,\n\t\"./components/PackageCard/\": 178,\n\t\"./components/PackageCard/index\": 178,\n\t\"./components/PackageCard/index.css\": 605,\n\t\"./components/PackageCard/index.js\": 178,\n\t\"./components/Service/DocsHeader\": 115,\n\t\"./components/Service/DocsHeader.js\": 115,\n\t\"./components/Service/RouteOptimizer\": 347,\n\t\"./components/Service/RouteOptimizer/\": 347,\n\t\"./components/Service/RouteOptimizer/RollBanner_Introduction.png\": 483,\n\t\"./components/Service/RouteOptimizer/docs\": 348,\n\t\"./components/Service/RouteOptimizer/docs.js\": 348,\n\t\"./components/Service/RouteOptimizer/index\": 347,\n\t\"./components/Service/RouteOptimizer/index.js\": 347,\n\t\"./components/Service/RouteOptimizer/overview\": 349,\n\t\"./components/Service/RouteOptimizer/overview.js\": 349,\n\t\"./components/Service/RouteOptimizer/request\": 476,\n\t\"./components/Service/RouteOptimizer/request.json\": 476,\n\t\"./components/Service/RouteOptimizer/response\": 477,\n\t\"./components/Service/RouteOptimizer/response.json\": 477,\n\t\"./components/Tags/Package\": 108,\n\t\"./components/Tags/Package.js\": 108,\n\t\"./components/Tags/SubscriptionStatus\": 159,\n\t\"./components/Tags/SubscriptionStatus.js\": 159,\n\t\"./constants/ActionTypes\": 5,\n\t\"./constants/ActionTypes.js\": 5,\n\t\"./containers/App\": 363,\n\t\"./containers/App.js\": 363,\n\t\"./containers/Auth\": 412,\n\t\"./containers/Auth.js\": 412,\n\t\"./containers/Forgot\": 415,\n\t\"./containers/Forgot.js\": 415,\n\t\"./containers/Header\": 254,\n\t\"./containers/Header/\": 254,\n\t\"./containers/Header/index\": 254,\n\t\"./containers/Header/index.css\": 550,\n\t\"./containers/Header/index.js\": 254,\n\t\"./containers/Login\": 413,\n\t\"./containers/Login.js\": 413,\n\t\"./containers/Setting\": 255,\n\t\"./containers/Setting/\": 255,\n\t\"./containers/Setting/Profile\": 367,\n\t\"./containers/Setting/Profile.js\": 367,\n\t\"./containers/Setting/Security\": 368,\n\t\"./containers/Setting/Security.js\": 368,\n\t\"./containers/Setting/index\": 255,\n\t\"./containers/Setting/index.js\": 255,\n\t\"./containers/Sidebar\": 253,\n\t\"./containers/Sidebar/\": 253,\n\t\"./containers/Sidebar/Menu\": 366,\n\t\"./containers/Sidebar/Menu.js\": 366,\n\t\"./containers/Sidebar/index\": 253,\n\t\"./containers/Sidebar/index.js\": 253,\n\t\"./containers/Signup\": 414,\n\t\"./containers/Signup.js\": 414,\n\t\"./containers/Verification/Email\": 416,\n\t\"./containers/Verification/Email.js\": 416,\n\t\"./containers/Verification/Password\": 417,\n\t\"./containers/Verification/Password.js\": 417,\n\t\"./index\": 323,\n\t\"./index.css\": 519,\n\t\"./index.js\": 323,\n\t\"./lngProvider\": 251,\n\t\"./lngProvider/\": 251,\n\t\"./lngProvider/entries/en-US\": 364,\n\t\"./lngProvider/entries/en-US.js\": 364,\n\t\"./lngProvider/index\": 251,\n\t\"./lngProvider/index.js\": 251,\n\t\"./lngProvider/locales/en_US\": 365,\n\t\"./lngProvider/locales/en_US.json\": 365,\n\t\"./reducers\": 250,\n\t\"./reducers/\": 250,\n\t\"./reducers/APIKey\": 359,\n\t\"./reducers/APIKey.js\": 359,\n\t\"./reducers/AddOn\": 361,\n\t\"./reducers/AddOn.js\": 361,\n\t\"./reducers/Auth\": 352,\n\t\"./reducers/Auth.js\": 352,\n\t\"./reducers/Log\": 362,\n\t\"./reducers/Log.js\": 362,\n\t\"./reducers/Package\": 357,\n\t\"./reducers/Package.js\": 357,\n\t\"./reducers/Service\": 355,\n\t\"./reducers/Service.js\": 355,\n\t\"./reducers/Settings\": 351,\n\t\"./reducers/Settings.js\": 351,\n\t\"./reducers/Subscription\": 356,\n\t\"./reducers/Subscription.js\": 356,\n\t\"./reducers/UI\": 354,\n\t\"./reducers/UI.js\": 354,\n\t\"./reducers/Usage\": 360,\n\t\"./reducers/Usage.js\": 360,\n\t\"./reducers/User\": 358,\n\t\"./reducers/User.js\": 358,\n\t\"./reducers/Verification\": 353,\n\t\"./reducers/Verification.js\": 353,\n\t\"./reducers/index\": 250,\n\t\"./reducers/index.js\": 250,\n\t\"./reportWebVitals\": 350,\n\t\"./reportWebVitals.js\": 350,\n\t\"./store\": 233,\n\t\"./store/\": 233,\n\t\"./store/index\": 233,\n\t\"./store/index.js\": 233,\n\t\"./store/selectors\": 42,\n\t\"./store/selectors.js\": 42,\n\t\"./util/Api\": 55,\n\t\"./util/Api.js\": 55,\n\t\"./util/IntlMessages\": 225,\n\t\"./util/IntlMessages.js\": 225\n};\n\n\nfunction webpackContext(req) {\n\tvar id = webpackContextResolve(req);\n\treturn __webpack_require__(id);\n}\nfunction webpackContextResolve(req) {\n\tif(!__webpack_require__.o(map, req)) {\n\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\te.code = 'MODULE_NOT_FOUND';\n\t\tthrow e;\n\t}\n\treturn map[req];\n}\nwebpackContext.keys = function webpackContextKeys() {\n\treturn Object.keys(map);\n};\nwebpackContext.resolve = webpackContextResolve;\nmodule.exports = webpackContext;\nwebpackContext.id = 1028;","import {\r\n  SHOW_MESSAGE,\r\n  NOTIFICATION_ERROR,\r\n  GET_SUBSCRIPTION,\r\n  ADD_SUBSCRIPTION,\r\n  UI_START_ACTION,\r\n  UI_STOP_ACTION,\r\n  EDIT_SUBSCRIPTION,\r\n  GET_ONE_SUBSCRIPTION,\r\n  GET_SUBSCRIPTION_SUMMARY,\r\n  GET_SUBSCRIPTION_ADD_ONS,\r\n  GET_SUBSCRIPTION_TIMELINE, GET_SUBSCRIPTION_DAILY_USAGE, GET_SUBSCRIPTION_QUOTA\r\n} from \"../constants/ActionTypes\";\r\n\r\nimport axios from 'util/Api'\r\n\r\nexport const getSubscription = (id) => {\r\n  return dispatch => {\r\n    dispatch({type: UI_START_ACTION, name: GET_ONE_SUBSCRIPTION});\r\n    axios.get('subs/' + id).then(({data}) => {\r\n      dispatch({type: UI_STOP_ACTION, name: GET_ONE_SUBSCRIPTION});\r\n      dispatch({type: GET_ONE_SUBSCRIPTION, payload: data.data});\r\n    }).catch(({response}) => {\r\n      dispatch({type: UI_STOP_ACTION, name: GET_ONE_SUBSCRIPTION});\r\n      if (response) {\r\n        console.log(\"Error****:\", response.message);\r\n        dispatch({type: SHOW_MESSAGE, title: 'Subscription error.', message: response.data.message, severity: NOTIFICATION_ERROR})\r\n      }\r\n    });\r\n  }\r\n};\r\n\r\nexport const getSubscriptionSummary = (id) => {\r\n  return dispatch => {\r\n    dispatch({type: UI_START_ACTION, name: GET_SUBSCRIPTION_SUMMARY});\r\n    axios.get(`subs/${id}/summary`).then(({data}) => {\r\n      dispatch({type: UI_STOP_ACTION, name: GET_SUBSCRIPTION_SUMMARY});\r\n      dispatch({type: GET_SUBSCRIPTION_SUMMARY, payload: data.data});\r\n    }).catch(({response}) => {\r\n      dispatch({type: UI_STOP_ACTION, name: GET_SUBSCRIPTION_SUMMARY});\r\n      if (response) {\r\n        console.log(\"Error****:\", response.message);\r\n        dispatch({type: SHOW_MESSAGE, title: 'Subscription error.', message: response.data.message, severity: NOTIFICATION_ERROR})\r\n      }\r\n    });\r\n  }\r\n};\r\n\r\nexport const getSubscriptionAddOns = (id) => {\r\n  return dispatch => {\r\n    dispatch({type: UI_START_ACTION, name: GET_SUBSCRIPTION_ADD_ONS});\r\n    axios.get(`subs/${id}/add-on`).then(({data}) => {\r\n      dispatch({type: UI_STOP_ACTION, name: GET_SUBSCRIPTION_ADD_ONS});\r\n      dispatch({type: GET_SUBSCRIPTION_ADD_ONS, payload: data.data});\r\n    }).catch(({response}) => {\r\n      dispatch({type: UI_STOP_ACTION, name: GET_SUBSCRIPTION_ADD_ONS});\r\n      if (response) {\r\n        console.log(\"Error****:\", response.message);\r\n        dispatch({type: SHOW_MESSAGE, title: 'Subscription error.', message: response.data.message, severity: NOTIFICATION_ERROR})\r\n      }\r\n    });\r\n  }\r\n};\r\n\r\nexport const getSubscriptionTimeline = (id) => {\r\n  return dispatch => {\r\n    dispatch({type: UI_START_ACTION, name: GET_SUBSCRIPTION_TIMELINE});\r\n    axios.get(`subs/${id}/timeline`).then(({data}) => {\r\n      dispatch({type: UI_STOP_ACTION, name: GET_SUBSCRIPTION_TIMELINE});\r\n      dispatch({type: GET_SUBSCRIPTION_TIMELINE, payload: data.data});\r\n    }).catch(({response}) => {\r\n      dispatch({type: UI_STOP_ACTION, name: GET_SUBSCRIPTION_TIMELINE});\r\n      if (response) {\r\n        console.log(\"Error****:\", response.message);\r\n        dispatch({type: SHOW_MESSAGE, title: 'Subscription error.', message: response.data.message, severity: NOTIFICATION_ERROR})\r\n      }\r\n    });\r\n  }\r\n};\r\n\r\nexport const getSubscriptionDailyUsage = (id, params = null) => {\r\n  return dispatch => {\r\n    dispatch({type: UI_START_ACTION, name: GET_SUBSCRIPTION_DAILY_USAGE});\r\n    axios.get(`subs/${id}/daily-usage`, {params}).then(({data}) => {\r\n      dispatch({type: UI_STOP_ACTION, name: GET_SUBSCRIPTION_DAILY_USAGE});\r\n      dispatch({type: GET_SUBSCRIPTION_DAILY_USAGE, payload: data.data});\r\n    }).catch(({response}) => {\r\n      dispatch({type: UI_STOP_ACTION, name: GET_SUBSCRIPTION_DAILY_USAGE});\r\n      if (response) {\r\n        console.log(\"Error****:\", response.message);\r\n        dispatch({type: SHOW_MESSAGE, title: 'Subscription error.', message: response.data.message, severity: NOTIFICATION_ERROR})\r\n      }\r\n    });\r\n  }\r\n};\r\n\r\nexport const getSubscriptionQuota = (id, params = null) => {\r\n  return dispatch => {\r\n    dispatch({type: UI_START_ACTION, name: GET_SUBSCRIPTION_QUOTA});\r\n    axios.get(`subs/${id}/quota`, {params}).then(({data}) => {\r\n      dispatch({type: UI_STOP_ACTION, name: GET_SUBSCRIPTION_QUOTA});\r\n      dispatch({type: GET_SUBSCRIPTION_QUOTA, payload: data.data});\r\n    }).catch(({response}) => {\r\n      dispatch({type: UI_STOP_ACTION, name: GET_SUBSCRIPTION_QUOTA});\r\n      if (response) {\r\n        console.log(\"Error****:\", response.message);\r\n        dispatch({type: SHOW_MESSAGE, title: 'Subscription error.', message: response.data.message, severity: NOTIFICATION_ERROR})\r\n      }\r\n    });\r\n  }\r\n};\r\n\r\nexport const getSubscriptionByService = (service_id) => {\r\n  return dispatch => {\r\n    dispatch({type: UI_START_ACTION, name: GET_SUBSCRIPTION});\r\n    axios.get('subs/service/' + service_id).then(({data}) => {\r\n      dispatch({type: UI_STOP_ACTION, name: GET_SUBSCRIPTION});\r\n      dispatch({type: GET_SUBSCRIPTION, payload: data.data});\r\n    }).catch(({response}) => {\r\n      dispatch({type: UI_STOP_ACTION, name: GET_SUBSCRIPTION});\r\n      if (response) {\r\n        console.log(\"Error****:\", response.message);\r\n        dispatch({type: SHOW_MESSAGE, title: 'Subscription error.', message: response.data.message, severity: NOTIFICATION_ERROR})\r\n      }\r\n    });\r\n  }\r\n};\r\n\r\nexport const addSubscription = (payload) => {\r\n  return dispatch => {\r\n    dispatch({type: UI_START_ACTION, name: ADD_SUBSCRIPTION});\r\n    axios.post('subs/subscribe', payload).then(({data}) => {\r\n      dispatch({type: UI_STOP_ACTION, name: ADD_SUBSCRIPTION});\r\n      dispatch({type: ADD_SUBSCRIPTION});\r\n    }).catch(({response}) => {\r\n      dispatch({type: UI_STOP_ACTION, name: ADD_SUBSCRIPTION});\r\n      if (response) {\r\n        console.log(\"Error****:\", response.message);\r\n        dispatch({type: SHOW_MESSAGE, title: 'Subscription error.', message: response.data.message, severity: NOTIFICATION_ERROR})\r\n      }\r\n    });\r\n  }\r\n};\r\n\r\nexport const addTrialSubscription = (service) => {\r\n  return dispatch => {\r\n    dispatch({type: UI_START_ACTION, name: ADD_SUBSCRIPTION});\r\n    axios.post('subs/subscribe/trial', {service}).then(({data}) => {\r\n      dispatch({type: UI_STOP_ACTION, name: ADD_SUBSCRIPTION});\r\n      dispatch({type: ADD_SUBSCRIPTION});\r\n    }).catch(({response}) => {\r\n      dispatch({type: UI_STOP_ACTION, name: ADD_SUBSCRIPTION});\r\n      if (response) {\r\n        console.log(\"Error****:\", response.message);\r\n        dispatch({type: SHOW_MESSAGE, title: 'Subscription error.', message: response.data.message, severity: NOTIFICATION_ERROR})\r\n      }\r\n    });\r\n  }\r\n};\r\n\r\nexport const editSubscription = (id, payload) => {\r\n  return dispatch => {\r\n    dispatch({type: UI_START_ACTION, name: EDIT_SUBSCRIPTION});\r\n    axios.post('subs/subscribe/edit', {id, ...payload}).then(({data}) => {\r\n      dispatch({type: UI_STOP_ACTION, name: EDIT_SUBSCRIPTION});\r\n      dispatch({type: EDIT_SUBSCRIPTION});\r\n    }).catch(({response}) => {\r\n      dispatch({type: UI_STOP_ACTION, name: EDIT_SUBSCRIPTION});\r\n      if (response) {\r\n        console.log(\"Error****:\", response.message);\r\n        dispatch({type: SHOW_MESSAGE, title: 'Subscription error.', message: response.data.message, severity: NOTIFICATION_ERROR})\r\n      }\r\n    });\r\n  }\r\n};","import {\r\n  SHOW_MESSAGE,\r\n  NOTIFICATION_ERROR,\r\n  GET_ALL_SERVICE,\r\n  GET_ONE_SERVICE,\r\n  GET_SUBSCRIBED_SERVICE,\r\n  UI_START_ACTION,\r\n  UI_STOP_ACTION,\r\n  ADD_SERVICE,\r\n  ADD_SERVICE_GROUP,\r\n  EDIT_SERVICE,\r\n  EDIT_SERVICE_GROUP\r\n} from \"../constants/ActionTypes\";\r\n\r\nimport axios from 'util/Api'\r\n\r\nexport const getAllService = () => {\r\n  return dispatch => {\r\n    dispatch({type: UI_START_ACTION, name: GET_ALL_SERVICE});\r\n    axios.get('service').then(({data}) => {\r\n      dispatch({type: UI_STOP_ACTION, name: GET_ALL_SERVICE});\r\n      dispatch({type: GET_ALL_SERVICE, payload: data.data});\r\n    }).catch(({response}) => {\r\n      dispatch({type: UI_STOP_ACTION, name: GET_ALL_SERVICE});\r\n      if (response) {\r\n        console.log(\"Error****:\", response.message);\r\n        dispatch({type: SHOW_MESSAGE, title: 'Service error.', message: response.data.message, severity: NOTIFICATION_ERROR})\r\n      }\r\n    });\r\n  }\r\n};\r\n\r\nexport const getMarketService = (params = null) => {\r\n  return dispatch => {\r\n    dispatch({type: UI_START_ACTION, name: GET_ALL_SERVICE});\r\n    axios.get('service/market', {params}).then(({data}) => {\r\n      dispatch({type: UI_STOP_ACTION, name: GET_ALL_SERVICE});\r\n      dispatch({type: GET_ALL_SERVICE, payload: data.data});\r\n    }).catch(({response}) => {\r\n      dispatch({type: UI_STOP_ACTION, name: GET_ALL_SERVICE});\r\n      if (response) {\r\n        console.log(\"Error****:\", response.message);\r\n        dispatch({type: SHOW_MESSAGE, title: 'Service error.', message: response.data.message, severity: NOTIFICATION_ERROR})\r\n      }\r\n    });\r\n  }\r\n};\r\n\r\nexport const getOneMarketService = (id) => {\r\n  return dispatch => {\r\n    dispatch({type: UI_START_ACTION, name: GET_ONE_SERVICE});\r\n    axios.get(`service/market/${id}`).then(({data}) => {\r\n      dispatch({type: UI_STOP_ACTION, name: GET_ONE_SERVICE});\r\n      dispatch({type: GET_ONE_SERVICE, payload: data.data});\r\n    }).catch(({response}) => {\r\n      dispatch({type: UI_STOP_ACTION, name: GET_ONE_SERVICE});\r\n      if (response) {\r\n        console.log(\"Error****:\", response.message);\r\n        dispatch({type: SHOW_MESSAGE, title: 'Service error.', message: response.data.message, severity: NOTIFICATION_ERROR})\r\n      }\r\n    });\r\n  }\r\n};\r\n\r\nexport const getSubscribedService = () => {\r\n  return dispatch => {\r\n    dispatch({type: UI_START_ACTION, name: GET_SUBSCRIBED_SERVICE});\r\n    axios.get('service/user').then(({data}) => {\r\n      dispatch({type: UI_STOP_ACTION, name: GET_SUBSCRIBED_SERVICE});\r\n      dispatch({type: GET_SUBSCRIBED_SERVICE, payload: data.data});\r\n    }).catch(({response}) => {\r\n      dispatch({type: UI_STOP_ACTION, name: GET_SUBSCRIBED_SERVICE});\r\n      if (response) {\r\n        console.log(\"Error****:\", response.message);\r\n        dispatch({type: SHOW_MESSAGE, title: 'Service error.', message: response.data.message, severity: NOTIFICATION_ERROR})\r\n      }\r\n    });\r\n  }\r\n};\r\n\r\nexport const addService = (payload) => {\r\n  return dispatch => {\r\n    dispatch({type: UI_START_ACTION, name: ADD_SERVICE});\r\n    axios.post(`service`, payload).then(({data}) => {\r\n      dispatch({type: UI_STOP_ACTION, name: ADD_SERVICE});\r\n      dispatch({type: ADD_SERVICE});\r\n    }).catch(({response}) => {\r\n      dispatch({type: UI_STOP_ACTION, name: ADD_SERVICE});\r\n      if (response) {\r\n        console.log(\"Error****:\", response.message);\r\n        dispatch({type: SHOW_MESSAGE, title: 'Service error.', message: response.data.message, severity: NOTIFICATION_ERROR})\r\n      }\r\n    });\r\n  }\r\n};\r\n\r\nexport const editService = (id, payload) => {\r\n  return dispatch => {\r\n    dispatch({type: UI_START_ACTION, name: EDIT_SERVICE});\r\n    axios.post(`service/${id}`, payload).then(({data}) => {\r\n      dispatch({type: UI_STOP_ACTION, name: EDIT_SERVICE});\r\n      dispatch({type: EDIT_SERVICE});\r\n    }).catch(({response}) => {\r\n      dispatch({type: UI_STOP_ACTION, name: EDIT_SERVICE});\r\n      if (response) {\r\n        console.log(\"Error****:\", response.message);\r\n        dispatch({type: SHOW_MESSAGE, title: 'Service error.', message: response.data.message, severity: NOTIFICATION_ERROR})\r\n      }\r\n    });\r\n  }\r\n};\r\n\r\nexport const addServiceGroup = (payload) => {\r\n  return dispatch => {\r\n    dispatch({type: UI_START_ACTION, name: ADD_SERVICE_GROUP});\r\n    axios.post(`service/group`, payload).then(({data}) => {\r\n      dispatch({type: UI_STOP_ACTION, name: ADD_SERVICE_GROUP});\r\n      dispatch({type: ADD_SERVICE_GROUP});\r\n    }).catch(({response}) => {\r\n      dispatch({type: UI_STOP_ACTION, name: ADD_SERVICE_GROUP});\r\n      if (response) {\r\n        console.log(\"Error****:\", response.message);\r\n        dispatch({type: SHOW_MESSAGE, title: 'Service error.', message: response.data.message, severity: NOTIFICATION_ERROR})\r\n      }\r\n    });\r\n  }\r\n};\r\n\r\nexport const editServiceGroup = (id, payload) => {\r\n  return dispatch => {\r\n    dispatch({type: UI_START_ACTION, name: EDIT_SERVICE_GROUP});\r\n    axios.post(`service/group/${id}`, payload).then(({data}) => {\r\n      dispatch({type: UI_STOP_ACTION, name: EDIT_SERVICE_GROUP});\r\n      dispatch({type: EDIT_SERVICE_GROUP});\r\n    }).catch(({response}) => {\r\n      dispatch({type: UI_STOP_ACTION, name: EDIT_SERVICE_GROUP});\r\n      if (response) {\r\n        console.log(\"Error****:\", response.message);\r\n        dispatch({type: SHOW_MESSAGE, title: 'Service error.', message: response.data.message, severity: NOTIFICATION_ERROR})\r\n      }\r\n    });\r\n  }\r\n};","import React from 'react';\r\nimport _ from 'lodash';\r\n\r\nimport {Tag} from 'antd';\r\n\r\nconst PackageTag = ({name}) => {\r\n  switch (_.lowerCase(name)) {\r\n    case 'paid':\r\n      return <Tag color={'geekblue'}>{_.upperCase(name)}</Tag>;\r\n    case 'trial':\r\n      return <Tag color={'orange'}>{_.upperCase(name)}</Tag>;\r\n    case 'development':\r\n      return <Tag color={'blue'}>{_.upperCase(name)}</Tag>;\r\n    default:\r\n      return <Tag color={'purple'}>{_.upperCase(name)}</Tag>;\r\n  }\r\n};\r\n\r\nexport default PackageTag","import {\r\n  SHOW_MESSAGE,\r\n  NOTIFICATION_SUCCESS,\r\n  NOTIFICATION_ERROR,\r\n\r\n  UI_START_ACTION,\r\n  UI_STOP_ACTION,\r\n\r\n  INIT_URL,\r\n  SIGN_UP,\r\n  LOG_IN,\r\n  FORGOT,\r\n  LOG_OUT,\r\n  USER_DATA,\r\n  USER_TOKEN_SET,\r\n  GET_SINGLE_USER,\r\n  RESET_STATUS\r\n} from \"../constants/ActionTypes\";\r\nimport axios from 'util/Api'\r\n\r\nexport const setInitUrl = (url) => {\r\n  return {\r\n    type: INIT_URL,\r\n    payload: url\r\n  };\r\n};\r\n\r\nexport const userSignUp = ({fullname, username, password, email, ...rest}) => {\r\n  return (dispatch) => {\r\n    dispatch({type: UI_START_ACTION, name: SIGN_UP});\r\n    axios.post('auth/register', {fullname, username, password, email}).then(({data}) => {\r\n      dispatch({type: SIGN_UP});\r\n      dispatch({type: UI_STOP_ACTION, name: SIGN_UP});\r\n      dispatch({type: SHOW_MESSAGE, title: data.message, message: '', severity: NOTIFICATION_SUCCESS})\r\n    }).catch(function ({response}) {\r\n      dispatch({type: UI_STOP_ACTION, name: SIGN_UP});\r\n      if (response) {\r\n        console.log(\"Error****:\", response.message);\r\n        dispatch({type: SHOW_MESSAGE, title: 'Failed sign up.', message: response.data.message, severity: NOTIFICATION_ERROR})\r\n      }\r\n    });\r\n  }\r\n};\r\n\r\nexport const userSignIn = ({username, password, ...rest}) => {\r\n  return (dispatch) => {\r\n    dispatch({type: UI_START_ACTION, name: LOG_IN});\r\n    axios.post('auth/login', {username, password}).then(({data}) => {\r\n\r\n      axios.interceptors.response.use(response => response, (error) => {\r\n        if (error.response && error.response.status === 401) {\r\n          localStorage.removeItem(\"token\");\r\n          dispatch({type: LOG_OUT});\r\n        }\r\n        return Promise.reject(error);\r\n      });\r\n\r\n      localStorage.setItem(\"token\", data.data.access_token);\r\n      dispatch({type: UI_STOP_ACTION, name: LOG_IN});\r\n      dispatch({type: USER_TOKEN_SET, payload: data.data.access_token});\r\n\r\n    }).catch(function ({response}) {\r\n      dispatch({type: UI_STOP_ACTION, name: LOG_IN});\r\n      if (response) {\r\n        console.log(\"Error****:\", response.message);\r\n        dispatch({type: SHOW_MESSAGE, title: 'Failed login.', message: response.data.message, severity: NOTIFICATION_ERROR})\r\n      }\r\n    });\r\n  }\r\n};\r\n\r\nexport const userForgot = ({username, email}) => {\r\n  return (dispatch) => {\r\n    dispatch({type: UI_START_ACTION, name: FORGOT});\r\n    axios.post('forgot', {username, email}).then(({data}) => {\r\n      dispatch({type: FORGOT});\r\n      dispatch({type: UI_STOP_ACTION, name: FORGOT});\r\n      dispatch({type: SHOW_MESSAGE, title: data.message, message: '', severity: NOTIFICATION_SUCCESS})\r\n    }).catch(function ({response}) {\r\n      dispatch({type: UI_STOP_ACTION, name: FORGOT});\r\n      if (response) {\r\n        console.log(\"Error****:\", response.message);\r\n        dispatch({type: SHOW_MESSAGE, title: 'Failed forgot.', message: response.data.message, severity: NOTIFICATION_ERROR})\r\n      }\r\n    });\r\n  }\r\n};\r\n\r\nexport const getUser = () => {\r\n  return (dispatch) => {\r\n    dispatch({type: UI_START_ACTION, name: USER_DATA});\r\n    axios.get('auth/me',).then(({data}) => {\r\n      dispatch({type: UI_STOP_ACTION, name: USER_DATA});\r\n      dispatch({type: USER_DATA, payload: data.data, menu: data.data.role.permissions});\r\n    }).catch(function ({response}) {\r\n      dispatch({type: UI_STOP_ACTION, name: USER_DATA});\r\n      if (response) {\r\n        console.log(\"Error****:\", response.message);\r\n        if (response.status === 401) dispatch({type: LOG_OUT}); // Unauthorized\r\n      }\r\n    });\r\n  }\r\n};\r\n\r\nexport const getForgotUser = (token) => {\r\n  if (token) {\r\n    return dispatch => {\r\n      dispatch({type: UI_START_ACTION, name: GET_SINGLE_USER});\r\n      axios.get(`forgot`, {params: {token}}).then(({data}) => {\r\n        dispatch({type: UI_STOP_ACTION, name: GET_SINGLE_USER});\r\n        dispatch({type: GET_SINGLE_USER, payload: data.data});\r\n      }).catch(({response}) => {\r\n        dispatch({type: UI_STOP_ACTION, name: GET_SINGLE_USER});\r\n        if (response) {\r\n          console.log(\"Error****:\", response.message);\r\n          dispatch({\r\n            type: SHOW_MESSAGE,\r\n            title: 'User error.',\r\n            message: response.data.message,\r\n            severity: NOTIFICATION_ERROR\r\n          })\r\n        }\r\n      });\r\n    }\r\n  }\r\n};\r\n\r\nexport const userSignOut = () => {\r\n  return (dispatch) => {\r\n    localStorage.removeItem('token');\r\n    dispatch({type: LOG_OUT});\r\n  }\r\n};\r\n\r\nexport const onResetStatus = () => {\r\n  return (dispatch) => {\r\n    dispatch({type: RESET_STATUS});\r\n  }\r\n};\r\n","import React, {useState} from 'react';\r\n\r\nimport {Typography, Space} from 'antd';\r\nimport {NumberOutlined} from '@ant-design/icons';\r\n\r\nconst DocsHeader = ({level, text, link}) => {\r\n\r\n  const [hover, setHover] = useState(false);\r\n\r\n  return (\r\n    <Space onMouseOver={() => setHover(true)}\r\n           onMouseOut={() => setHover(false)}\r\n           style={{width: '100%'}} id={link.replace('#', '')}>\r\n      <Typography.Title level={level} style={{margin: '0.5em 0px'}}>{text}\r\n        {hover && <Typography.Link href={link}> <NumberOutlined/></Typography.Link>}\r\n      </Typography.Title>\r\n    </Space>\r\n  )\r\n};\r\n\r\nexport default DocsHeader;","import React from 'react';\r\nimport _ from 'lodash';\r\n\r\nimport {Avatar, Space} from 'antd';\r\n\r\nconst UserAvatar = ({name, only}) => {\r\n  const initial = name.split(' ')\r\n    .map(([first, ...rest]) => first)\r\n    .join('').toUpperCase();\r\n\r\n  if (only)\r\n    return <Avatar style={{color: '#f56a00', backgroundColor: '#fde3cf',}}>{initial}</Avatar>;\r\n  else\r\n    return <Space>\r\n      <Avatar style={{color: '#f56a00', backgroundColor: '#fde3cf',}}>{initial}</Avatar>\r\n      {_.startCase(name)}\r\n    </Space>\r\n};\r\n\r\nexport default UserAvatar","import React from 'react';\r\nimport _ from 'lodash';\r\n\r\nimport {Tag} from 'antd';\r\n\r\nconst SubscriptionStatusTag = ({status}) => {\r\n  switch (status) {\r\n    case 'active':\r\n      return <Tag color={'green'}>{_.upperCase(status)}</Tag>;\r\n    case 'expired':\r\n      return <Tag color={'red'}>{_.upperCase(status)}</Tag>;\r\n    case 'inactive':\r\n      return <Tag color={'volcano'}>{_.upperCase(status)}</Tag>;\r\n    case 'incoming':\r\n      return <Tag color={'blue'}>{_.upperCase(status)}</Tag>;\r\n    default:\r\n      return <Tag color={'purple'}>{_.upperCase(status)}</Tag>;\r\n  }\r\n};\r\n\r\nexport default SubscriptionStatusTag","import {\r\n  SHOW_MESSAGE,\r\n  NOTIFICATION_ERROR,\r\n\r\n  GET_PACKAGE,\r\n  GET_ONE_PACKAGE,\r\n  ADD_PACKAGE,\r\n  EDIT_PACKAGE,\r\n\r\n  UI_START_ACTION,\r\n  UI_STOP_ACTION,\r\n} from \"../constants/ActionTypes\";\r\n\r\nimport axios from 'util/Api'\r\n\r\nexport const getPackageByService = (service_id) => {\r\n  return dispatch => {\r\n    dispatch({type: UI_START_ACTION, name: GET_PACKAGE});\r\n    axios.get(`package/service/${service_id}/all`).then(({data}) => {\r\n      dispatch({type: UI_STOP_ACTION, name: GET_PACKAGE});\r\n      dispatch({type: GET_PACKAGE, payload: data.data});\r\n    }).catch(({response}) => {\r\n      dispatch({type: UI_STOP_ACTION, name: GET_PACKAGE});\r\n      if (response) {\r\n        console.log(\"Error****:\", response.message);\r\n        dispatch({type: SHOW_MESSAGE, title: 'Package error.', message: response.data.message, severity: NOTIFICATION_ERROR})\r\n      }\r\n    });\r\n  }\r\n};\r\n\r\nexport const getPublicPackageByService = (service_id) => {\r\n  return dispatch => {\r\n    dispatch({type: UI_START_ACTION, name: GET_PACKAGE});\r\n    axios.get(`package/service/${service_id}/public`).then(({data}) => {\r\n      dispatch({type: UI_STOP_ACTION, name: GET_PACKAGE});\r\n      dispatch({type: GET_PACKAGE, payload: data.data});\r\n    }).catch(({response}) => {\r\n      dispatch({type: UI_STOP_ACTION, name: GET_PACKAGE});\r\n      if (response) {\r\n        console.log(\"Error****:\", response.message);\r\n        dispatch({type: SHOW_MESSAGE, title: 'Package error.', message: response.data.message, severity: NOTIFICATION_ERROR})\r\n      }\r\n    });\r\n  }\r\n};\r\n\r\nexport const getPackage = (id) => {\r\n  return dispatch => {\r\n    dispatch({type: UI_START_ACTION, name: GET_ONE_PACKAGE});\r\n    axios.get(`package/${id}`).then(({data}) => {\r\n      dispatch({type: UI_STOP_ACTION, name: GET_ONE_PACKAGE});\r\n      dispatch({type: GET_ONE_PACKAGE, payload: data.data});\r\n    }).catch(({response}) => {\r\n      dispatch({type: UI_STOP_ACTION, name: GET_ONE_PACKAGE});\r\n      if (response) {\r\n        console.log(\"Error****:\", response.message);\r\n        dispatch({type: SHOW_MESSAGE, title: 'Package error.', message: response.data.message, severity: NOTIFICATION_ERROR})\r\n      }\r\n    });\r\n  }\r\n};\r\n\r\nexport const addPackage = (payload) => {\r\n  return dispatch => {\r\n    dispatch({type: UI_START_ACTION, name: ADD_PACKAGE});\r\n    axios.post(`package`, payload).then(({data}) => {\r\n      dispatch({type: UI_STOP_ACTION, name: ADD_PACKAGE});\r\n      dispatch({type: ADD_PACKAGE});\r\n    }).catch(({response}) => {\r\n      dispatch({type: UI_STOP_ACTION, name: ADD_PACKAGE});\r\n      if (response) {\r\n        console.log(\"Error****:\", response.message);\r\n        dispatch({type: SHOW_MESSAGE, title: 'Service error.', message: response.data.message, severity: NOTIFICATION_ERROR})\r\n      }\r\n    });\r\n  }\r\n};\r\n\r\nexport const editPackage = (id, payload) => {\r\n  return dispatch => {\r\n    dispatch({type: UI_START_ACTION, name: EDIT_PACKAGE});\r\n    axios.post(`package/${id}`, payload).then(({data}) => {\r\n      dispatch({type: UI_STOP_ACTION, name: EDIT_PACKAGE});\r\n      dispatch({type: EDIT_PACKAGE});\r\n    }).catch(({response}) => {\r\n      dispatch({type: UI_STOP_ACTION, name: EDIT_PACKAGE});\r\n      if (response) {\r\n        console.log(\"Error****:\", response.message);\r\n        dispatch({type: SHOW_MESSAGE, title: 'Service error.', message: response.data.message, severity: NOTIFICATION_ERROR})\r\n      }\r\n    });\r\n  }\r\n};","import {\r\n  SHOW_MESSAGE,\r\n  NOTIFICATION_ERROR,\r\n  NOTIFICATION_SUCCESS,\r\n\r\n  GET_USER, EDIT_USER, UI_START_ACTION,\r\n\r\n  UI_STOP_ACTION,\r\n} from \"../constants/ActionTypes\";\r\n\r\nimport axios from 'util/Api'\r\n\r\nexport const getAllUser = () => {\r\n  return dispatch => {\r\n    dispatch({type: UI_START_ACTION, name: GET_USER});\r\n    axios.get(`user`).then(({data}) => {\r\n      dispatch({type: UI_STOP_ACTION, name: GET_USER});\r\n      dispatch({type: GET_USER, payload: data.data});\r\n    }).catch(({response}) => {\r\n      dispatch({type: UI_STOP_ACTION, name: GET_USER});\r\n      if (response) {\r\n        console.log(\"Error****:\", response.message);\r\n        dispatch({type: SHOW_MESSAGE, title: 'User error.', message: response.data.message, severity: NOTIFICATION_ERROR})\r\n      }\r\n    });\r\n  }\r\n};\r\n\r\nexport const editUser = (payload, id = null) => {\r\n  return dispatch => {\r\n    dispatch({type: UI_START_ACTION, name: EDIT_USER});\r\n    axios.post(`user/edit`, payload).then(({data}) => {\r\n      dispatch({type: UI_STOP_ACTION, name: EDIT_USER});\r\n      dispatch({type: EDIT_USER});\r\n    }).catch(({response}) => {\r\n      dispatch({type: UI_STOP_ACTION, name: EDIT_USER});\r\n      if (response) {\r\n        console.log(\"Error****:\", response.message);\r\n        dispatch({type: SHOW_MESSAGE, title: 'User error.', message: response.data.message, severity: NOTIFICATION_ERROR})\r\n      }\r\n    });\r\n  }\r\n};\r\n\r\nexport const editPassword = (payload, id = null) => {\r\n  return dispatch => {\r\n    dispatch({type: UI_START_ACTION, name: EDIT_USER});\r\n    axios.post(`user/edit/password`, payload).then(({data}) => {\r\n      dispatch({type: UI_STOP_ACTION, name: EDIT_USER});\r\n      dispatch({type: EDIT_USER});\r\n      dispatch({type: SHOW_MESSAGE, title: 'Password changed.', severity: NOTIFICATION_SUCCESS})\r\n    }).catch(({response}) => {\r\n      dispatch({type: UI_STOP_ACTION, name: EDIT_USER});\r\n      if (response) {\r\n        console.log(\"Error****:\", response.message);\r\n        dispatch({type: SHOW_MESSAGE, title: 'User error.', message: response.data.message, severity: NOTIFICATION_ERROR})\r\n      }\r\n    });\r\n  }\r\n};","import React from 'react';\r\nimport _ from 'lodash';\r\nimport './index.css';\r\n\r\nimport {Space, Card, Row, Col, Typography, Divider, Tooltip} from 'antd';\r\nimport { orange, geekblue, blue, purple } from '@ant-design/colors';\r\nimport {CheckOutlined, CloseOutlined, InfoCircleOutlined, WarningOutlined} from '@ant-design/icons';\r\n\r\nconst PackageCard = ({package: _package, style}) => {\r\n\r\n  const getColor = (name) => {\r\n    switch (_.lowerCase(name)) {\r\n      case 'paid':\r\n        return geekblue;\r\n      case 'trial':\r\n        return orange;\r\n      case 'development':\r\n        return blue;\r\n      default:\r\n        return purple;\r\n    }\r\n  };\r\n\r\n  const {name, description, limits} = _package;\r\n\r\n  const color = getColor(name);\r\n\r\n  const renderLimit = ({is_used, is_unlimited, limit, code, unit, description, reset}) => {\r\n    let limitComponent = null;\r\n\r\n    if (is_unlimited)\r\n      limitComponent = <Typography.Text>\r\n        <Typography.Text type={'success'} strong><CheckOutlined/> Unlimited </Typography.Text>\r\n        {description}.\r\n      </Typography.Text>;\r\n    else if (_.isNull(limit))\r\n      limitComponent = <Typography.Text>\r\n        <Typography.Text type={'danger'} strong><CloseOutlined/> </Typography.Text>\r\n        {description}.\r\n      </Typography.Text>;\r\n    else \r\n      limitComponent = <Typography.Text>\r\n        <Typography.Text type={'success'} strong><CheckOutlined/> </Typography.Text>\r\n        {limit} {unit} of {code} {reset}. {description && <Tooltip title={description}><InfoCircleOutlined/></Tooltip>}\r\n      </Typography.Text>;\r\n\r\n    if (is_used)\r\n      return limitComponent;\r\n    else\r\n      return <Typography.Text>\r\n        <Typography.Text delete>{limitComponent}</Typography.Text> <Tooltip title={'recently removed'}><Typography.Text type={'warning'}><WarningOutlined/></Typography.Text></Tooltip>\r\n      </Typography.Text>\r\n  };\r\n\r\n  return (\r\n    <Space direction={'vertical'} size={'large'} style={{width: '100%', ...style}}>\r\n      <Card className={'price-box'} style={{backgroundColor: color[4], borderRadius: 16}}>\r\n        <Row justify=\"center\">\r\n          <Col span={24}><Typography.Title level={3} className={'white-text'}>{name} Package</Typography.Title></Col>\r\n          <Col span={24}><Typography.Paragraph strong className={'white-text'}>{description}</Typography.Paragraph></Col>\r\n        </Row>\r\n      </Card>\r\n      <Typography.Title level={5} strong style={{color: color[4], margin: 0}}>Includes</Typography.Title>\r\n      <Divider style={{margin: 0, borderTop: `3px solid ${color[1]}`}}/>\r\n      {_.map(limits, renderLimit)}\r\n    </Space>\r\n  );\r\n};\r\n\r\nexport default PackageCard","import {\r\n  TOGGLE_COLLAPSED_NAV, TOGGLE_SETTING\r\n} from \"constants/ActionTypes\";\r\n\r\nexport function toggleCollapsedNav(isNavCollapsed) {\r\n  return {type: TOGGLE_COLLAPSED_NAV, isNavCollapsed};\r\n}\r\n\r\nexport function toggleSetting(isSettingOpened) {\r\n  return {type: TOGGLE_SETTING, isSettingOpened}\r\n}","import React, {useState} from 'react';\r\nimport {connect} from 'react-redux';\r\nimport _ from 'lodash';\r\nimport moment from \"moment\";\r\n\r\nimport {isLoading} from 'store/selectors';\r\nimport {addSubscription, editSubscription} from 'actions/Subscription';\r\nimport {getPackageByService} from 'actions/Package';\r\nimport {getAllUser} from 'actions/User';\r\nimport {\r\n  ADD_SUBSCRIPTION,\r\n  EDIT_SUBSCRIPTION,\r\n  GET_PACKAGE,\r\n  GET_USER\r\n} from \"constants/ActionTypes\";\r\n\r\nimport PackageTag from \"components/Tags/Package\";\r\nimport UserAvatar from \"components/Avatar\";\r\n\r\nimport {QuestionCircleOutlined} from '@ant-design/icons';\r\nimport {\r\n  Button,\r\n  Modal,\r\n  Form,\r\n  Select,\r\n  DatePicker,\r\n  Divider,\r\n  Input,\r\n  Checkbox,\r\n  Tooltip,\r\n  Switch,\r\n  InputNumber\r\n} from 'antd';\r\n\r\nconst layout = {\r\n  labelCol: {span: 8},\r\n  wrapperCol: {span: 16}\r\n};\r\n\r\nconst tailLayout = {\r\n  wrapperCol: {offset: 8, span: 16}\r\n};\r\n\r\nclass SubscriptionForm extends React.Component {\r\n  \r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      formRef: React.createRef(),\r\n    }\r\n  }\r\n  \r\n  componentDidUpdate(prevProps, prevState, snapshot) {\r\n    if (!prevProps.show && this.props.show) {\r\n      this.state.formRef.current.resetFields();\r\n      if (this.props.row) {\r\n        const {service_id, start_date, end_date, ...row} = this.props.row;\r\n        const init = {is_active: true, generate_password: true};\r\n        const date = start_date ? [moment(start_date), moment(end_date)] : null;\r\n        this.state.formRef.current.setFieldsValue({...init, date, ...row});\r\n        this.props.getAllUser();\r\n        this.props.getPackageByService(service_id);\r\n      }\r\n    }\r\n  }\r\n  \r\n  onFinish  = () => {\r\n    const {formRef} = this.state;\r\n    const {row, addSubscription, editSubscription} = this.props;\r\n    formRef.current\r\n      .validateFields()\r\n      .then(({account, date, confirmPassword, is_new, generate_password, ...payload}) => {\r\n        const [start_date, end_date] = date;\r\n        if (row.id)\r\n          editSubscription(row.id, {\r\n            ...payload,\r\n            account,\r\n            start_date: start_date.format('YYYY-MM-DD'),\r\n            end_date: end_date.format('YYYY-MM-DD'),\r\n          });\r\n        else\r\n          addSubscription({\r\n            ...row,\r\n            account: is_new ? undefined : account,\r\n            start_date: start_date.format('YYYY-MM-DD'),\r\n            end_date: end_date.format('YYYY-MM-DD'),\r\n            ...payload\r\n          });\r\n      })\r\n      .catch((info) => console.log('Validate Failed:', info));\r\n  };\r\n  \r\n  render() {\r\n    \r\n    const {show, onCancel, row, loading, packages, users} = this.props;\r\n    \r\n    const {formRef} = this.state;\r\n\r\n    const getFormState = (state = null) => {\r\n      if (row && row.id)\r\n        return state ? state === 'edit' : 'edit';\r\n      else\r\n        return state ? state === 'create' : 'create';\r\n    };\r\n    \r\n    return(\r\n      <Modal\r\n        visible={show}\r\n        title=\"Subscription\"\r\n        onCancel={onCancel}\r\n        footer={[\r\n          <Button key=\"back\" onClick={onCancel}>Cancel</Button>,\r\n          <Button key=\"submit\" type=\"primary\" loading={loading[getFormState()]}\r\n                  onClick={this.onFinish}>Submit</Button>,\r\n        ]}>\r\n        \r\n        <Form {...layout} ref={formRef} name=\"control-ref\" onFinish={this.onFinish}>\r\n\r\n          <Form.Item name=\"package_id\"\r\n                     label={\r\n                       <span>Package&nbsp;\r\n                         {getFormState('edit') &&\r\n                         <Tooltip title=\"Changing package will inactivate old subs and create the new one!\">\r\n                           <QuestionCircleOutlined/>\r\n                         </Tooltip>}</span>\r\n                     }\r\n                     rules={[{required: true, message: 'Please select the package!'}]}>\r\n            <Select\r\n              showSearch\r\n              placeholder=\"Select package\"\r\n              optionFilterProp=\"children\"\r\n              filterOption={(input, option) => option.children.toLowerCase().indexOf(input.toLowerCase()) >= 0}\r\n              loading={loading.package}\r\n              allowClear>\r\n              {_.map(packages, ({id, name}) => <Select.Option value={id}><PackageTag name={name}/></Select.Option>)}\r\n            </Select>\r\n          </Form.Item>\r\n\r\n          <Form.Item name=\"date\" label=\"Period\" rules={[{required: true, message: 'Please input period!'}]}>\r\n            <DatePicker.RangePicker style={{width: '100%'}} disabled={[getFormState('edit'), false]}\r\n                                    disabledDate={(current) => current && current < moment().subtract(1, 'day').endOf('day')}/>\r\n          </Form.Item>\r\n\r\n          <Form.Item label={'Cut-off Date'} name={'cut_off_date'}>\r\n            <InputNumber min={1} max={28} style={{width: '100%'}} disabled={getFormState('edit') && row.status !== 'incoming'}/>\r\n          </Form.Item>\r\n\r\n          <Form.Item wrapperCol={{span: 24}} style={{marginBottom: 0}} shouldUpdate>\r\n\r\n            {({getFieldValue}) => {\r\n              \r\n              const is_new = getFieldValue('is_new');\r\n              \r\n              return (\r\n                <>\r\n                  <Form.Item {...layout} name=\"account\" label=\"Account\"\r\n                             rules={[{required: !is_new, message: 'Please select the account!'}]}\r\n                             extra={getFormState('edit') ? null : null}>\r\n                    <Select\r\n                      showSearch\r\n                      placeholder=\"Select account\"\r\n                      optionFilterProp=\"children\"\r\n                      disabled={is_new || getFormState('edit')}\r\n                      optionLabelProp={'label'}\r\n                      filterOption={(input, option) => option.children.toLowerCase().indexOf(input.toLowerCase()) >= 0}\r\n                      allowClear>\r\n                      {_.map(users, ({id, fullname}) => <Select.Option value={id} label={fullname}><UserAvatar\r\n                        name={fullname}/></Select.Option>)}\r\n                    </Select>\r\n                  </Form.Item>\r\n\r\n                  {getFormState('create') && \r\n                  <Form.Item {...tailLayout} name=\"is_new\">\r\n                    <IsNewAccountInput/>\r\n                  </Form.Item>}\r\n                </>\r\n              );\r\n            }}\r\n            \r\n          </Form.Item>\r\n\r\n          <Form.Item name=\"is_active\" label=\"Active\" valuePropName=\"checked\">\r\n            <Switch checkedChildren={'Active'} unCheckedChildren={'Inactive'}/>\r\n          </Form.Item>\r\n          \r\n          <Form.Item wrapperCol={{span: 24}} style={{marginBottom: 0}} shouldUpdate>\r\n            \r\n            {({getFieldValue}) => {\r\n              \r\n              const is_new = getFieldValue('is_new');\r\n              \r\n              return(\r\n                <>\r\n                  {is_new && <>\r\n                    <Divider/>\r\n\r\n                    <Form.Item {...layout} name=\"fullname\" label=\"Fullname\" rules={[\r\n                      {required: true, message: 'Please input fullname!'}\r\n                    ]}>\r\n                      <Input/>\r\n                    </Form.Item>\r\n\r\n                    <Form.Item {...layout} name=\"email\" label=\"Email\" rules={[\r\n                      {type: 'email', message: 'The input is not valid email!'},\r\n                      {required: true, message: 'Please input email!'}\r\n                    ]}>\r\n                      <Input/>\r\n                    </Form.Item>\r\n\r\n                    <Form.Item {...layout} name=\"username\" label=\"Username\" rules={[\r\n                      {required: true, message: 'Please input username!',},\r\n                      {min: 8, message: 'Username must be at least 8 characters!'}\r\n                    ]}>\r\n                      <Input/>\r\n                    </Form.Item>\r\n\r\n                    <Form.Item {...tailLayout} name=\"generate_password\" valuePropName=\"checked\">\r\n                      <Checkbox>\r\n                        Generate Password &nbsp;\r\n                        <Tooltip title=\"Password verification will be sent by email\">\r\n                          <QuestionCircleOutlined/>\r\n                        </Tooltip>\r\n                      </Checkbox>\r\n                    </Form.Item>\r\n                  </>}\r\n                </>\r\n              );\r\n              \r\n            }}\r\n            \r\n          </Form.Item>\r\n          \r\n          <Form.Item wrapperCol={{span: 24}} style={{marginBottom: 0}} shouldUpdate>\r\n            \r\n            {({getFieldValue}) => {\r\n              \r\n              const generate_password = getFieldValue('generate_password');\r\n              const is_new = getFieldValue('is_new');\r\n              \r\n              return(\r\n                <>\r\n                  {is_new && !generate_password && <>\r\n                    <Divider/>\r\n\r\n                    <Form.Item {...layout} name=\"password\" label=\"Password\" hasFeedback rules={[\r\n                      {required: true, message: 'Please input password!',},\r\n                      {min: 8, message: 'Password must be at least 8 characters!'}\r\n                    ]}>\r\n                      <Input.Password type=\"password\"/>\r\n                    </Form.Item>\r\n\r\n                    <Form.Item {...layout} name=\"confirmPassword\" label=\"Confirm Password\" dependencies={['password']}\r\n                               hasFeedback\r\n                               rules={[\r\n                                 {required: true, message: 'Please input password again!'},\r\n                                 ({getFieldValue}) => ({\r\n                                   validator(rule, value) {\r\n                                     if (!value || getFieldValue('password') === value) {\r\n                                       return Promise.resolve();\r\n                                     }\r\n                                     return Promise.reject('The two passwords that you entered do not match!');\r\n                                   },\r\n                                 }),\r\n                               ]}>\r\n                      <Input.Password type=\"password\" placeholder=\"Confirm Password\"/>\r\n                    </Form.Item>\r\n                  </>}\r\n                </>\r\n              )\r\n              \r\n            }}\r\n            \r\n          </Form.Item>\r\n\r\n        </Form>\r\n        \r\n      </Modal>\r\n    );\r\n    \r\n  }\r\n\r\n}\r\n\r\nconst mapStateToProps = (store) => {\r\n  const {subscription: {status: {created, edited}}, package: {packages}, user: {users}} = store;\r\n  return {\r\n    loading: {\r\n      create: isLoading(store, ADD_SUBSCRIPTION),\r\n      edit: isLoading(store, EDIT_SUBSCRIPTION),\r\n      package: isLoading(store, GET_PACKAGE),\r\n      user: isLoading(store, GET_USER)\r\n    },\r\n    packages, users, created, edited\r\n  }\r\n};\r\n\r\nexport default connect(mapStateToProps, {\r\n  addSubscription,\r\n  editSubscription,\r\n  getPackageByService,\r\n  getAllUser,\r\n})(SubscriptionForm);\r\n\r\nconst IsNewAccountInput = ({value = {}, onChange}) => {\r\n\r\n  const [is_new, setIsNew] = useState(false);\r\n\r\n  const triggerChange = (changedValue) => {\r\n    if (onChange)\r\n      onChange(changedValue)\r\n  };\r\n\r\n  const onIsNewAccountChange = (e) => {\r\n    const value = !is_new;\r\n    setIsNew(value);\r\n    triggerChange(value);\r\n  };\r\n\r\n  return (\r\n    <Button style={{padding: 0}} type=\"link\" onClick={onIsNewAccountChange}>\r\n      {value.is_new || is_new ? 'Use existing' : 'Register new account?'}\r\n    </Button>\r\n  );\r\n\r\n};","import React from 'react';\r\nimport {FormattedMessage, injectIntl} from 'react-intl';\r\n\r\nconst InjectMassage = props => <FormattedMessage {...props} />;\r\nexport default injectIntl(InjectMassage, {\r\n  withRef: false\r\n});\r\n","import {applyMiddleware, compose, createStore} from 'redux';\r\nimport reducers from '../reducers/index';\r\nimport {createBrowserHistory} from 'history'\r\nimport {routerMiddleware} from 'connected-react-router';\r\nimport thunk from 'redux-thunk';\r\n\r\nconst history = createBrowserHistory();\r\nconst routeMiddleware = routerMiddleware(history);\r\n\r\nconst middlewares = [thunk, routeMiddleware];\r\nconst composeEnhancers = window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__ || compose;\r\n\r\nexport default function configureStore(initialState) {\r\n  const store = createStore(reducers(history), initialState,\r\n    composeEnhancers(applyMiddleware(...middlewares)));\r\n  if (module.hot) {\r\n    // Enable Webpack hot module replacement for reducers\r\n    module.hot.accept('../reducers/index', () => {\r\n      const nextRootReducer = require('../reducers/index');\r\n      store.replaceReducer(nextRootReducer);\r\n    });\r\n  }\r\n  return store;\r\n}\r\nexport {history};\r\n","import React from 'react';\r\nimport {connect} from 'react-redux';\r\nimport _ from 'lodash';\r\n\r\nimport {isLoading} from 'store/selectors';\r\nimport {addServiceGroup, editServiceGroup} from 'actions/Service';\r\nimport {\r\n  ADD_SERVICE_GROUP, EDIT_SERVICE_GROUP\r\n} from \"constants/ActionTypes\";\r\n\r\nimport {Icon} from '@ant-design/compatible';\r\nimport {\r\n  Button,\r\n  Modal,\r\n  Form,\r\n  Input,\r\n  AutoComplete\r\n} from 'antd';\r\n\r\nconst layout = {\r\n  labelCol: {span: 8},\r\n  wrapperCol: {span: 16}\r\n};\r\n\r\nclass Group extends React.Component {\r\n  \r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      formRef: React.createRef(),\r\n      icon: '',\r\n    }\r\n  }\r\n\r\n  componentDidUpdate(prevProps, prevState, snapshot) {\r\n    if (!prevProps.show && this.props.show) {\r\n      this.state.formRef.current.resetFields();\r\n      if (this.props.row)\r\n        this.state.formRef.current.setFieldsValue(this.props.row);\r\n    }\r\n  }\r\n\r\n  onFinish  = () => {\r\n    const {formRef} = this.state;\r\n    const {row, addServiceGroup, editServiceGroup} = this.props;\r\n    formRef.current\r\n      .validateFields()\r\n      .then(payload => {\r\n        if (row)\r\n          editServiceGroup(row.id, payload);\r\n        else\r\n          addServiceGroup(payload);\r\n      })\r\n      .catch((info) => console.log('Validate Failed:', info));\r\n  };\r\n  \r\n  onIconSearch = (icon) => {\r\n    this.setState({icon});\r\n  };\r\n\r\n  getAvailableIcons = (search = '') => {\r\n    return _(require('@ant-design/icons'))\r\n      .filter((icon) => icon.render && _.includes(icon.render.displayName, 'Outlined'))\r\n      .map(icon => {\r\n        const value = _.kebabCase(_.replace(icon.render.displayName, 'Outlined', ''));\r\n        return {\r\n          label: <><Icon type={value}/> {value}</>,\r\n          value: _.kebabCase(_.replace(icon.render.displayName, 'Outlined', ''))\r\n        }\r\n      })\r\n      .filter(({value}) => _.includes(value, search))\r\n      .value()\r\n  };\r\n  \r\n  render() {\r\n    \r\n    const {show, onCancel, row, loading} = this.props;\r\n    \r\n    const {formRef, icon} = this.state;\r\n    \r\n    return (\r\n      <Modal\r\n        visible={show}\r\n        title=\"Service Group\"\r\n        onCancel={onCancel}\r\n        footer={[\r\n          <Button key=\"back\" onClick={onCancel}>Cancel</Button>,\r\n          <Button key=\"submit\" type=\"primary\" loading={loading[row ? 'edit' : 'create']}\r\n                  onClick={this.onFinish}>Submit</Button>,\r\n        ]}>\r\n        \r\n        <Form {...layout} ref={formRef} name=\"control-ref\" onFinish={this.onFinish}>\r\n\r\n          <Form.Item name=\"name\" label=\"Group Name\" rules={[\r\n            {required: true, message: 'Please input group name!'}\r\n          ]}>\r\n            <Input/>\r\n          </Form.Item>\r\n\r\n          <Form.Item name=\"description\" label=\"Description\">\r\n            <Input.TextArea/>\r\n          </Form.Item>\r\n\r\n          <Form.Item name=\"icon\" label=\"Icon\">\r\n            <AutoComplete options={this.getAvailableIcons(icon)} onSearch={this.onIconSearch}/>\r\n          </Form.Item>\r\n          \r\n        </Form>\r\n        \r\n      </Modal>\r\n    );\r\n    \r\n  }\r\n\r\n}\r\n\r\nconst mapStateToProps = (store) => {\r\n  return {\r\n    loading: {\r\n      create: isLoading(store, ADD_SERVICE_GROUP),\r\n      edit: isLoading(store, EDIT_SERVICE_GROUP),\r\n    }\r\n  }\r\n};\r\n\r\nexport default connect(mapStateToProps, {addServiceGroup, editServiceGroup})(Group);","import React from 'react';\r\nimport {connect} from 'react-redux';\r\nimport _ from 'lodash';\r\n\r\nimport {isLoading} from 'store/selectors';\r\nimport {addService, editService} from 'actions/Service';\r\nimport {\r\n  ADD_SERVICE, EDIT_SERVICE\r\n} from \"constants/ActionTypes\";\r\n\r\nimport {Icon} from '@ant-design/compatible';\r\nimport {QuestionCircleOutlined} from '@ant-design/icons';\r\nimport {\r\n  Button,\r\n  Modal,\r\n  Form,\r\n  Input,\r\n  Select,\r\n  Typography,\r\n  Switch,\r\n  Tooltip,\r\n  AutoComplete\r\n} from 'antd';\r\n\r\n\r\nconst layout = {\r\n  labelCol: {span: 8},\r\n  wrapperCol: {span: 16}\r\n};\r\n\r\nclass Service extends React.Component {\r\n\r\n  GATEWAY_URL = 'https://api.mysights.id/api';\r\n  \r\n  BASE_INFO = 'components/Service/';\r\n  \r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      formRef: React.createRef(),\r\n      icon: '',\r\n    }\r\n  }\r\n\r\n  componentDidUpdate(prevProps, prevState, snapshot) {\r\n    if (!prevProps.show && this.props.show) {\r\n      this.state.formRef.current.resetFields();\r\n      if (this.props.row) {\r\n        const {info, id, ...row} = this.props.row;\r\n        const _info = info ? _.replace(info, this.BASE_INFO, '') : null;\r\n        const init = {is_active: true, is_public: false};\r\n        this.state.formRef.current.setFieldsValue({...init, ...row, info: _info});\r\n      }\r\n    }\r\n  }\r\n\r\n  onFinish  = () => {\r\n    const {formRef} = this.state;\r\n    const {row, addService, editService} = this.props;\r\n    formRef.current\r\n      .validateFields()\r\n      .then(({info, ...payload}) => {\r\n        const _info = info ? this.BASE_INFO + info : null;\r\n        if (row.id)\r\n          editService(row.id, {info: _info, ...payload});\r\n        else\r\n          addService({info: _info, ...payload});\r\n      })\r\n      .catch((info) => console.log('Validate Failed:', info));\r\n  };\r\n\r\n  onIconSearch = (icon) => {\r\n    this.setState({icon});\r\n  };\r\n\r\n  getAvailableIcons = (search = '') => {\r\n    return _(require('@ant-design/icons'))\r\n      .filter((icon) => icon.render && _.includes(icon.render.displayName, 'Outlined'))\r\n      .map(icon => {\r\n        const value = _.kebabCase(_.replace(icon.render.displayName, 'Outlined', ''));\r\n        return {\r\n          label: <><Icon type={value}/> {value}</>,\r\n          value: _.kebabCase(_.replace(icon.render.displayName, 'Outlined', ''))\r\n        }\r\n      })\r\n      .filter(({value}) => _.includes(value, search))\r\n      .value()\r\n  };\r\n\r\n  render() {\r\n\r\n    const {show, onCancel, row, loading, services} = this.props;\r\n\r\n    const {formRef, icon} = this.state;\r\n\r\n    return (\r\n      <Modal\r\n        visible={show}\r\n        title=\"Service\"\r\n        width={800}\r\n        onCancel={onCancel}\r\n        footer={[\r\n          <Button key=\"back\" onClick={onCancel}>Cancel</Button>,\r\n          <Button key=\"submit\" type=\"primary\" loading={loading[row && row.id ? 'edit' : 'create']}\r\n                  onClick={this.onFinish}>Submit</Button>,\r\n        ]}>\r\n\r\n        <Form {...layout} ref={formRef} name=\"control-ref\" onFinish={this.onFinish}>\r\n\r\n          <Form.Item name=\"service_group_id\" label={'Service Group'} rules={[\r\n            {required: true, message: 'Please select the service group!'}\r\n          ]}>\r\n            <Select\r\n              showSearch\r\n              placeholder=\"Select group\"\r\n              optionFilterProp=\"children\"\r\n              filterOption={(input, option) => option.children.toLowerCase().indexOf(input.toLowerCase()) >= 0}\r\n              loading={loading.package}\r\n              allowClear>\r\n              {_.map(services, ({id, name}) => <Select.Option value={id}>{name}</Select.Option>)}\r\n            </Select>\r\n          </Form.Item>\r\n\r\n          <Form.Item name=\"name\" label=\"Service Name\" rules={[\r\n            {required: true, message: 'Please input group name!'}\r\n          ]}>\r\n            <Input/>\r\n          </Form.Item>\r\n\r\n          <Form.Item name=\"description\" label=\"Description\">\r\n            <Input.TextArea/>\r\n          </Form.Item>\r\n\r\n          <Form.Item name=\"icon\" label=\"Icon\">\r\n            <AutoComplete options={this.getAvailableIcons(icon)} onSearch={this.onIconSearch}/>\r\n          </Form.Item>\r\n\r\n          <Form.Item name=\"method\" label=\"Method\" rules={[\r\n            {required: true, message: 'Please select method!'}\r\n          ]}>\r\n            <Select>\r\n              <Select.Option value=\"get\"><Typography.Text strong type={'success'}>GET</Typography.Text></Select.Option>\r\n              <Select.Option value=\"post\"><Typography.Text strong\r\n                                                           type={'warning'}>POST</Typography.Text></Select.Option>\r\n            </Select>\r\n          </Form.Item>\r\n\r\n          <Form.Item name=\"mask_url\" label={\r\n            <span>\r\n            Mask URL&nbsp;\r\n              <Tooltip title=\"URL accessed by user (published)\">\r\n              <QuestionCircleOutlined/>\r\n            </Tooltip>\r\n          </span>\r\n          } rules={[\r\n            {required: true, message: 'Please input mask URL!'}\r\n          ]}>\r\n            <Input prefix={this.GATEWAY_URL}/>\r\n          </Form.Item>\r\n\r\n          <Form.Item name=\"url\" label={\r\n            <span>\r\n            Source URL&nbsp;\r\n              <Tooltip title=\"URL accessed by gateway (protected)\">\r\n              <QuestionCircleOutlined/>\r\n            </Tooltip>\r\n          </span>\r\n          } rules={[\r\n            {type: 'url', message: 'The input is not complete URL!'},\r\n            {required: true, message: 'Please input source URL!'}\r\n          ]}>\r\n            <Input/>\r\n          </Form.Item>\r\n\r\n          <Form.Item name=\"info\" label=\"Info Path\">\r\n            <Input prefix={this.BASE_INFO}/>\r\n          </Form.Item>\r\n\r\n          <Form.Item name=\"is_active\" label=\"Active\" valuePropName=\"checked\">\r\n            <Switch checkedChildren={'Active'} unCheckedChildren={'Inactive'}/>\r\n          </Form.Item>\r\n\r\n          <Form.Item name=\"is_public\" label=\"Public\" valuePropName=\"checked\">\r\n            <Switch checkedChildren={'Public'} unCheckedChildren={'Private'}/>\r\n          </Form.Item>\r\n\r\n        </Form>\r\n\r\n      </Modal>\r\n    );\r\n\r\n  }\r\n\r\n}\r\n\r\nconst mapStateToProps = (store) => {\r\n  const {service: {services}} = store;\r\n  return {\r\n    services,\r\n    loading: {\r\n      create: isLoading(store, ADD_SERVICE),\r\n      edit: isLoading(store, EDIT_SERVICE),\r\n    }\r\n  }\r\n};\r\n\r\nexport default connect(mapStateToProps, {addService, editService})(Service);","import {combineReducers} from 'redux';\r\nimport {connectRouter} from 'connected-react-router'\r\n\r\nimport Settings from './Settings';\r\nimport Auth from './Auth';\r\nimport Verification from './Verification';\r\nimport UI from './UI';\r\nimport Service from './Service';\r\nimport Subscription from \"./Subscription\";\r\nimport Package from './Package';\r\nimport User from './User';\r\nimport APIKey from './APIKey';\r\nimport Usage from './Usage';\r\nimport AddOn from \"./AddOn\";\r\nimport Log from \"./Log\";\r\n\r\nconst Reducers = (history) => combineReducers({\r\n  router: connectRouter(history),\r\n  ui: UI,\r\n  settings: Settings,\r\n  auth: Auth,\r\n  verification: Verification,\r\n  service: Service,\r\n  subscription: Subscription,\r\n  addOn: AddOn,\r\n  package: Package,\r\n  user: User,\r\n  apiKey: APIKey,\r\n  usage: Usage,\r\n  log: Log\r\n});\r\n\r\nexport default Reducers;","import enLang from './entries/en-US';\r\nimport {addLocaleData} from 'react-intl';\r\n\r\nconst AppLocale = {\r\n  en: enLang,\r\n};\r\n\r\naddLocaleData(AppLocale.en.data);\r\n\r\nexport default AppLocale;\r\n","import React from 'react';\r\nimport {Route, Switch, Redirect, withRouter} from 'react-router-dom';\r\nimport {connect} from 'react-redux';\r\nimport {Layout, Spin, Alert, Typography} from 'antd';\r\nimport './index.css';\r\nimport axios from 'util/Api';\r\n\r\nimport Sidebar from 'containers/Sidebar/index';\r\nimport Navbar from 'containers/Header/index';\r\nimport Setting from 'containers/Setting/index';\r\nimport {isLoading, isAllowed} from 'store/selectors';\r\nimport {USER_DATA, MENU_SUBSCRIPTION, MENU_API_KEY, MENU_USAGE, MENU_SERVICE_USAGE, MENU_SERVICE, MENU_ACCESS_LOG} from \"constants/ActionTypes\";\r\nimport {getUser} from '../actions/Auth';\r\n\r\nimport Landing from './routes/Landing';\r\nimport Subscription from './routes/Subscription';\r\nimport APIKey from './routes/APIKey';\r\nimport Usage from './routes/Usage';\r\nimport ServiceUsage from './routes/ServiceUsage';\r\nimport APIMarket from './routes/APIMarket';\r\nimport Service from './routes/Service';\r\nimport Package from './routes/Package';\r\nimport AccessLog from './routes/AccessLog';\r\n\r\nconst {Content} = Layout;\r\n\r\nclass App extends React.Component {\r\n\r\n  componentDidMount() {\r\n    const {token, history, authUser, getUser} = this.props;\r\n    if (token)\r\n      axios.defaults.headers.common['Authorization'] = \"Bearer \" + token;\r\n    else\r\n      history.push('/');\r\n    if (token && !authUser) getUser();\r\n  }\r\n\r\n  componentDidUpdate(prevProps, prevState, snapshot) {\r\n    const {token, history} = this.props;\r\n    if (!token) history.push('/');\r\n  }\r\n\r\n  render() {\r\n    const {match, loading, isAllowed, authUser} = this.props;\r\n\r\n    return (\r\n      <div id={'components-layout-demo-custom-trigger'}>\r\n        <Spin spinning={loading} size={'large'}>\r\n          {authUser ?\r\n          <Layout>\r\n            <Sidebar/>\r\n            <Layout className=\"site-layout\" style={{marginLeft: 80, height: '100vh', overflow: 'auto'}}>\r\n              <Navbar/>\r\n              {authUser && authUser.change_email && <Alert message={\r\n                <span><Typography.Text strong>Email Verification. </Typography.Text> Please accept our email verification to <Typography.Text strong>{authUser.change_email}</Typography.Text></span>\r\n              } banner />}\r\n              <Content style={{\r\n                margin: '24px 16px',\r\n                minHeight: 280,\r\n              }}>\r\n\r\n                <Switch>\r\n\r\n                  <Redirect exact from={`${match.url}/`} to={`${match.url}/api-market`} />\r\n                  \r\n                  <Route path={`${match.url}/landing`} component={Landing}/>\r\n                  <Route path={`${match.url}/api-market`} component={APIMarket}/>\r\n                  {isAllowed(MENU_API_KEY) && <Route path={`${match.url}/api-key`} component={APIKey}/>}\r\n                  {isAllowed(MENU_USAGE) && <Route path={`${match.url}/usage`} component={Usage}/>}\r\n\r\n                  {isAllowed(MENU_SERVICE) && <Route path={`${match.url}/service`} component={Service}/>}\r\n                  {isAllowed(MENU_SERVICE) && <Route path={`${match.url}/package`} component={Package}/>}\r\n                  {isAllowed(MENU_SUBSCRIPTION) && <Route path={`${match.url}/subscription`} component={Subscription}/>}\r\n                  {isAllowed(MENU_SERVICE_USAGE) && <Route path={`${match.url}/service-usage`} component={ServiceUsage}/>}\r\n                  {isAllowed(MENU_ACCESS_LOG) && <Route path={`${match.url}/access-log`} component={AccessLog}/>}\r\n                  {/*<ProtectedRoute allowed={isAllowed(MENU_API_KEY)}*/}\r\n                  {/*                component={<Route path={`${match.url}/api-key`} component={APIKey}/>}/>*/}\r\n                  {/*<ProtectedRoute allowed={isAllowed(MENU_SUBSCRIPTION)}*/}\r\n                  {/*                component={<Route path={`${match.url}/subscription`} component={Subscription}/>}/>*/}\r\n                  {/*Other menu route*/}\r\n\r\n                  <Redirect to=\"/404\" />\r\n\r\n                </Switch>\r\n\r\n                <Setting/>\r\n\r\n              </Content>\r\n            </Layout>\r\n          </Layout> : <div style={{height: '100vh'}}/>}\r\n        </Spin>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nconst mapStateToProps = (store) => {\r\n  const {auth: {token, authUser}} = store;\r\n  return {\r\n    loading: isLoading(store, USER_DATA),\r\n    isAllowed: isAllowed(store),\r\n    token, authUser\r\n  }\r\n};\r\n\r\nexport default withRouter(connect(mapStateToProps, {getUser})(App));\r\n\r\n// const ProtectedRoute = ({allowed, component}) =>\r\n//   allowed ? component : <Redirect to={'/403'}/>;","import React from 'react';\r\nimport {connect} from 'react-redux';\r\nimport {withRouter} from 'react-router-dom';\r\n\r\nimport {Layout, Row} from 'antd';\r\n\r\nimport Menu from './Menu';\r\n\r\nimport {toggleCollapsedNav} from '../../actions/Setting';\r\n\r\nconst {Sider} = Layout;\r\n\r\n\r\n\r\nclass Sidebar extends React.Component {\r\n\r\n  render() {\r\n    const {authUser, navCollapsed, toggleCollapsedNav} = this.props;\r\n    return (\r\n      <Sider\r\n        trigger={null}\r\n        collapsible\r\n        collapsed={navCollapsed}\r\n        onMouseOver={() => toggleCollapsedNav(false)}\r\n        onMouseOut={() => toggleCollapsedNav(true)}\r\n        style={{\r\n          overflow: 'auto',\r\n          height: '100vh',\r\n          position: 'fixed',\r\n          left: 0,\r\n          zIndex: 1\r\n        }}>\r\n        <Row type={'flex'} style={{alignItems: 'center', width: '100%'}}>\r\n          {navCollapsed ?\r\n            <img className={'logo'} src={process.env.PUBLIC_URL + '/my.png'} alt={'icon'}/> :\r\n            <img className={'logo'} src={process.env.PUBLIC_URL + '/logo-mysights-white.png'} alt={'icon'}/>}\r\n        </Row>\r\n        {authUser && <Menu/>}\r\n      </Sider>\r\n    );\r\n  }\r\n\r\n}\r\n\r\nconst mapStateToProps = ({settings, auth}) => {\r\n  const {navCollapsed} = settings;\r\n  const {authUser} = auth;\r\n  return {navCollapsed, authUser}\r\n};\r\n\r\nexport default withRouter(connect(mapStateToProps, {toggleCollapsedNav})(Sidebar));","import React from 'react';\r\nimport {connect} from 'react-redux';\r\nimport _ from 'lodash';\r\n\r\nimport {Menu, Row, Col, Popover, Card, Layout} from 'antd';\r\nimport {\r\n  MenuUnfoldOutlined,\r\n  MenuFoldOutlined,\r\n  SettingOutlined,\r\n  LogoutOutlined\r\n} from '@ant-design/icons';\r\n\r\nimport {userSignOut} from 'actions/Auth';\r\nimport {toggleCollapsedNav, toggleSetting} from 'actions/Setting';\r\nimport UserAvatar from \"components/Avatar/index\";\r\n\r\nimport './index.css';\r\n\r\nconst {Header} = Layout;\r\nconst {Meta} = Card;\r\n\r\nclass Navbar extends React.Component {\r\n\r\n  render() {\r\n    const {authUser, navCollapsed, userSignOut, toggleCollapsedNav, toggleSetting} = this.props;\r\n\r\n    return (\r\n      <Header className=\"site-layout-background\" style={{padding: 0}}>\r\n        <Row>\r\n          <Col flex=\"auto\">\r\n            {/*{navCollapsed ?*/}\r\n            {/*  <MenuUnfoldOutlined className={'trigger'} onClick={() => toggleCollapsedNav(!navCollapsed)}/> :*/}\r\n            {/*  <MenuFoldOutlined className={'trigger'} onClick={() => toggleCollapsedNav(!navCollapsed)}/>*/}\r\n            {/*}*/}\r\n          </Col>\r\n          <Col>\r\n            <Menu mode={'horizontal'} selectable={false}>\r\n              {authUser && <Menu.Item key={'1'} style={{float: 'right'}}>\r\n                <Popover\r\n                  placement=\"bottomRight\"\r\n                  content={<AvatarContent\r\n                    title={authUser.fullname}\r\n                    description={authUser.email}\r\n                    actions={[\r\n                      <SettingOutlined key=\"setting\" onClick={() => toggleSetting(true)}/>,\r\n                      <LogoutOutlined key=\"logout\" onClick={userSignOut}/>,\r\n                    ]}/>}\r\n                  trigger=\"hover\"\r\n                  overlayStyle={{padding: '0'}}>\r\n                  <Row type={'flex'} style={{alignItems: 'center', margin: '0 5px'}}>\r\n                    <UserAvatar name={authUser.fullname}/>\r\n                  </Row>\r\n                </Popover>\r\n              </Menu.Item>}\r\n            </Menu>\r\n          </Col>\r\n        </Row>\r\n      </Header>\r\n    );\r\n  }\r\n\r\n}\r\n\r\nconst mapStateToProps = ({settings, auth}) => {\r\n  const {navCollapsed} = settings;\r\n  const {authUser} = auth;\r\n  return {navCollapsed, authUser}\r\n};\r\n\r\nexport default connect(mapStateToProps, {userSignOut, toggleCollapsedNav, toggleSetting})(Navbar);\r\n\r\nconst AvatarContent = (props) => {\r\n  const {title, description, actions} = props;\r\n  return <Card\r\n    style={{width: 300}}\r\n    cover={\r\n      <img\r\n        alt=\"example\"\r\n        src=\"https://gw.alipayobjects.com/zos/rmsportal/JiqGstEfoWAOHiTxclqi.png\"\r\n      />\r\n    }\r\n    actions={actions}\r\n  >\r\n    <Meta\r\n      avatar={<UserAvatar name={title} only/>}\r\n      title={_.startCase(title)}\r\n      description={description}\r\n    />\r\n  </Card>\r\n};","import React from 'react';\r\nimport {connect} from 'react-redux';\r\n\r\nimport {UserOutlined, LockOutlined} from '@ant-design/icons';\r\nimport {\r\n  Modal, Layout, Menu\r\n} from 'antd';\r\n\r\nimport {toggleSetting} from 'actions/Setting';\r\n\r\nimport Profile from \"./Profile\";\r\nimport Security from \"./Security\";\r\n\r\nclass Setting extends React.Component {\r\n\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      selectedMenu: 'profile',\r\n    }\r\n  }\r\n\r\n  onSelectMenu = ({key}) => this.setState({selectedMenu: key});\r\n\r\n  render() {\r\n    const {openSetting, toggleSetting} = this.props;\r\n    const {selectedMenu} = this.state;\r\n    \r\n    return (\r\n      <Modal \r\n        visible={openSetting} \r\n        title=\"Setting\"\r\n        onCancel={() => toggleSetting(false)} width={800}\r\n        bodyStyle={{padding: 0}}\r\n        footer={null}>\r\n        \r\n        <Layout>\r\n          <Layout.Sider className=\"site-layout-background\" width={200}>\r\n            <Menu\r\n              mode=\"inline\"\r\n              defaultSelectedKeys={[selectedMenu]}\r\n              onSelect={this.onSelectMenu}\r\n              style={{height: '100%'}}>\r\n              <Menu.Item key={'profile'} icon={<UserOutlined/>}>Profile</Menu.Item>\r\n              <Menu.Item key={'security'} icon={<LockOutlined/>}>Security</Menu.Item>\r\n            </Menu>\r\n          </Layout.Sider>\r\n          <Layout.Content style={{margin: '16px'}}>\r\n            <MenuContent value={selectedMenu} menu={'profile'} component={<Profile/>}/>\r\n            <MenuContent value={selectedMenu} menu={'security'} component={<Security/>}/>\r\n          </Layout.Content>\r\n        </Layout>\r\n        \r\n      </Modal>\r\n    );\r\n  }\r\n\r\n}\r\n\r\nconst mapStateToProps = ({settings}) => {\r\n  const {openSetting} = settings;\r\n  return {openSetting}\r\n};\r\n\r\nexport default connect(mapStateToProps, {toggleSetting})(Setting);\r\n\r\nconst MenuContent = ({menu, value, component}) =>\r\n  menu === value ? component : null;","export default () => {\r\n  return ('Welcome to portal app');\r\n};","import React from 'react';\r\nimport {Route, Switch, withRouter} from 'react-router-dom';\r\n\r\nimport List from './List';\r\nimport Detail from './Detail';\r\n\r\nconst Subscription = ({match}) => (\r\n  <Switch>\r\n    <Route path={`${match.url}/:subs`} component={Detail}/>\r\n    <Route path={`${match.url}/`} component={List}/>\r\n  </Switch>\r\n);\r\n\r\nexport default withRouter(Subscription);","import React from 'react';\r\nimport {connect} from 'react-redux';\r\n\r\nimport {isLoading} from 'store/selectors';\r\nimport {GET_API_KEY, ADD_API_KEY} from \"constants/ActionTypes\";\r\n\r\nimport {getAPIKey, addAPIKey} from 'actions/APIKey';\r\nimport {onResetStatus, onResetDataState} from 'actions/Common';\r\n\r\nimport {CopyOutlined, PlusOutlined} from '@ant-design/icons';\r\nimport {\r\n  Card,\r\n  Spin,\r\n  Table,\r\n  Button,\r\n  Space,\r\n  Tooltip,\r\n  Typography\r\n} from 'antd';\r\n\r\nclass APIKey extends React.Component {\r\n\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      copied: null,\r\n      column: [\r\n        {\r\n          title: 'API Key',\r\n          dataIndex: 'api_key',\r\n          key: 'api_key',\r\n          render: (key) => (\r\n            <Space>\r\n              {key}\r\n              <Tooltip title={this.state.copied === key ? 'Copied' : 'Copy'}>\r\n                <Button type=\"link\" icon={<CopyOutlined/>} onClick={() => this.onCopy(key)}/>\r\n              </Tooltip>\r\n            </Space>\r\n          )\r\n        }\r\n      ]\r\n    }\r\n  }\r\n\r\n  componentDidMount() {\r\n    this.props.getAPIKey()\r\n  }\r\n  \r\n  componentDidUpdate(prevProps, prevState, snapshot) {\r\n    if (!prevProps.created && this.props.created) {\r\n      this.props.getAPIKey();\r\n      this.props.onResetStatus();\r\n    }\r\n  }\r\n  \r\n  componentWillUnmount() {this.props.onResetDataState()}\r\n\r\n  onAdd = () => this.props.addAPIKey();\r\n\r\n  onCopy = (key) => {\r\n    var dummy = document.createElement(\"textarea\");\r\n    document.body.appendChild(dummy);\r\n    dummy.value = key;\r\n    dummy.select();\r\n    document.execCommand(\"copy\");\r\n    document.body.removeChild(dummy);\r\n    this.setState({copied: key});\r\n  };\r\n  \r\n\r\n  render() {\r\n    const {loading, keys} = this.props;\r\n    const {column} = this.state;\r\n\r\n    return (\r\n      <Space direction={'vertical'} style={{width: '100%'}}>\r\n        <Typography.Title level={4}>API Key</Typography.Title>\r\n        <Card bordered={false} style={{minHeight: 600}}>\r\n          <Spin spinning={loading.get}>\r\n            <Space direction={'vertical'} style={{width: '100%'}}>\r\n              <Button type=\"primary\"\r\n                      style={{float: 'right'}}\r\n                      icon={<PlusOutlined/>}\r\n                      loading={loading.add}\r\n                      onClick={this.onAdd}>\r\n                Add\r\n              </Button>\r\n              <Table columns={column}\r\n                     dataSource={keys}\r\n                     rowKey={'id'}\r\n                     style={{width: '100%'}}/>\r\n            </Space>\r\n          </Spin>\r\n        </Card>\r\n      </Space>\r\n    );\r\n  }\r\n\r\n}\r\n\r\nconst mapStateToProps = (store) => {\r\n  const {apiKey: {keys, status: {created}}} = store;\r\n  return {\r\n    loading: {\r\n      get: isLoading(store, GET_API_KEY),\r\n      add: isLoading(store, ADD_API_KEY),\r\n    },\r\n    keys, created\r\n  }\r\n};\r\n\r\nexport default connect(mapStateToProps, {\r\n  getAPIKey, addAPIKey, onResetStatus, onResetDataState\r\n})(APIKey);","import React from 'react';\r\nimport {Route, Switch, withRouter} from 'react-router-dom';\r\n\r\nimport Usage from './Usage';\r\nimport Service from './Service';\r\n\r\nconst UsageRoute = ({match}) => (\r\n  <Switch>\r\n    <Route path={`${match.url}/:service`} component={Usage}/>\r\n    <Route path={`${match.url}/`} component={Service}/>\r\n  </Switch>\r\n);\r\n\r\nexport default withRouter(UsageRoute);","import React from 'react';\r\nimport {Route, Switch, withRouter} from 'react-router-dom';\r\n\r\nimport Usage from './Usage';\r\nimport Service from './Service';\r\n\r\nconst ServiceUsage = ({match}) => (\r\n  <Switch>\r\n    <Route path={`${match.url}/:service/:user`} component={Usage}/>\r\n    <Route path={`${match.url}/`} component={Service}/>\r\n  </Switch>\r\n);\r\n\r\nexport default withRouter(ServiceUsage);","import React from 'react';\r\nimport {Route, Switch, withRouter} from 'react-router-dom';\r\n\r\nimport Market from './Market';\r\nimport Detail from './Detail';\r\n\r\nconst APIMarketRoute = ({match}) => (\r\n  <Switch>\r\n    <Route path={`${match.url}/:id`} component={Detail}/>\r\n    <Route path={`${match.url}/`} component={Market}/>\r\n  </Switch>\r\n);\r\n\r\nexport default withRouter(APIMarketRoute);","import React from 'react';\r\nimport {connect} from 'react-redux';\r\nimport _ from 'lodash';\r\nimport moment from 'moment';\r\n\r\nimport {isLoading} from 'store/selectors';\r\nimport {\r\n  GET_ALL_SERVICE,\r\n  GET_USER,\r\n  GET_ACCESS_LOG,\r\n} from \"constants/ActionTypes\";\r\nimport {getAllService} from 'actions/Service';\r\nimport {getAllUser} from 'actions/User';\r\nimport {getAccessLog} from 'actions/Log';\r\nimport {onResetDataState} from 'actions/Common';\r\nimport UserAvatar from \"components/Avatar\";\r\nimport DocsHeader from \"components/Service/DocsHeader\";\r\n\r\nimport { PrismLight as SyntaxHighlighter } from 'react-syntax-highlighter';\r\nimport json from 'react-syntax-highlighter/dist/esm/languages/prism/json';\r\nimport material from 'react-syntax-highlighter/dist/esm/styles/prism/material-light';\r\n\r\nimport {Icon} from '@ant-design/compatible';\r\nimport {LoginOutlined} from '@ant-design/icons';\r\nimport {\r\n  Card,\r\n  Menu,\r\n  Layout,\r\n  Empty,\r\n  Spin,\r\n  Space,\r\n  Typography,\r\n  Select,\r\n  Table,\r\n  Tag,\r\n  Modal,\r\n  Button,\r\n  Row, Col,\r\n  Anchor\r\n} from 'antd';\r\n\r\nSyntaxHighlighter.registerLanguage('json', json);\r\n\r\nclass AccessLog extends React.Component {\r\n\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      service: null, account: null,\r\n      show: false, row: null\r\n    }\r\n  }\r\n\r\n  componentDidMount() {\r\n    this.props.getAllService()\r\n  }\r\n\r\n  componentWillUnmount() {\r\n    this.props.onResetDataState()\r\n  }\r\n\r\n  // Menu\r\n\r\n  onSelectMenu = ({key}) => {\r\n    // eslint-disable-next-line\r\n    const [item, submenu, id] = _.split(key, '-');\r\n    this.props.getAllUser();\r\n    this.setState({service: parseInt(id)});\r\n    if (this.state.account) this.props.getAccessLog(parseInt(id), this.state.account);\r\n  };\r\n\r\n  onSelectChange = (account) => {\r\n    this.props.getAccessLog(this.state.service, account);\r\n    this.setState({account: parseInt(account)});\r\n  };\r\n\r\n  onShowDetail = (row = null) => {this.setState({show: true, row})};\r\n\r\n  onHideForm = () => {this.setState({show: false, row: null})};\r\n\r\n  renderJSON = (json) => {return JSON.stringify(JSON.parse(json), null, \"\\t\")};\r\n\r\n  render() {\r\n\r\n    const {services, loading, logs, users} = this.props;\r\n\r\n    const columns = [\r\n      {\r\n        title: 'Status',\r\n        dataIndex: 'status_code',\r\n        key: 'status_code',\r\n        filters: [\r\n          {text: <Tag color=\"cyan\">1xx</Tag>, value: 100},\r\n          {text: <Tag color=\"green\">2xx</Tag>, value: 200},\r\n          {text: <Tag color=\"geekblue\">3xx</Tag>, value: 300},\r\n          {text: <Tag color=\"volcano\">4xx</Tag>, value: 400},\r\n          {text: <Tag color=\"purple\">5xx</Tag>, value: 500},\r\n          {text: '-', value: null}\r\n        ],\r\n        onFilter: (value, {status_code}) => {\r\n          if (value)\r\n            return status_code / value >= 1 && status_code / value < 2\r\n          else\r\n            return value === status_code\r\n        },\r\n        render: status => {\r\n          if (status >= 500)\r\n            return <Tag color=\"purple\">{status}</Tag>;\r\n          else if (status >= 400)\r\n            return <Tag color=\"volcano\">{status}</Tag>;\r\n          else if (status >= 300)\r\n            return <Tag color=\"geekblue\">{status}</Tag>;\r\n          else if (status >= 200)\r\n            return <Tag color=\"green\">{status}</Tag>;\r\n          else if (status >= 100)\r\n            return <Tag color=\"cyan\">{status}</Tag>;\r\n          else\r\n            return '-';\r\n        }\r\n      },\r\n      {\r\n        title: 'Account',\r\n        dataIndex: 'api_key',\r\n        key: 'api_key',\r\n        render: api_key => (<div>\r\n          <Typography.Text strong>{this.state.account ? _.find(users, {id: this.state.account}).fullname : '-'}</Typography.Text><br/>\r\n          <Typography.Text type={'secondary'} style={{ width: 100 }} ellipsis={{tooltip: api_key}}>{api_key}</Typography.Text>\r\n        </div>)\r\n      },\r\n      {\r\n        title: 'Subscription',\r\n        dataIndex: 'usage',\r\n        key: 'usage',\r\n        filters: _(logs).map(({usage}) => {\r\n          if (usage)\r\n            return {text: usage.subscription.code, value: usage.subscription.code};\r\n          else\r\n            return {text: '-', value: null};\r\n        }).uniqBy('value').value(),\r\n        onFilter: (value, {usage}) => {\r\n          if (value)\r\n            return usage && usage.subscription.code.includes(value);\r\n          else\r\n            return usage === value\r\n        },\r\n        render: subs => subs ? subs.subscription.code : '-'\r\n      },\r\n      {\r\n        title: 'IP Address', dataIndex: 'ip', key: 'ip',\r\n      },\r\n      {\r\n        title: 'Agent', dataIndex: 'user_agent', key: 'user_agent',\r\n      },\r\n      {\r\n        title: 'Date',\r\n        dataIndex: 'request_timestamp',\r\n        key: 'request_timestamp',\r\n        sorter: (a, b) => moment(a.request_timestamp) - moment(b.request_timestamp),\r\n        render: time => moment(time).subtract(7, 'hours').format('lll')\r\n      },\r\n      {\r\n        title: 'Timing',\r\n        dataIndex: 'response_timestamp',\r\n        key: 'response_timestamp',\r\n        render: (time, {request_timestamp}) => {\r\n          if (time) {\r\n            const duration = moment.duration(moment(time).diff(request_timestamp));\r\n            const minutes = Math.floor(duration.asMinutes());\r\n            const seconds = duration.asSeconds() - minutes * 60;\r\n            return `${minutes} m ${seconds} s`;\r\n          } else {\r\n            return '-'\r\n          }\r\n        }\r\n      },\r\n      {\r\n        title: 'Req',\r\n        key: 'action',\r\n        render: (text, {usage, ...record}) => (\r\n          <Typography.Link onClick={() => this.onShowDetail(record)}>\r\n            <LoginOutlined/>\r\n          </Typography.Link>\r\n        ),\r\n      },\r\n    ];\r\n\r\n    return(\r\n      <Space direction={'vertical'} style={{width: '100%'}}>\r\n        <Typography.Title level={4}>Access Log</Typography.Title>\r\n        <Card bordered={false}>\r\n          <Spin spinning={loading.service}>\r\n            <Layout style={{minHeight: 600, border: '1px solid #f0f0f0'}}>\r\n              <Layout.Sider className=\"site-layout-background\" width={200}>\r\n\r\n                {services.length ?\r\n                  <Menu\r\n                    mode=\"inline\"\r\n                    defaultOpenKeys={['submenu-0']}\r\n                    style={{height: '100%'}}\r\n                    onSelect={this.onSelectMenu}>\r\n                    {_.map(services, ({id, name, icon, services}, index) => {\r\n                      return <Menu.SubMenu key={'submenu-' + index} icon={<Icon type={icon}/>} title={name}>\r\n                        {_.map(services, ({id, name, icon}, i) =>\r\n                          <Menu.Item key={'item-' + index + '-' + id} icon={<Icon type={icon}/>}>{name}</Menu.Item>)}\r\n                      </Menu.SubMenu>\r\n                    })}\r\n                  </Menu>\r\n                  : <Empty/>}\r\n\r\n              </Layout.Sider>\r\n              <Layout.Content style={{padding: '0 24px'}}>\r\n                <Spin spinning={loading.log}>\r\n\r\n                  {this.state.service ?\r\n                    <Space direction={'vertical'} style={{margin: '24px 0', width: '100%'}}>\r\n                      <Select showSearch placeholder=\"Select account\" optionFilterProp=\"children\"\r\n                              onChange={this.onSelectChange} optionLabelProp={'label'}\r\n                              filterOption={(input, option) => option.children.toLowerCase().indexOf(input.toLowerCase()) >= 0}\r\n                              loading={loading.user}\r\n                              style={{width: 200}}>\r\n                        {_.map(users, ({id, fullname}) => <Select.Option value={id} label={fullname}><UserAvatar\r\n                          name={fullname}/></Select.Option>)}\r\n                      </Select>\r\n                      {logs.length ?\r\n                        <Table columns={columns} dataSource={logs} rowKey={'id'} style={{width: '100%'}} size={'small'}\r\n                               scroll={{x: '100%'}}/>\r\n                        : <Empty image={Empty.PRESENTED_IMAGE_SIMPLE}/>}\r\n\r\n                    </Space>\r\n                    : <Empty image={Empty.PRESENTED_IMAGE_SIMPLE}/>}\r\n\r\n                  <Modal\r\n                    visible={this.state.show}\r\n                    title=\"Request Log\"\r\n                    width={1000}\r\n                    onCancel={this.onHideForm}\r\n                    footer={[<Button key=\"back\" type=\"primary\" onClick={this.onHideForm}>Cancel</Button>]}>\r\n\r\n                    <Row gutter={[16]}>\r\n                      <Col flex=\"auto\">\r\n                        <Space direction={'vertical'} style={{width: '100%'}}>\r\n                          <Typography.Title id={'#request-param'} level={5}>Request Param</Typography.Title>\r\n                          <SyntaxHighlighter language=\"json\" style={material}>\r\n                            {this.renderJSON(this.state.row ? this.state.row.request_query : '{}')}\r\n                          </SyntaxHighlighter>\r\n                          <Typography.Title id={'#request-body'} level={5}>Request Body</Typography.Title>\r\n                          <SyntaxHighlighter language=\"json\" style={material}>\r\n                            {this.renderJSON(this.state.row ? this.state.row.request_body : '{}')}\r\n                          </SyntaxHighlighter>\r\n                          <Typography.Title id={'#response-body'} level={5}>Response Body</Typography.Title>\r\n                          <SyntaxHighlighter language=\"json\" style={material}>\r\n                            {this.renderJSON(this.state.row ? this.state.row.response_body : '{}')}\r\n                          </SyntaxHighlighter>\r\n                          <Typography.Title id={'#response-error'} level={5}>Response Error</Typography.Title>\r\n                          <SyntaxHighlighter language=\"json\" style={material}>\r\n                            {this.renderJSON(this.state.row ? this.state.row.response_error : '{}')}\r\n                          </SyntaxHighlighter>\r\n                        </Space>\r\n                      </Col>\r\n                      {/*<Col flex=\"100px\">*/}\r\n                      {/*  <Anchor targetOffset={100}>*/}\r\n                      {/*    <Anchor.Link href=\"#request-param\" title=\"Request Param\"/>*/}\r\n                      {/*    <Anchor.Link href=\"#request-body\" title=\"Request Body\"/>*/}\r\n                      {/*    <Anchor.Link href=\"#response-body\" title=\"Response Body\"/>*/}\r\n                      {/*    <Anchor.Link href=\"#response-error\" title=\"Response Error\"/>*/}\r\n                      {/*  </Anchor>*/}\r\n                      {/*</Col>*/}\r\n                    </Row>\r\n\r\n                  </Modal>\r\n\r\n                </Spin>\r\n              </Layout.Content>\r\n            </Layout>\r\n          </Spin>\r\n        </Card>\r\n      </Space>\r\n    );\r\n  }\r\n\r\n}\r\n\r\nconst mapStateToProps = (store) => {\r\n  const {service: {services}, log: {logs}, user: {users}} = store;\r\n  return {\r\n    loading: {\r\n      service: isLoading(store, GET_ALL_SERVICE),\r\n      user: isLoading(store, GET_USER),\r\n      log: isLoading(store, GET_ACCESS_LOG)\r\n    },\r\n    services, logs, users\r\n  }\r\n};\r\n\r\nexport default connect(mapStateToProps, {\r\n  getAllService, getAllUser, getAccessLog, onResetDataState\r\n})(AccessLog);","import React from 'react';\r\nimport {connect} from 'react-redux';\r\nimport _ from 'lodash';\r\n\r\nimport {isLoading} from 'store/selectors';\r\nimport {\r\n  GET_ALL_SERVICE,\r\n  GET_PACKAGE,\r\n} from \"constants/ActionTypes\";\r\nimport {getAllService} from 'actions/Service';\r\nimport {getPackageByService} from 'actions/Package';\r\nimport {onResetStatus, onResetDataState} from 'actions/Common';\r\nimport PackageCard from \"components/PackageCard\";\r\n\r\nimport {Icon} from '@ant-design/compatible';\r\nimport {EditOutlined, PlusOutlined} from '@ant-design/icons';\r\nimport {\r\n  Card,\r\n  Menu,\r\n  Layout,\r\n  Empty,\r\n  Spin,\r\n  Space,\r\n  Typography,\r\n  Row,\r\n  Col,\r\n  Button\r\n} from 'antd';\r\n\r\nimport PackageForm from './Form';\r\n\r\nclass Package extends React.Component {\r\n\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      selectedService: null,\r\n      show: null,\r\n      row: null\r\n    }\r\n  }\r\n\r\n  componentDidMount() {\r\n    this.props.getAllService()\r\n  }\r\n\r\n  componentWillUnmount() {\r\n    this.props.onResetDataState()\r\n  }\r\n  \r\n  componentDidUpdate(prevProps, prevState, snapshot) {\r\n    if (!prevProps.created && this.props.created) {\r\n      this.onHideForm();\r\n      this.props.getPackageByService(this.state.selectedService);\r\n      this.props.onResetStatus();\r\n    }\r\n    if ((!prevProps.edited && this.props.edited)) {\r\n      this.onHideForm();\r\n      this.props.getPackageByService(this.state.selectedService);\r\n      this.props.onResetStatus();\r\n    }\r\n  }\r\n  \r\n  // Menu\r\n\r\n  onSelectMenu = ({key}) => {\r\n    // eslint-disable-next-line\r\n    const [item, submenu, id] = _.split(key, '-');\r\n    this.props.getPackageByService(id);\r\n    this.setState({selectedService: id});\r\n  };\r\n  \r\n  onShowForm = (row = null) => {\r\n    this.setState({show: true, row})\r\n  };\r\n\r\n  onHideForm = () => {\r\n    this.setState({show: null, row: null})\r\n  };\r\n\r\n  render() {\r\n    \r\n    const {services, loading, packages} = this.props;\r\n    \r\n    const {selectedService, show, row} = this.state;\r\n\r\n    return (\r\n      <Space direction={'vertical'} style={{width: '100%'}}>\r\n        <Typography.Title level={4}>Service</Typography.Title>\r\n        <Card bordered={false}>\r\n          <Spin spinning={loading.service}>\r\n            <Layout style={{minHeight: 600, border: '1px solid #f0f0f0'}}>\r\n              <Layout.Sider className=\"site-layout-background\" width={200}>\r\n\r\n                {services.length ?\r\n                  <Menu\r\n                    mode=\"inline\"\r\n                    defaultOpenKeys={['submenu-0']}\r\n                    style={{height: '100%'}}\r\n                    onSelect={this.onSelectMenu}>\r\n                    {_.map(services, ({id, name, icon, services}, index) => {\r\n                      return <Menu.SubMenu key={'submenu-' + index} icon={<Icon type={icon}/>} title={name}>\r\n                        {_.map(services, ({id, name, icon}, i) =>\r\n                          <Menu.Item key={'item-' + index + '-' + id} icon={<Icon type={icon}/>}>{name}</Menu.Item>)}\r\n                      </Menu.SubMenu>\r\n                    })}\r\n                  </Menu>\r\n                  : <Empty/>}\r\n\r\n              </Layout.Sider>\r\n              <Layout.Content style={{padding: '24px'}}>\r\n                <Spin spinning={loading._package}>\r\n\r\n                  {packages.length ?\r\n                    <Row gutter={[16]}>\r\n                      {_.map(packages, (_package) =>\r\n                        <Col {...{xxl: 6, xl: 8, lg: 12, sm: 24}}>\r\n                          <Card className={'service-box'}\r\n                                actions={[<EditOutlined onClick={() => this.onShowForm(_package)}/>]}>\r\n                            <PackageCard package={_package}/>\r\n                          </Card>\r\n                        </Col>\r\n                      )}\r\n                      <Col {...{xxl: 6, xl: 8, lg: 12, sm: 24}}>\r\n                        <Button style={{height: '100%', minHeight: 180}} type=\"dashed\" icon={<PlusOutlined/>} block \r\n                                onClick={() => this.onShowForm({service_id: parseInt(selectedService)})}>\r\n                          Add Package\r\n                        </Button>\r\n                      </Col>\r\n                    </Row>\r\n                    : <Empty image={Empty.PRESENTED_IMAGE_SIMPLE}/>}\r\n                    \r\n                    <PackageForm show={show} onCancel={this.onHideForm} row={row}/>\r\n\r\n                </Spin>\r\n              </Layout.Content>\r\n            </Layout>\r\n          </Spin>\r\n        </Card>\r\n      </Space>\r\n    );\r\n  }\r\n\r\n}\r\n\r\nconst mapStateToProps = (store) => {\r\n  const {service: {services}, package: {packages, status: {created, edited}}} = store;\r\n  return {\r\n    loading: {\r\n      service: isLoading(store, GET_ALL_SERVICE),\r\n      _package: isLoading(store, GET_PACKAGE),\r\n    },\r\n    services, packages, created, edited\r\n  }\r\n};\r\n\r\nexport default connect(mapStateToProps, {\r\n  getAllService,\r\n  getPackageByService,\r\n  onResetStatus,\r\n  onResetDataState\r\n})(Package);","import React from 'react';\r\nimport {connect} from 'react-redux';\r\nimport _ from 'lodash';\r\n\r\nimport {isLoading} from 'store/selectors';\r\nimport {\r\n  GET_ALL_SERVICE\r\n} from \"constants/ActionTypes\";\r\nimport {getAllService} from 'actions/Service';\r\nimport {onResetStatus, onResetDataState} from 'actions/Common';\r\n\r\nimport {Icon} from '@ant-design/compatible';\r\nimport {PlusOutlined, EditOutlined, InfoCircleOutlined} from '@ant-design/icons';\r\nimport {\r\n  Card,\r\n  Menu,\r\n  Layout,\r\n  Empty,\r\n  Spin,\r\n  Button,\r\n  Space,\r\n  Row,\r\n  Col,\r\n  Typography,\r\n  Avatar\r\n} from 'antd';\r\n\r\nimport GroupForm from './Form/Group';\r\nimport ServiceForm from './Form/Service';\r\nimport ServiceDetail from './Detail';\r\n\r\nclass Service extends React.Component {\r\n\r\n  ADD_SERVICE_GROUP = 'add-service-group';\r\n\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      selected: null,\r\n      show: null,\r\n      row: null\r\n    }\r\n  }\r\n\r\n  componentDidMount() {\r\n    this.props.getAllService()\r\n  }\r\n\r\n  componentWillUnmount() {\r\n    this.props.onResetDataState()\r\n  }\r\n\r\n  componentDidUpdate(prevProps, prevState, snapshot) {\r\n    if (!prevProps.created && this.props.created) {\r\n      this.onHideForm();\r\n      this.props.getAllService();\r\n      this.props.onResetStatus();\r\n    }\r\n    if ((!prevProps.edited && this.props.edited)) {\r\n      this.onHideForm();\r\n      this.props.getAllService();\r\n      this.props.onResetStatus();\r\n    }\r\n  }\r\n\r\n  onSelectMenu = ({key}) => {\r\n    if (key !== this.ADD_SERVICE_GROUP) {\r\n      // eslint-disable-next-line\r\n      const [item, index, id] = _.split(key, '-');\r\n      this.setState({selected: parseInt(id)});\r\n    }\r\n  };\r\n\r\n  onShowForm = (kind, row = null) => {\r\n    this.setState({show: kind, row})\r\n  };\r\n\r\n  onHideForm = () => {\r\n    this.setState({show: null, row: null})\r\n  };\r\n\r\n  render() {\r\n\r\n    const {services, loading} = this.props;\r\n\r\n    const {selected, show, row} = this.state;\r\n\r\n    const selectedGroup = selected ? _.find(services, {id: selected}) : null;\r\n\r\n    return (\r\n      <Space direction={'vertical'} style={{width: '100%'}}>\r\n        <Typography.Title level={4}>Service Management</Typography.Title>\r\n        <Card bordered={false}>\r\n          <Spin spinning={loading.service}>\r\n            <Layout style={{minHeight: 600, border: '1px solid #f0f0f0'}}>\r\n              <Layout.Sider className=\"site-layout-background\" width={200}>\r\n                {services.length ?\r\n                  <Menu\r\n                    mode=\"inline\"\r\n                    defaultOpenKeys={['submenu-0']}\r\n                    style={{height: '100%'}}\r\n                    onSelect={this.onSelectMenu}>\r\n                    <Menu.Item key={this.ADD_SERVICE_GROUP} icon={<PlusOutlined/>} onClick={() => this.onShowForm(GroupForm.type.displayName)}>\r\n                      Add Service Group\r\n                    </Menu.Item>\r\n                    <Menu.Divider/>\r\n                    {_.map(services, ({id, name, icon}, index) =>\r\n                      <Menu.Item key={'item-' + index + '-' + id} icon={<Icon type={icon}/>}>{name}</Menu.Item>)}\r\n                  </Menu>\r\n                : <Empty/>}\r\n              </Layout.Sider>\r\n              <Layout.Content style={{padding: '0 24px'}}>\r\n                {selectedGroup ?\r\n                <Space direction={'vertical'} style={{margin: '24px 0', width: '100%'}}>\r\n                  <Button type=\"primary\"\r\n                          icon={<EditOutlined/>}\r\n                          onClick={() => this.onShowForm(GroupForm.type.displayName, selectedGroup)}>\r\n                    Edit Group\r\n                  </Button>\r\n                  <Row gutter={[16]}>\r\n                    {_.map(selectedGroup.services, (service) => (\r\n                      <Col {...{xxl: 6, xl: 8, lg: 12, sm: 24}}>\r\n                        <Card className={'service-box'}\r\n                              actions={[\r\n                                <EditOutlined onClick={() => this.onShowForm(ServiceForm.type.displayName, service)}/>,\r\n                                <InfoCircleOutlined\r\n                                  onClick={() => this.onShowForm('detail-service', {service_group: selectedGroup.name, ...service})}/>\r\n                              ]}>\r\n                          <Card.Meta\r\n                            avatar={<Avatar style={{color: '#f56a00', backgroundColor: '#fde3cf'}}\r\n                                            icon={<Icon type={service.icon}/>}/>}\r\n                            title={service.name}\r\n                            description={selectedGroup.name}\r\n                            style={{marginBottom: 16}}\r\n                          />\r\n                          <Typography.Paragraph ellipsis={{rows: 2}}\r\n                                                style={{margin: 0}}>{service.description}</Typography.Paragraph>\r\n                        </Card>\r\n                      </Col>\r\n                    ))}\r\n                    <Col {...{xxl: 6, xl: 8, lg: 12, sm: 24}}>\r\n                      <Button style={{height: '100%', minHeight: 180}} type=\"dashed\" icon={<PlusOutlined/>} block\r\n                              onClick={() => this.onShowForm(ServiceForm.type.displayName, {service_group_id: selectedGroup.id})}>\r\n                        Add Service\r\n                      </Button>\r\n                    </Col>\r\n                  </Row>\r\n                </Space>\r\n                : <Empty image={Empty.PRESENTED_IMAGE_SIMPLE}/>}\r\n\r\n                <GroupForm show={show === GroupForm.type.displayName} onCancel={this.onHideForm} row={row}/>\r\n\r\n                <ServiceForm show={show === ServiceForm.type.displayName} onCancel={this.onHideForm} row={row}/>\r\n\r\n                <ServiceDetail show={show === 'detail-service'} onCancel={this.onHideForm} row={row}/>\r\n\r\n              </Layout.Content>\r\n            </Layout>\r\n          </Spin>\r\n        </Card>\r\n      </Space>\r\n    );\r\n  }\r\n\r\n}\r\n\r\nconst mapStateToProps = (store) => {\r\n  const {service: {services, status: {created, edited}}} = store;\r\n  return {\r\n    loading: {\r\n      service: isLoading(store, GET_ALL_SERVICE),\r\n    },\r\n    services, created, edited\r\n  }\r\n};\r\n\r\nexport default connect(mapStateToProps, {\r\n  getAllService,\r\n  onResetStatus,\r\n  onResetDataState\r\n})(Service);","import React from 'react';\r\nimport {Link} from 'react-router-dom';\r\nimport IntlMessages from 'util/IntlMessages';\r\nimport { Result, Button, Row, Col } from 'antd';\r\n\r\nconst Error403 = () => (\r\n  <Row type=\"flex\" justify=\"center\" align=\"middle\" style={{minHeight: '100vh'}}>\r\n    <Col>\r\n      <Result\r\n        status=\"403\"\r\n        title=\"403\"\r\n        subTitle={<IntlMessages id={'extraPages.403Msg'}/>}\r\n        extra={\r\n          <Link to={'/'}>\r\n            <Button type=\"primary\"><IntlMessages id={'extraPages.goHome'}/></Button>\r\n          </Link>\r\n        }\r\n      />\r\n    </Col>\r\n  </Row>\r\n);\r\n\r\nexport default Error403;\r\n","import React from 'react';\r\nimport {Link} from 'react-router-dom';\r\nimport IntlMessages from 'util/IntlMessages';\r\nimport { Result, Button, Row, Col } from 'antd';\r\n\r\nconst Error404 = () => (\r\n  <Row type=\"flex\" justify=\"center\" align=\"middle\" style={{minHeight: '100vh'}}>\r\n    <Col>\r\n      <Result\r\n        status=\"404\"\r\n        title=\"404\"\r\n        subTitle={<IntlMessages id={'extraPages.404Msg'}/>}\r\n        extra={\r\n          <Link to={'/'}>\r\n            <Button type=\"primary\"><IntlMessages id={'extraPages.goHome'}/></Button>\r\n          </Link>\r\n        }\r\n      />\r\n    </Col>\r\n  </Row>\r\n);\r\n\r\nexport default Error404;\r\n","import React from 'react';\r\nimport {connect} from 'react-redux';\r\nimport {notification} from 'antd';\r\n\r\nimport {onResetNotification} from '../../actions/Notification'\r\n\r\nclass Notification extends React.Component {\r\n\r\n  componentDidUpdate(prevProps, prevState, snapshot) {\r\n    const {title, message, severity} = this.props;\r\n\r\n    if (severity) {\r\n      notification[severity]({\r\n        message: title,\r\n        description: message,\r\n        onClose: () => {\r\n          this.props.onResetNotification()\r\n        }\r\n      });\r\n    }\r\n  }\r\n\r\n  render() {\r\n    return null\r\n  }\r\n\r\n}\r\n\r\nconst mapStateToProps = ({ui}) => {\r\n  const {title, message, severity} = ui.notification;\r\n  return {title, message, severity}\r\n};\r\n\r\nexport default connect(mapStateToProps, {onResetNotification})(Notification)","import {\r\n  SHOW_MESSAGE,\r\n  NOTIFICATION_ERROR,\r\n  GET_USAGE,\r\n  UI_START_ACTION,\r\n  UI_STOP_ACTION,\r\n} from \"../constants/ActionTypes\";\r\n\r\nimport axios from 'util/Api'\r\nimport moment from 'moment'\r\n\r\nexport const getUsage = (service_id, start = moment().startOf('month'), end = moment().endOf('month')) => {\r\n  return dispatch => {\r\n    dispatch({type: UI_START_ACTION, name: GET_USAGE});\r\n    axios.get(`service/user/${service_id}`, {params: {start: start.format('YYYY-MM-DD'), \r\n        end: end.format('YYYY-MM-DD')}}).then(({data}) => {\r\n      dispatch({type: UI_STOP_ACTION, name: GET_USAGE});\r\n      dispatch({type: GET_USAGE, payload: data.data});\r\n    }).catch(({response}) => {\r\n      dispatch({type: UI_STOP_ACTION, name: GET_USAGE});\r\n      if (response) {\r\n        console.log(\"Error****:\", response.message);\r\n        dispatch({type: SHOW_MESSAGE, title: 'Service error.', message: response.data.message, severity: NOTIFICATION_ERROR})\r\n      }\r\n    });\r\n  }\r\n};\r\n\r\nexport const getServiceUsage = (service_id, user_id, start = moment().startOf('month'), end = moment().endOf('month')) => {\r\n  return dispatch => {\r\n    dispatch({type: UI_START_ACTION, name: GET_USAGE});\r\n    axios.get(`service/usage/${service_id}/${user_id}`, {params: {start: start.format('YYYY-MM-DD'), \r\n        end: end.format('YYYY-MM-DD')}}).then(({data}) => {\r\n      dispatch({type: UI_STOP_ACTION, name: GET_USAGE});\r\n      dispatch({type: GET_USAGE, payload: data.data});\r\n    }).catch(({response}) => {\r\n      dispatch({type: UI_STOP_ACTION, name: GET_USAGE});\r\n      if (response) {\r\n        console.log(\"Error****:\", response.message);\r\n        dispatch({type: SHOW_MESSAGE, title: 'Service error.', message: response.data.message, severity: NOTIFICATION_ERROR})\r\n      }\r\n    });\r\n  }\r\n};","import {\r\n  SHOW_MESSAGE,\r\n  NOTIFICATION_ERROR,\r\n  VERIFY_EMAIL,\r\n  VERIFY_PASSWORD,\r\n  UI_START_ACTION,\r\n  UI_STOP_ACTION,\r\n} from \"../constants/ActionTypes\";\r\n\r\nimport axios from 'util/Api'\r\n\r\nexport const verifyEmail = (token) => {\r\n  return dispatch => {\r\n    if (token) {\r\n      dispatch({type: UI_START_ACTION, name: VERIFY_EMAIL});\r\n      axios.post(`user/verify/email`, {}, {params: {token}}).then(() => {\r\n        dispatch({type: UI_STOP_ACTION, name: VERIFY_EMAIL});\r\n        dispatch({type: VERIFY_EMAIL, success: true});\r\n      }).catch(({response}) => {\r\n        dispatch({type: UI_STOP_ACTION, name: VERIFY_EMAIL});\r\n        if (response) {\r\n          console.log(\"Error****:\", response.message);\r\n          if (response.status === 404)\r\n            dispatch({type: VERIFY_EMAIL, success: false});\r\n          else\r\n            dispatch({\r\n              type: SHOW_MESSAGE,\r\n              title: 'Verification error.',\r\n              message: response.data.message,\r\n              severity: NOTIFICATION_ERROR\r\n            })\r\n        }\r\n      });\r\n    } else {\r\n      dispatch({type: VERIFY_EMAIL, success: false});\r\n    }\r\n  }\r\n};\r\n\r\nexport const verifyPassword = (token, password) => {\r\n  return dispatch => {\r\n    if (token) {\r\n      dispatch({type: UI_START_ACTION, name: VERIFY_PASSWORD});\r\n      axios.post(`user/verify/password`, {password}, {params: {token}}).then(() => {\r\n        dispatch({type: UI_STOP_ACTION, name: VERIFY_PASSWORD});\r\n        dispatch({type: VERIFY_PASSWORD, success: true});\r\n      }).catch(({response}) => {\r\n        dispatch({type: UI_STOP_ACTION, name: VERIFY_PASSWORD});\r\n        if (response) {\r\n          console.log(\"Error****:\", response.message);\r\n          if (response.status === 404)\r\n            dispatch({type: VERIFY_PASSWORD, success: false});\r\n          else\r\n            dispatch({\r\n              type: SHOW_MESSAGE,\r\n              title: 'Verification error.',\r\n              message: response.data.message,\r\n              severity: NOTIFICATION_ERROR\r\n            })\r\n        }\r\n      });\r\n    } else {\r\n      dispatch({type: VERIFY_PASSWORD, success: false});\r\n    }\r\n  }\r\n};","import {\r\n  SHOW_MESSAGE,\r\n  NOTIFICATION_ERROR,\r\n  \r\n  ADD_ADD_ON,\r\n  EDIT_ADD_ON,\r\n\r\n  UI_START_ACTION,\r\n  UI_STOP_ACTION,\r\n} from \"../constants/ActionTypes\";\r\n\r\nimport axios from 'util/Api'\r\n\r\nexport const addAddOn = (payload) => {\r\n  return dispatch => {\r\n    dispatch({type: UI_START_ACTION, name: ADD_ADD_ON});\r\n    axios.post(`add-on`, payload).then(({data}) => {\r\n      dispatch({type: UI_STOP_ACTION, name: ADD_ADD_ON});\r\n      dispatch({type: ADD_ADD_ON});\r\n    }).catch(({response}) => {\r\n      dispatch({type: UI_STOP_ACTION, name: ADD_ADD_ON});\r\n      if (response) {\r\n        console.log(\"Error****:\", response.message);\r\n        dispatch({type: SHOW_MESSAGE, title: 'Service error.', message: response.data.message, severity: NOTIFICATION_ERROR})\r\n      }\r\n    });\r\n  }\r\n};\r\n\r\nexport const editAddOn = (id, payload) => {\r\n  return dispatch => {\r\n    dispatch({type: UI_START_ACTION, name: EDIT_ADD_ON});\r\n    axios.post(`add-on/${id}`, payload).then(({data}) => {\r\n      dispatch({type: UI_STOP_ACTION, name: EDIT_ADD_ON});\r\n      dispatch({type: EDIT_ADD_ON});\r\n    }).catch(({response}) => {\r\n      dispatch({type: UI_STOP_ACTION, name: EDIT_ADD_ON});\r\n      if (response) {\r\n        console.log(\"Error****:\", response.message);\r\n        dispatch({type: SHOW_MESSAGE, title: 'Service error.', message: response.data.message, severity: NOTIFICATION_ERROR})\r\n      }\r\n    });\r\n  }\r\n};","import {\r\n  SHOW_MESSAGE,\r\n  NOTIFICATION_ERROR,\r\n\r\n  GET_API_KEY,\r\n  ADD_API_KEY,\r\n  UI_START_ACTION,\r\n  UI_STOP_ACTION,\r\n} from \"../constants/ActionTypes\";\r\n\r\nimport axios from 'util/Api'\r\n\r\nexport const getAPIKey = () => {\r\n  return dispatch => {\r\n    dispatch({type: UI_START_ACTION, name: GET_API_KEY});\r\n    axios.get('api-key').then(({data}) => {\r\n      dispatch({type: UI_STOP_ACTION, name: GET_API_KEY});\r\n      dispatch({type: GET_API_KEY, payload: data.data});\r\n    }).catch(({response}) => {\r\n      dispatch({type: UI_STOP_ACTION, name: GET_API_KEY});\r\n      if (response) {\r\n        console.log(\"Error****:\", response.message);\r\n        dispatch({type: SHOW_MESSAGE, title: 'API key error.', message: response.data.message, severity: NOTIFICATION_ERROR})\r\n      }\r\n    });\r\n  }\r\n};\r\n\r\nexport const addAPIKey = () => {\r\n  return dispatch => {\r\n    dispatch({type: UI_START_ACTION, name: ADD_API_KEY});\r\n    axios.post('api-key').then(({data}) => {\r\n      dispatch({type: UI_STOP_ACTION, name: ADD_API_KEY});\r\n      dispatch({type: ADD_API_KEY});\r\n    }).catch(({response}) => {\r\n      dispatch({type: UI_STOP_ACTION, name: ADD_API_KEY});\r\n      if (response) {\r\n        console.log(\"Error****:\", response.message);\r\n        dispatch({type: SHOW_MESSAGE, title: 'API key error.', message: response.data.message, severity: NOTIFICATION_ERROR})\r\n      }\r\n    });\r\n  }\r\n};","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport reportWebVitals from './reportWebVitals';\n\nconst rootEl = document.getElementById('app-site');\n\n// Create a reusable render method that we can call more than once\nlet render = () => {\n  // Dynamically import our main MainApp component, and render it\n  const MainApp = require('./MainApp').default;\n  ReactDOM.render(\n    <MainApp/>,\n    rootEl\n  );\n};\n\nif (module.hot) {\n  module.hot.accept('./MainApp', () => {\n    const MainApp = require('./MainApp').default;\n    render(\n      <MainApp/>,\n      rootEl\n    );\n  });\n}\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n\nrender();","export {default as Docs} from './docs';\r\nexport {default as Overview} from './overview';","import React from 'react';\r\n\r\nimport DocsHeader from \"../DocsHeader\";\r\n\r\nimport {Table, Typography, Space, Tooltip, Row, Col, Anchor} from 'antd';\r\nimport { magenta } from '@ant-design/colors';\r\n\r\nimport { PrismLight as SyntaxHighlighter } from 'react-syntax-highlighter';\r\nimport json from 'react-syntax-highlighter/dist/esm/languages/prism/json';\r\nimport material from 'react-syntax-highlighter/dist/esm/styles/prism/material-light';\r\n\r\nSyntaxHighlighter.registerLanguage('json', json);\r\n\r\nconst Docs = () => {\r\n\r\n  const GATEWAY_URL = 'https://api.mysights.id/api';\r\n\r\n  const column = [\r\n    {\r\n      title: 'Property',\r\n      dataIndex: 'property',\r\n      key: 'propery',\r\n      render: (text, {required}) =>\r\n        <Typography.Text strong>{text} {required &&\r\n        <Tooltip title={'required'}><Typography.Text type={'danger'}>*</Typography.Text></Tooltip>}</Typography.Text>\r\n    },\r\n    {\r\n      title: 'Description',\r\n      dataIndex: 'description',\r\n      key: 'description'\r\n    },\r\n    {\r\n      title: 'Type',\r\n      dataIndex: 'type',\r\n      key: 'type',\r\n      render: (text) => <Typography.Text style={{color: magenta[6]}}>{text}</Typography.Text>\r\n    },\r\n    {\r\n      title: 'Default',\r\n      dataIndex: 'default',\r\n      key: 'default',\r\n      render: (text) => <>{text ? text : '-'}</>\r\n    },\r\n  ];\r\n\r\n  return (\r\n    <Row wrap={false} gutter={[16]}>\r\n      <Col flex=\"auto\">\r\n        <Space direction={'vertical'} style={{width: '100%'}}>\r\n          <DocsHeader level={3} text={'API Request'} link={'#request'}/>\r\n\r\n          <DocsHeader level={4} text={'URL'} link={'#request-url'}/>\r\n          <Typography.Text code\r\n                           copyable={{text: `${GATEWAY_URL}/soap/route/route-optimization?[params]`}}><Typography.Text\r\n            strong\r\n            type=\"warning\">POST</Typography.Text> {GATEWAY_URL}/soap/route/route-optimization?[params]</Typography.Text>\r\n\r\n          <DocsHeader level={4} text={'Params'} link={'#request-params'}/>\r\n          <Table bordered pagination={false} columns={column} dataSource={[\r\n            {\r\n              property: 'api_key',\r\n              description: 'Your api key provided by mysights portal',\r\n              type: 'string',\r\n              required: true\r\n            },\r\n            {\r\n              property: 'routing_type',\r\n              description: <ul>\r\n                <li><Typography.Text code>point</Typography.Text> : route use exact latlong to determine pool-to-point\r\n                  distance\r\n                </li>\r\n                <li><Typography.Text code>realtime</Typography.Text> : route use realtime actual pool-to-point distance\r\n                  using distance-matrix service\r\n                </li>\r\n                <li><Typography.Text code>historical</Typography.Text> : route use pre-registered pool-to-point distance\r\n                  using distance-matrix service, unregistered point will be rejected\r\n                </li>\r\n                <li><Typography.Text code>historicalplus</Typography.Text> : route use pre-registered pool-to-point distance\r\n                  using distance-matrix service, unregistered point will be accepted (+additional charge)\r\n                </li>\r\n              </ul>,\r\n              type: <>\r\n                <Typography.Text code>point</Typography.Text> | <Typography.Text\r\n                code>realtime</Typography.Text> | <Typography.Text code>historical</Typography.Text> | <Typography.Text\r\n                code>historicalplus</Typography.Text>\r\n              </>,\r\n              default: <Typography.Text code>point</Typography.Text>\r\n            },\r\n            {\r\n              property: 'multiple_days',\r\n              description: 'Routing with multiple days timeframe.',\r\n              type: 'boolean',\r\n              default: <Typography.Text code>false</Typography.Text>\r\n            }\r\n          ]}/>\r\n\r\n          <DocsHeader level={4} text={'Body'} link={'#request-body'}/>\r\n          <Table bordered pagination={false} columns={column} dataSource={[\r\n            {\r\n              property: 'deliveries',\r\n              description: 'Specification of point and goods to be delivered',\r\n              type: <><Typography.Link href={'#request-body-delivery'}>Delivery</Typography.Link>[]</>,\r\n              required: true\r\n            },\r\n            {\r\n              property: 'vehicles',\r\n              description: 'Specification of vehicle used to deliver good',\r\n              type: <><Typography.Link href={'#request-body-vehicle'}>Vehicle</Typography.Link>[]</>,\r\n              required: true\r\n            },\r\n            {\r\n              property: 'depot',\r\n              description: 'Specification of depot/pool for delivery central',\r\n              type: <><Typography.Link href={'#request-body-depot'}>Depot</Typography.Link></>,\r\n              required: true\r\n            }\r\n          ]}/>\r\n\r\n          <DocsHeader level={5} text={'Delivery'} link={'#request-body-delivery'}/>\r\n          <Typography.Text>One of the <Typography.Text code>deliveries</Typography.Text> prop for describing the\r\n            customer point.</Typography.Text>\r\n          <Table bordered pagination={false} columns={column} dataSource={[\r\n            {\r\n              property: 'customer_id',\r\n              description: 'Key of customer point / customer name',\r\n              type: 'string',\r\n              required: true\r\n            },\r\n            {\r\n              property: 'delivery_id',\r\n              description: 'Unique key of delivery',\r\n              type: 'string',\r\n              required: true\r\n            },\r\n            {\r\n              property: 'delivery_date',\r\n              description: 'Date of delivery',\r\n              type: 'string',\r\n              required: true\r\n            },\r\n            {\r\n              property: 'weight_total',\r\n              description: 'Total weight of goods to be delivered, unit must be the same as the unit weight used on the vehicle',\r\n              type: 'float',\r\n              required: true\r\n            },\r\n            {\r\n              property: 'volume_total',\r\n              description: 'Total volume of goods to be delivered, unit must be the same as the unit volume used on the vehicle',\r\n              type: 'float',\r\n              required: true\r\n            },\r\n            {\r\n              property: 'latitude',\r\n              description: 'Geographic coordinate that specifies the northsouth position of customer point',\r\n              type: 'float',\r\n              required: true\r\n            },\r\n            {\r\n              property: 'longitude',\r\n              description: 'Geographic coordinate that specifies the east-west position of customer point',\r\n              type: 'float',\r\n              required: true\r\n            },\r\n            {\r\n              property: 'open',\r\n              description: 'Time window / time visit for the customer point open time (e.g. 08:00)',\r\n              type: 'string',\r\n              required: true\r\n            },\r\n            {\r\n              property: 'close',\r\n              description: 'Time window / time visit for the customer point close time (e.g. 17:00)',\r\n              type: 'string',\r\n              required: true\r\n            },\r\n            {\r\n              property: 'vehicle_type',\r\n              description: 'Restrictions on the types of vehicles allowed to access the delivery point',\r\n              type: 'string[]',\r\n              required: true\r\n            }\r\n          ]}/>\r\n\r\n          <DocsHeader level={5} text={'Vehicle'} link={'#request-body-vehicle'}/>\r\n          <Typography.Text>One of the <Typography.Text code>vehicles</Typography.Text> prop for describing the vehicle\r\n            used.</Typography.Text>\r\n          <Table bordered pagination={false} columns={column} dataSource={[\r\n            {\r\n              property: 'id',\r\n              description: 'Unique key of vehicle / license plate',\r\n              type: 'string',\r\n              required: true\r\n            },\r\n            {\r\n              property: 'type',\r\n              description: 'Vehicle type (e.g. truck, box)',\r\n              type: 'string',\r\n              required: true\r\n            },\r\n            {\r\n              property: 'supir',\r\n              description: 'Driver name',\r\n              type: 'string',\r\n              required: true\r\n            },\r\n            {\r\n              property: 'kenek',\r\n              description: 'Co-driver name',\r\n              type: 'float',\r\n              required: true\r\n            },\r\n            {\r\n              property: 'volume',\r\n              description: 'Vehicle volume (delivery volume constraint)',\r\n              type: 'float',\r\n              required: true\r\n            },\r\n            {\r\n              property: 'weight',\r\n              description: 'Vehicle weight (delivery weight constraint)',\r\n              type: 'float',\r\n              required: true\r\n            }\r\n          ]}/>\r\n\r\n          <DocsHeader level={5} text={'Depot'} link={'#request-body-depot'}/>\r\n          <Typography.Text><Typography.Text code>depot</Typography.Text> prop for describing the\r\n            depot.</Typography.Text>\r\n          <Table bordered pagination={false} columns={column} dataSource={[\r\n            {\r\n              property: 'depot_id',\r\n              description: 'Unique key of depot/pool',\r\n              type: 'string',\r\n              required: true\r\n            },\r\n            {\r\n              property: 'latitude',\r\n              description: 'Geographic coordinate that specifies the northsouth position of depot/pool',\r\n              type: 'float',\r\n              required: true\r\n            },\r\n            {\r\n              property: 'longitude',\r\n              description: 'Geographic coordinate that specifies the east-west position of depot/pool',\r\n              type: 'float',\r\n              required: true\r\n            },\r\n            {\r\n              property: 'open',\r\n              description: 'Time window / time visit for the depot open time (e.g. 08:00)',\r\n              type: 'string',\r\n              required: true\r\n            },\r\n            {\r\n              property: 'close',\r\n              description: 'Time window / time visit for the depot close time (e.g. 17:00)',\r\n              type: 'string',\r\n              required: true\r\n            }\r\n          ]}/>\r\n\r\n          <DocsHeader level={5} text={'Request Example'} link={'#request-body-example'}/>\r\n          <SyntaxHighlighter language=\"json\" style={material}>\r\n            {JSON.stringify(require('./request.json'), null, \"\\t\")}\r\n          </SyntaxHighlighter>\r\n\r\n          <DocsHeader level={3} text={'API Response'} link={'#response'}/>\r\n\r\n          <DocsHeader level={4} text={'Body'} link={'#response-body'}/>\r\n          <Table bordered pagination={false} columns={column} dataSource={[\r\n            {\r\n              property: 'status_code',\r\n              description: 'Response status code',\r\n              type: 'number',\r\n            },\r\n            {\r\n              property: 'message',\r\n              description: 'Response message',\r\n              type: 'string',\r\n            },\r\n            {\r\n              property: 'data',\r\n              description: 'Response data result',\r\n              type: <><Typography.Link href={'#response-body-data'}>Data</Typography.Link></>,\r\n            }\r\n          ]}/>\r\n\r\n          <DocsHeader level={5} text={'Response Data'} link={'#response-body-data'}/>\r\n          <Table bordered pagination={false} columns={column} dataSource={[\r\n            {\r\n              property: 'depot_id',\r\n              description: 'Unique key of depot/pool result',\r\n              type: 'string',\r\n            },\r\n            {\r\n              property: 'detail',\r\n              description: 'Route result of related depot',\r\n              type: <><Typography.Link href={'#response-body-route'}>Route</Typography.Link>[]</>,\r\n            }\r\n          ]}/>\r\n\r\n          <DocsHeader level={5} text={'Route'} link={'#response-body-route'}/>\r\n          <Typography.Text>One of the<Typography.Text code>route</Typography.Text> prop for describing the\r\n            route optimization result.</Typography.Text>\r\n          <Table bordered pagination={false} columns={column} dataSource={[\r\n            {\r\n              property: 'SJ_id',\r\n              description: 'Unique key of route (generated)',\r\n              type: 'string',\r\n            },\r\n            {\r\n              property: 'date',\r\n              description: 'Date of route result',\r\n              type: 'string',\r\n            },\r\n            {\r\n              property: 'vehicle_id',\r\n              description: 'Unique key of selected vehicle / license plate',\r\n              type: 'string',\r\n            },\r\n            {\r\n              property: 'distance',\r\n              description: 'Total distance of one route (meters)',\r\n              type: 'number',\r\n            },\r\n            {\r\n              property: 'duration',\r\n              description: 'Duration estimation needed of one route (minutes)',\r\n              type: 'number',\r\n            },\r\n            {\r\n              property: 'weight',\r\n              description: 'Total load weight in one vehicle',\r\n              type: 'float',\r\n            },\r\n            {\r\n              property: 'trip',\r\n              description: 'Detail of trip / point visited',\r\n              type: <><Typography.Link href={'#response-body-trip'}>Trip</Typography.Link>[]</>,\r\n            }\r\n          ]}/>\r\n\r\n          <DocsHeader level={5} text={'Trip'} link={'#response-body-trip'}/>\r\n          <Typography.Text>One of the<Typography.Text code>trip</Typography.Text> prop for describing the\r\n            trip / point visited.</Typography.Text>\r\n          <Table bordered pagination={false} columns={column} dataSource={[\r\n            {\r\n              property: 'delivery_id',\r\n              description: 'Unique key of delivery',\r\n              type: 'string',\r\n            },\r\n            {\r\n              property: 'customer_id',\r\n              description: 'Key of customer point / customer name',\r\n              type: 'string',\r\n            },\r\n            {\r\n              property: 'sequence',\r\n              description: 'Order of visit points',\r\n              type: 'number',\r\n            }\r\n          ]}/>\r\n\r\n          <DocsHeader level={5} text={'Response Example'} link={'#response-body-example'}/>\r\n          <SyntaxHighlighter language=\"json\" style={material}>\r\n            {JSON.stringify(require('./response.json'), null, \"\\t\")}\r\n          </SyntaxHighlighter>\r\n\r\n        </Space>\r\n      </Col>\r\n      <Col flex=\"none\">\r\n        <Anchor targetOffset={200}>\r\n          <Anchor.Link href=\"#request\" title=\"Request\">\r\n            <Anchor.Link href=\"#request-url\" title=\"URL\"/>\r\n            <Anchor.Link href=\"#request-params\" title=\"Params\"/>\r\n            <Anchor.Link href=\"#request-body\" title=\"Body\">\r\n              <Anchor.Link href=\"#request-body-delivery\" title=\"Delivery\"/>\r\n              <Anchor.Link href=\"#request-body-vehicle\" title=\"Vehicle\"/>\r\n              <Anchor.Link href=\"#request-body-depot\" title=\"Depot\"/>\r\n            </Anchor.Link>\r\n            <Anchor.Link href=\"#request-body-example\" title=\"Request Example\"/>\r\n          </Anchor.Link>\r\n          <Anchor.Link href=\"#request\" title=\"Response\">\r\n            <Anchor.Link href=\"#response-body\" title=\"Body\">\r\n              <Anchor.Link href=\"#response-body-data\" title=\"Data\"/>\r\n              <Anchor.Link href=\"#response-body-route\" title=\"Route\"/>\r\n              <Anchor.Link href=\"#response-body-trip\" title=\"Trip\"/>\r\n            </Anchor.Link>\r\n            <Anchor.Link href=\"#response-body-example\" title=\"Response Example\"/>\r\n          </Anchor.Link>\r\n        </Anchor>\r\n      </Col>\r\n    </Row>\r\n  );\r\n};\r\n\r\nexport default Docs","import React from 'react';\r\n\r\nimport DocsHeader from \"../DocsHeader\";\r\n\r\nimport {Image, Typography, Space, Row, Col, Anchor} from 'antd';\r\n\r\nimport banner from './RollBanner_Introduction.png';\r\n\r\nconst Overview = () => {\r\n\r\n  return (\r\n    <Row wrap={false} gutter={[16]}>\r\n      <Col flex=\"auto\">\r\n        <Space direction={'vertical'} style={{width: '100%'}}>\r\n\r\n          <Row wrap={false} gutter={[16]}>\r\n            <Col flex=\"auto\">\r\n              <DocsHeader level={4} text={'Overview'} link={'#overview'}/>\r\n              <Typography.Paragraph>Route Optimizer (Service Optimization Analytic Platform/SOAP) service used to\r\n                optimize the delivery of goods which includes vehicle selection, goods-vehicles mapping, and optimal\r\n                route search to reduce shipping costs. This service is suitable for logistic, wholesale, retail,\r\n                manufacture, and other related service.</Typography.Paragraph>\r\n\r\n              <DocsHeader level={4} text={'Features'} link={'#features'}/>\r\n              <ul>\r\n                <li>Route Optimization</li>\r\n                <li>Recurring Routes</li>\r\n                <li>Vehicle Choices</li>\r\n                <li>Vehicle Capacity Optimization</li>\r\n                <li>Customer Time Window</li>\r\n                <li>Customer Loading Time</li>\r\n                <li>Customer Point Duration</li>\r\n              </ul>\r\n            </Col>\r\n            <Col flex=\"none\">\r\n              <Image\r\n                width={300}\r\n                src={banner}\r\n              />\r\n            </Col>\r\n          </Row>\r\n\r\n        </Space>\r\n      </Col>\r\n      <Col flex=\"none\">\r\n        <Anchor targetOffset={200}>\r\n          <Anchor.Link href=\"#overview\" title=\"Overview\"/>\r\n          <Anchor.Link href=\"#features\" title=\"Features\"/>\r\n        </Anchor>\r\n      </Col>\r\n    </Row>\r\n  );\r\n\r\n};\r\n\r\nexport default Overview","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import {\r\n  SWITCH_LANGUAGE, TOGGLE_COLLAPSED_NAV, TOGGLE_SETTING\r\n} from \"../constants/ActionTypes\";\r\n\r\nconst init = {\r\n  openSetting: false,\r\n  navCollapsed: true,\r\n  locale: {\r\n    languageId: 'english',\r\n    locale: 'en',\r\n    name: 'English',\r\n    icon: 'us'\r\n  }\r\n};\r\n\r\nconst settings = (state = init, action) => {\r\n  switch (action.type) {\r\n    case TOGGLE_COLLAPSED_NAV:\r\n      return {...state, navCollapsed: action.isNavCollapsed};\r\n    case SWITCH_LANGUAGE:\r\n      return {...state, locale: action.payload};\r\n    case TOGGLE_SETTING:\r\n      return {...state, openSetting: action.isSettingOpened};\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n\r\nexport default settings;","import {INIT_URL, LOG_OUT, USER_DATA, USER_TOKEN_SET, LOG_IN, SIGN_UP, FORGOT, RESET_STATUS} from \"../constants/ActionTypes\";\r\n\r\nconst INIT_STATE = {\r\n  token: localStorage.getItem('token'),\r\n  initURL: '',\r\n  authUser: null,\r\n  menu: [],\r\n  status: {\r\n    signedUp: null,\r\n    loggedIn: null,\r\n    forgot: null\r\n  }\r\n};\r\n\r\nconst Auth = (state = INIT_STATE, action) => {\r\n  switch (action.type) {\r\n    case INIT_URL: {\r\n      return {...state, initURL: action.payload};\r\n    }\r\n    case SIGN_UP: {\r\n      return {...state, status: {...state.status, signedUp: true}}\r\n    }\r\n    case LOG_IN: {\r\n      return {...state, status: {...state.status, loggedIn: true}}\r\n    }\r\n    case FORGOT: {\r\n      return {...state, status: {...state.status, forgot: true}}\r\n    }\r\n    case LOG_OUT: {\r\n      return {\r\n        ...state,\r\n        token: null,\r\n        authUser: null,\r\n        menu: [],\r\n        initURL: ''\r\n      }\r\n    }\r\n    case USER_DATA: {\r\n      return {\r\n        ...state,\r\n        authUser: action.payload,\r\n        menu: action.menu\r\n      };\r\n    }\r\n    case USER_TOKEN_SET: {\r\n      return {\r\n        ...state,\r\n        token: action.payload,\r\n      };\r\n    }\r\n    case RESET_STATUS: {\r\n      return {...state, status: INIT_STATE.status}\r\n    }\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n\r\nexport default Auth;","import {VERIFY_EMAIL, VERIFY_PASSWORD, RESET_STATUS} from \"../constants/ActionTypes\";\r\n\r\nconst INIT_STATE = {\r\n  status: {\r\n    email: null,\r\n    password: null\r\n  }\r\n};\r\n\r\nconst Auth = (state = INIT_STATE, action) => {\r\n  switch (action.type) {\r\n    case VERIFY_EMAIL:\r\n      return {...state, status: {...state.status, email: action.success}};\r\n    case VERIFY_PASSWORD:\r\n      return {...state, status: {...state.status, password: action.success}};\r\n    case RESET_STATUS:\r\n      return {...state, status: INIT_STATE.status};\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n\r\nexport default Auth;","import {UI_START_ACTION, UI_STOP_ACTION, SHOW_MESSAGE, HIDE_MESSAGE, NOTIFICATION_INFO} from '../constants/ActionTypes'\r\n\r\nconst INIT_STATE = {\r\n  loader: {\r\n    actions: [] // {name, param}\r\n  },\r\n  notification: {\r\n    title: null,\r\n    message: null,\r\n    severity: null\r\n  }\r\n};\r\n\r\nconst uiReducer = (state = INIT_STATE, action) => {\r\n  const {loader} = state;\r\n  const {actions} = loader;\r\n\r\n  switch (action.type) {\r\n    case UI_START_ACTION:\r\n      return {\r\n        ...state, loader: {...loader, actions: [...actions, {name: action.name, param: action.param}]}\r\n      };\r\n    case UI_STOP_ACTION:\r\n      return {\r\n        ...state, loader: {...loader, actions: actions.filter(item => item.name !== action.name)}\r\n      };\r\n    case SHOW_MESSAGE: {\r\n      return {\r\n        ...state, notification: {title: action.title, message: action.message, severity: action.severity ? action.severity : NOTIFICATION_INFO}\r\n      };\r\n    }\r\n    case HIDE_MESSAGE: {\r\n      return {\r\n        ...state, notification: INIT_STATE.notification\r\n      };\r\n    }\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n\r\nexport default uiReducer;","import {\r\n  GET_ALL_SERVICE,\r\n  GET_ONE_SERVICE,\r\n  GET_SUBSCRIBED_SERVICE,\r\n  RESET_DATA_STATE,\r\n  RESET_STATUS,\r\n  ADD_SERVICE,\r\n  ADD_SERVICE_GROUP,\r\n  EDIT_SERVICE,\r\n  EDIT_SERVICE_GROUP\r\n} from \"../constants/ActionTypes\";\r\n\r\nconst INIT_STATE = {\r\n  services: [],\r\n  service: null,\r\n  status: {\r\n    created: null,\r\n    edited: null\r\n  }\r\n};\r\n\r\nconst Service = (state = INIT_STATE, action) => {\r\n  switch (action.type) {\r\n    case GET_ALL_SERVICE:\r\n      return {...state, services: action.payload};\r\n    case GET_ONE_SERVICE:\r\n      return {...state, service: action.payload};\r\n    case GET_SUBSCRIBED_SERVICE:\r\n      return {...state, services: action.payload};\r\n    case ADD_SERVICE:\r\n      return {...state, status: {...state.status, created: true}};\r\n    case ADD_SERVICE_GROUP:\r\n      return {...state, status: {...state.status, created: true}};\r\n    case EDIT_SERVICE:\r\n      return {...state, status: {...state.status, edited: true}};\r\n    case EDIT_SERVICE_GROUP:\r\n      return {...state, status: {...state.status, edited: true}};\r\n    case RESET_STATUS:\r\n      return {...state, status: INIT_STATE.status};\r\n    case RESET_DATA_STATE:\r\n      return INIT_STATE;\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n\r\nexport default Service;","import {\r\n  GET_SUBSCRIPTION,\r\n  GET_ONE_SUBSCRIPTION,\r\n  GET_SUBSCRIPTION_SUMMARY,\r\n  GET_SUBSCRIPTION_ADD_ONS,\r\n  GET_SUBSCRIPTION_TIMELINE,\r\n  GET_SUBSCRIPTION_DAILY_USAGE,\r\n  ADD_SUBSCRIPTION,\r\n  EDIT_SUBSCRIPTION,\r\n  RESET_STATUS,\r\n  RESET_DATA_STATE, GET_SUBSCRIPTION_QUOTA\r\n} from \"../constants/ActionTypes\";\r\n\r\nconst INIT_STATE = {\r\n  subscriptions: [],\r\n  subscription: null,\r\n  summary: null,\r\n  addOns: [],\r\n  timeline: [],\r\n  dailyUsage: {},\r\n  quota: {},\r\n  status: {\r\n    created: null,\r\n    edited: null\r\n  }\r\n};\r\n\r\nconst Subscription = (state = INIT_STATE, action) => {\r\n  switch (action.type) {\r\n    case GET_SUBSCRIPTION:\r\n      return {...state, subscriptions: action.payload};\r\n    case GET_ONE_SUBSCRIPTION:\r\n      return {...state, subscription: action.payload};\r\n    case GET_SUBSCRIPTION_SUMMARY:\r\n      return {...state, summary: action.payload, subscription: {...action.payload, account: state.subscription.account}};\r\n    case GET_SUBSCRIPTION_ADD_ONS:\r\n      return {...state, addOns: action.payload};\r\n    case GET_SUBSCRIPTION_TIMELINE:\r\n      return {...state, timeline: action.payload};\r\n    case GET_SUBSCRIPTION_DAILY_USAGE:\r\n      return {...state, dailyUsage: action.payload};\r\n    case GET_SUBSCRIPTION_QUOTA:\r\n      return {...state, quota: action.payload};\r\n    case ADD_SUBSCRIPTION:\r\n      return {...state, status: {...state.status, created: true}};\r\n    case EDIT_SUBSCRIPTION:\r\n      return {...state, status: {...state.status, edited: true}};\r\n    case RESET_STATUS:\r\n      return {...state, status: INIT_STATE.status};\r\n    case RESET_DATA_STATE:\r\n      return INIT_STATE;\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n\r\nexport default Subscription;","import {GET_PACKAGE, GET_ONE_PACKAGE, RESET_DATA_STATE, RESET_STATUS, ADD_PACKAGE, EDIT_PACKAGE} from \"../constants/ActionTypes\";\r\n\r\nconst INIT_STATE = {\r\n  packages: [],\r\n  package: null,\r\n  status: {\r\n    created: null,\r\n    edited: null\r\n  }\r\n};\r\n\r\nconst Subscription = (state = INIT_STATE, action) => {\r\n  switch (action.type) {\r\n    case GET_PACKAGE:\r\n      return {...state, packages: action.payload};\r\n    case GET_ONE_PACKAGE:\r\n      return {...state, package: action.payload};\r\n    case ADD_PACKAGE:\r\n      return {...state, status: {...state.status, created: true}};\r\n    case EDIT_PACKAGE:\r\n      return {...state, status: {...state.status, edited: true}};\r\n    case RESET_STATUS:\r\n      return {...state, status: INIT_STATE.status};\r\n    case RESET_DATA_STATE:\r\n      return INIT_STATE;\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n\r\nexport default Subscription;","import {GET_USER, GET_SINGLE_USER, EDIT_USER, RESET_DATA_STATE, RESET_STATUS} from \"../constants/ActionTypes\";\r\n\r\nconst INIT_STATE = {\r\n  user: null,\r\n  users: [],\r\n  status: {\r\n    edited: null\r\n  }\r\n};\r\n\r\nconst Subscription = (state = INIT_STATE, action) => {\r\n  switch (action.type) {\r\n    case GET_USER:\r\n      return {...state, users: action.payload};\r\n    case GET_SINGLE_USER:\r\n      return {...state, user: action.payload};\r\n    case EDIT_USER:\r\n      return {...state, status: {...state.status, edited: true}};\r\n    case RESET_STATUS:\r\n      return {...state, status: INIT_STATE.status};\r\n    case RESET_DATA_STATE:\r\n      return INIT_STATE;\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n\r\nexport default Subscription;","import {ADD_API_KEY, GET_API_KEY, RESET_STATUS, RESET_DATA_STATE} from \"../constants/ActionTypes\";\r\n\r\nconst INIT_STATE = {\r\n  keys: [],\r\n  status: {\r\n    created: null,\r\n  }\r\n};\r\n\r\nconst APIKey = (state = INIT_STATE, action) => {\r\n  switch (action.type) {\r\n    case GET_API_KEY:\r\n      return {...state, keys: action.payload};\r\n    case ADD_API_KEY:\r\n      return {...state, status: {...state.status, created: true}};\r\n    case RESET_STATUS:\r\n      return {...state, status: INIT_STATE.status};\r\n    case RESET_DATA_STATE:\r\n      return INIT_STATE;\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n\r\nexport default APIKey;","import {GET_USAGE, RESET_DATA_STATE} from \"../constants/ActionTypes\";\r\n\r\nconst INIT_STATE = {\r\n  service: null\r\n};\r\n\r\nconst Usage = (state = INIT_STATE, action) => {\r\n  switch (action.type) {\r\n    case GET_USAGE:\r\n      return {...state, service: action.payload};\r\n    case RESET_DATA_STATE:\r\n      return INIT_STATE;\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n\r\nexport default Usage;","import {\r\n  GET_ADD_ON,\r\n  ADD_ADD_ON,\r\n  EDIT_ADD_ON,\r\n  RESET_STATUS,\r\n  RESET_DATA_STATE\r\n} from \"../constants/ActionTypes\";\r\n\r\nconst INIT_STATE = {\r\n  addOns: [],\r\n  status: {\r\n    created: null,\r\n    edited: null\r\n  }\r\n};\r\n\r\nconst AddOn = (state = INIT_STATE, action) => {\r\n  switch (action.type) {\r\n    case GET_ADD_ON:\r\n      return {...state, addOns: action.payload};\r\n    case ADD_ADD_ON:\r\n      return {...state, status: {...state.status, created: true}};\r\n    case EDIT_ADD_ON:\r\n      return {...state, status: {...state.status, edited: true}};\r\n    case RESET_STATUS:\r\n      return {...state, status: INIT_STATE.status};\r\n    case RESET_DATA_STATE:\r\n      return INIT_STATE;\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n\r\nexport default AddOn;","import {GET_ACCESS_LOG, RESET_DATA_STATE} from \"../constants/ActionTypes\";\r\n\r\nconst INIT_STATE = {\r\n  logs: []\r\n};\r\n\r\nconst Log = (state = INIT_STATE, action) => {\r\n  switch (action.type) {\r\n    case GET_ACCESS_LOG:\r\n      return {...state, logs: action.payload};\r\n    case RESET_DATA_STATE:\r\n      return INIT_STATE;\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n\r\nexport default Log;","import React, {Component} from 'react';\r\nimport {Redirect, Route, Switch} from 'react-router-dom';\r\nimport {connect} from 'react-redux';\r\nimport {IntlProvider} from 'react-intl'\r\nimport AppLocale from '../lngProvider';\r\n\r\nimport {setInitUrl} from '../actions/Auth';\r\n\r\nimport MainApp from 'app/index';\r\nimport Auth from \"./Auth\";\r\nimport Forgot from './Forgot';\r\n\r\nimport EmailVerification from './Verification/Email';\r\nimport PasswordVerification from './Verification/Password';\r\n\r\nimport Error404 from \"components/Error404\";\r\nimport Error403 from \"components/Error403\";\r\nimport Notification from \"components/Notification\";\r\n\r\nconst AuthenticatedRoute = ({component: Component, token, ...rest}) =>\r\n  <Route\r\n    {...rest}\r\n    render={props =>\r\n      token\r\n        ? <Component {...props}/>\r\n        : <Redirect\r\n          to={{\r\n            pathname: '/login',\r\n            state: {from: props.location}\r\n          }}\r\n        />}\r\n  />;\r\n\r\nclass App extends Component {\r\n\r\n  componentWillMount() {\r\n    const {initURL, history, setInitUrl} = this.props;\r\n    if (initURL === '') setInitUrl(history.location.pathname);\r\n  }\r\n\r\n  render() {\r\n    const {match, location, locale, token, initURL} = this.props;\r\n    if (location.pathname === '/') {\r\n      if (token === null) {\r\n        return ( <Redirect to={'/login'}/> );\r\n      } else if (initURL === '' || initURL === '/' || initURL === '/login') {\r\n        return ( <Redirect to={'/app'}/> );\r\n      } else {\r\n        return ( <Redirect to={initURL}/> );\r\n      }\r\n    }\r\n\r\n    const currentAppLocale = AppLocale[locale.locale];\r\n\r\n    return (\r\n      <IntlProvider\r\n        locale={currentAppLocale.locale}\r\n        messages={currentAppLocale.messages}>\r\n        <div className=\"app-main\">\r\n          <Switch>\r\n            <AuthenticatedRoute path={`${match.url}app`} token={token} component={MainApp}/>\r\n            <Route path='/login' component={Auth}/>\r\n            <Route path='/forgot' component={Forgot}/>\r\n            <Route path='/verify/email' component={EmailVerification}/>\r\n            <Route path='/verify/password' component={PasswordVerification}/>\r\n            <Route path='/404' component={Error404}/>\r\n            <Route path='/403' component={Error403}/>\r\n          </Switch>\r\n          <Notification/>\r\n        </div>\r\n      </IntlProvider>\r\n    );\r\n  }\r\n\r\n}\r\n\r\nconst mapStateToProps = ({settings, auth}) => {\r\n  const {locale} = settings;\r\n  const {token, initURL} = auth;\r\n  return {token, locale, initURL}\r\n};\r\n\r\nexport default connect(mapStateToProps, {setInitUrl})(App);","import appLocaleData from 'react-intl/locale-data/en';\r\nimport enMessages from '../locales/en_US.json';\r\n\r\nconst EnLang = {\r\n  messages: {\r\n    ...enMessages\r\n  },\r\n  locale: 'en-US',\r\n  data: appLocaleData\r\n};\r\nexport default EnLang;\r\n","import React, {Component} from 'react';\r\nimport {connect} from 'react-redux';\r\nimport {NavLink, withRouter} from 'react-router-dom';\r\nimport {Menu, Divider} from 'antd';\r\nimport _ from 'lodash';\r\n\r\nimport {\r\n  AuditOutlined,\r\n  CodeOutlined,\r\n  DesktopOutlined,\r\n  FundProjectionScreenOutlined,\r\n  CreditCardOutlined,\r\n  ApiOutlined,\r\n  FolderOpenOutlined,\r\n  TeamOutlined,\r\n  ShoppingOutlined,\r\n  AppstoreAddOutlined,\r\n  LoginOutlined\r\n} from '@ant-design/icons';\r\n\r\nimport {isAllowed} from '../../store/selectors';\r\nimport {MENU_SUBSCRIPTION, MENU_API_KEY, MENU_USAGE, MENU_SERVICE_USAGE, MENU_SERVICE, MENU_ACCESS_LOG} from \"../../constants/ActionTypes\";\r\n\r\nclass SideMenu extends Component {\r\n\r\n  render() {\r\n    const {isAllowed, location} = this.props;\r\n    const pathname = `${location.pathname}`;\r\n    const selected = _.join(_.split(pathname, '/', 3), '/');\r\n\r\n    return (\r\n      <Menu theme=\"dark\" mode=\"inline\" defaultSelectedKeys={['/app/landing']} selectedKeys={[selected]}>\r\n        \r\n        <Menu.Item key=\"/app/api-market\" icon={<ShoppingOutlined/>}>\r\n          <NavLink to={'/app/api-market'}>API Market</NavLink>\r\n        </Menu.Item>\r\n\r\n        {isAllowed(MENU_API_KEY) &&\r\n        <Menu.Item key=\"/app/api-key\" icon={<CodeOutlined/>}>\r\n          <NavLink to={'/app/api-key'}>API Key</NavLink>\r\n        </Menu.Item>}\r\n\r\n        {isAllowed(MENU_USAGE) &&\r\n        <Menu.Item key=\"/app/usage\" icon={<DesktopOutlined/>}>\r\n          <NavLink to={'/app/usage'}>Subs & Usage</NavLink>\r\n        </Menu.Item>}\r\n\r\n        <Menu.ItemGroup key=\"service\" title={<Divider style={{margin: 0}}/>}>\r\n\r\n          {isAllowed(MENU_SERVICE) &&\r\n          <Menu.Item key=\"/app/service\" icon={<ApiOutlined/>}>\r\n            <NavLink to={'/app/service'}>Service</NavLink>\r\n          </Menu.Item>}\r\n          \r\n          {isAllowed(MENU_SERVICE) &&\r\n          <Menu.Item key=\"/app/package\" icon={<AppstoreAddOutlined/>}>\r\n            <NavLink to={'/app/package'}>Package</NavLink>\r\n          </Menu.Item>}\r\n\r\n          {isAllowed(MENU_SUBSCRIPTION) &&\r\n          <Menu.Item key=\"/app/subscription\" icon={<AuditOutlined/>}>\r\n            <NavLink to={'/app/subscription'}>Subscription</NavLink>\r\n          </Menu.Item>}\r\n\r\n          {isAllowed(MENU_SERVICE_USAGE) &&\r\n          <Menu.Item key=\"/app/service-usage\" icon={<FundProjectionScreenOutlined/>}>\r\n            <NavLink to={'/app/service-usage'}>Service Usage</NavLink>\r\n          </Menu.Item>}\r\n\r\n          {isAllowed(MENU_ACCESS_LOG) &&\r\n          <Menu.Item key=\"/app/access-log\" icon={<LoginOutlined/>}>\r\n            <NavLink to={'/app/access-log'}>Access Log</NavLink>\r\n          </Menu.Item>}\r\n          \r\n        </Menu.ItemGroup>\r\n        \r\n        <Menu.ItemGroup key=\"customer\" title={<Divider style={{margin: 0}}/>}>\r\n\r\n          {isAllowed(MENU_SUBSCRIPTION) &&\r\n          <Menu.Item key=\"/app/customer\" icon={<TeamOutlined/>}>\r\n            <NavLink to={'/app/customer'}>Customer</NavLink>\r\n          </Menu.Item>}\r\n          \r\n          {isAllowed(MENU_SUBSCRIPTION) &&\r\n          <Menu.Item key=\"/app/invoice\" icon={<FolderOpenOutlined/>}>\r\n            <NavLink to={'/app/invoice'}>Invoice</NavLink>\r\n          </Menu.Item>}\r\n          \r\n          {isAllowed(MENU_SUBSCRIPTION) &&\r\n          <Menu.Item key=\"/app/payment\" icon={<CreditCardOutlined/>}>\r\n            <NavLink to={'/app/payment'}>Payment</NavLink>\r\n          </Menu.Item>}\r\n          \r\n        </Menu.ItemGroup>\r\n        \r\n      </Menu>\r\n    );\r\n  }\r\n}\r\n\r\nconst mapStateToProps = (store) => {\r\n  return {isAllowed: isAllowed(store)};\r\n};\r\n\r\nexport default withRouter(connect(mapStateToProps, {})(SideMenu));","import React from 'react';\r\nimport {connect} from 'react-redux';\r\n\r\nimport {editUser} from 'actions/User';\r\nimport {getUser} from 'actions/Auth';\r\nimport {onResetStatus} from 'actions/Common';\r\nimport {isLoading} from 'store/selectors';\r\n\r\nimport {EDIT_USER} from \"constants/ActionTypes\";\r\n\r\nimport {EditOutlined, QuestionCircleOutlined} from '@ant-design/icons';\r\nimport {\r\n  Form, Typography, Space, Descriptions, Card, Tooltip, Input, Button\r\n} from 'antd';\r\n\r\nconst layout = {\r\n  labelCol: {span: 8},\r\n  wrapperCol: {span: 16}\r\n};\r\n\r\nconst tailLayout = {\r\n  wrapperCol: {offset: 8, span: 16}\r\n};\r\n\r\nconst noPadding = {\r\n  padding: 0\r\n};\r\n\r\nclass Profile extends React.Component {\r\n\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      editMode: false,\r\n      form: React.createRef()\r\n    }\r\n  }\r\n  \r\n  componentDidUpdate(prevProps, prevState, snapshot) {\r\n    if ((!prevProps.edited && this.props.edited)) {\r\n      this.state.form.current.resetFields();\r\n      this.setState({editMode: false});\r\n      this.props.getUser();\r\n      this.props.onResetStatus();\r\n    }\r\n    if (!prevState.editMode && this.state.editMode) {\r\n      const {mysights_id, fullname, username, email} = this.props.authUser;\r\n      this.state.form.current.setFieldsValue({mysights_id, fullname, username, email});\r\n    }\r\n  }\r\n\r\n  toggleEditMode = (mode) => this.setState({editMode: mode});\r\n  \r\n  onSubmit = () => {\r\n    const {form} = this.state;\r\n    form.current\r\n      .validateFields()\r\n      .then(({fullname, email, ...rest}) => {\r\n        this.props.editUser({fullname, email});\r\n      })\r\n      .catch((info) => console.log('Validate Failed:', info));\r\n  };\r\n  \r\n  render() {\r\n\r\n    const {authUser, loading} = this.props;\r\n    const {editMode, form} = this.state;\r\n    const {mysights_id, fullname, username, email, change_email} = authUser;\r\n    \r\n    return (\r\n      <Space direction={'vertical'} style={{width: '100%'}}>\r\n        <Typography.Title level={5}>\r\n          Profile <Tooltip title={'Edit'}><Typography.Link><EditOutlined\r\n          onClick={() => this.toggleEditMode(!editMode)}/></Typography.Link></Tooltip>\r\n        </Typography.Title>\r\n        <Card bordered={false} bodyStyle={editMode ? {} : noPadding}>\r\n          {editMode ?\r\n            <Form {...layout} ref={form} name=\"control-ref\" onFinish={this.onSubmit}>\r\n              <Form.Item name=\"mysights_id\" label=\"Mysights-ID\">\r\n                <Input disabled/>\r\n              </Form.Item>\r\n              <Form.Item name=\"fullname\" label=\"Fullname\" rules={[\r\n                {required: true, message: 'Please input fullname!'}\r\n              ]}>\r\n                <Input/>\r\n              </Form.Item>\r\n              <Form.Item name=\"username\" label=\"Username\">\r\n                <Input disabled/>\r\n              </Form.Item>\r\n              <Form.Item name=\"email\" label=\"Email\" rules={[\r\n                {type: 'email', message: 'The input is not valid email!'},\r\n                {required: true, message: 'Please input email!'}\r\n              ]}>\r\n                <Input/>\r\n              </Form.Item>\r\n              <Form.Item {...tailLayout}>\r\n                <Space>\r\n                  <Button htmlType=\"button\" onClick={() => this.toggleEditMode(false)}>\r\n                    Cancel\r\n                  </Button>\r\n                  <Button type=\"primary\" htmlType=\"submit\" loading={loading}>\r\n                    Submit\r\n                  </Button>\r\n                </Space>\r\n              </Form.Item>\r\n            </Form> :\r\n            <Descriptions column={1} bordered>\r\n              <Descriptions.Item\r\n                label={<Typography.Text strong>Mysights-ID</Typography.Text>}>{mysights_id}</Descriptions.Item>\r\n              <Descriptions.Item\r\n                label={<Typography.Text strong>Fullname</Typography.Text>}>{fullname}</Descriptions.Item>\r\n              <Descriptions.Item\r\n                label={<Typography.Text strong>Username</Typography.Text>}>{username}</Descriptions.Item>\r\n              <Descriptions.Item label={<Typography.Text strong>Email</Typography.Text>}>\r\n                <Space>\r\n                  {email}\r\n                  {change_email &&\r\n                  <Tooltip title={`Email changed to ${change_email}, please verify your email!`}>\r\n                    <Typography.Text type={'warning'}><QuestionCircleOutlined/></Typography.Text>\r\n                  </Tooltip>}\r\n                </Space>\r\n              </Descriptions.Item>\r\n            </Descriptions>\r\n          }\r\n        </Card>\r\n      </Space>\r\n    );\r\n  }\r\n\r\n}\r\n\r\nconst mapStateToProps = (store) => {\r\n  const {auth: {authUser}, user: {status: {edited}}} = store;\r\n  return {authUser, edited, loading: isLoading(store, EDIT_USER)}\r\n};\r\n\r\nexport default connect(mapStateToProps, {editUser, getUser, onResetStatus})(Profile);","import React from 'react';\r\nimport {connect} from 'react-redux';\r\n\r\nimport {editPassword} from 'actions/User';\r\nimport {onResetStatus} from 'actions/Common';\r\nimport {isLoading} from 'store/selectors';\r\n\r\nimport {EDIT_USER} from \"constants/ActionTypes\";\r\n\r\nimport {\r\n  Form, Typography, Space, Card, Input, Button\r\n} from 'antd';\r\n\r\nconst layout = {\r\n  labelCol: {span: 8},\r\n  wrapperCol: {span: 16}\r\n};\r\n\r\nconst tailLayout = {\r\n  wrapperCol: {offset: 8, span: 16}\r\n};\r\n\r\nclass Security extends React.Component {\r\n\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      editMode: false,\r\n      form: React.createRef()\r\n    }\r\n  }\r\n\r\n  componentDidUpdate(prevProps, prevState, snapshot) {\r\n    if ((!prevProps.edited && this.props.edited)) {\r\n      this.state.form.current.resetFields();\r\n      this.setState({editMode: false});\r\n      this.props.onResetStatus();\r\n    }\r\n    if (!prevState.editMode && this.state.editMode) {\r\n      this.state.form.current.resetFields();\r\n    }\r\n  }\r\n\r\n  toggleEditMode = (mode) => this.setState({editMode: mode});\r\n\r\n  onSubmit = () => {\r\n    const {form} = this.state;\r\n    form.current\r\n      .validateFields()\r\n      .then(({old_password, new_password, ...rest}) => {\r\n        this.props.editPassword({old_password, new_password});\r\n      })\r\n      .catch((info) => console.log('Validate Failed:', info));\r\n  };\r\n\r\n  render() {\r\n    const {loading} = this.props;\r\n    const {editMode, form} = this.state;\r\n\r\n    return (\r\n      <Space direction={'vertical'} style={{width: '100%'}}>\r\n        <Typography.Title level={5}>Security</Typography.Title>\r\n        <Card bordered={false}>\r\n          {editMode ?\r\n            <Form {...layout} ref={form} name=\"control-ref\" onFinish={this.onSubmit}>\r\n              <Form.Item name=\"old_password\" label=\"Old Password\" hasFeedback rules={[\r\n                {required: true, message: 'Please input password!',},\r\n                {min: 8, message: 'Password must be at least 8 characters!'}\r\n              ]}>\r\n                <Input.Password type=\"password\"/>\r\n              </Form.Item>\r\n              <Form.Item name=\"new_password\" label=\"New Password\" hasFeedback rules={[\r\n                {required: true, message: 'Please input password!',},\r\n                {min: 8, message: 'Password must be at least 8 characters!'}\r\n              ]}>\r\n                <Input.Password type=\"password\"/>\r\n              </Form.Item>\r\n              <Form.Item\r\n                name=\"confirmPassword\"\r\n                label=\"Confirm Password\"\r\n                dependencies={['new_password']}\r\n                hasFeedback\r\n                rules={[\r\n                  {required: true, message: 'Please input password again!'},\r\n                  ({getFieldValue}) => ({\r\n                    validator(rule, value) {\r\n                      if (!value || getFieldValue('new_password') === value) {\r\n                        return Promise.resolve();\r\n                      }\r\n                      return Promise.reject('The two passwords that you entered do not match!');\r\n                    },\r\n                  }),\r\n                ]}>\r\n                <Input.Password type=\"password\"/>\r\n              </Form.Item>\r\n              <Form.Item {...tailLayout}>\r\n                <Space>\r\n                  <Button htmlType=\"button\" onClick={() => this.toggleEditMode(false)}>\r\n                    Cancel\r\n                  </Button>\r\n                  <Button type=\"primary\" htmlType=\"submit\" loading={loading}>\r\n                    Submit\r\n                  </Button>\r\n                </Space>\r\n              </Form.Item>\r\n            </Form>:\r\n            <Typography.Link onClick={() => this.toggleEditMode(true)}>Change Password</Typography.Link>\r\n          }\r\n        </Card>\r\n      </Space>\r\n    );\r\n  }\r\n\r\n}\r\n\r\nconst mapStateToProps = (store) => {\r\n  const {user: {status: {edited}}} = store;\r\n  return {edited, loading: isLoading(store, EDIT_USER)}\r\n};\r\n\r\nexport default connect(mapStateToProps, {editPassword, onResetStatus})(Security);","import React from 'react';\r\nimport {connect} from 'react-redux';\r\nimport _ from 'lodash';\r\nimport moment from 'moment';\r\n\r\nimport {isLoading} from 'store/selectors';\r\nimport {\r\n  GET_ALL_SERVICE,\r\n  GET_SUBSCRIPTION,\r\n} from \"constants/ActionTypes\";\r\nimport {getAllService} from 'actions/Service';\r\nimport {getSubscriptionByService} from 'actions/Subscription';\r\nimport {onResetStatus, onResetDataState} from 'actions/Common';\r\nimport SubscriptionStatusTag from \"components/Tags/SubscriptionStatus\";\r\nimport PackageTag from \"components/Tags/Package\";\r\n\r\nimport {Icon} from '@ant-design/compatible';\r\nimport {PlusOutlined, EditOutlined, EyeOutlined} from '@ant-design/icons';\r\nimport {\r\n  Card,\r\n  Menu,\r\n  Layout,\r\n  Empty,\r\n  Spin,\r\n  Table,\r\n  Button,\r\n  Space,\r\n  Tooltip,\r\n  Typography\r\n} from 'antd';\r\n\r\nimport SubscriptionFrom from './Form/Subs';\r\n\r\nclass SubscriptionList extends React.Component {\r\n\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      selected: null,\r\n      show: null,\r\n      row: null\r\n    }\r\n  }\r\n\r\n  componentDidMount() {\r\n    this.props.getAllService()\r\n  }\r\n\r\n  componentDidUpdate(prevProps, prevState, snapshot) {\r\n    if (!prevProps.created && this.props.created) {\r\n      this.onHideForm();\r\n      this.props.getSubscriptionByService(this.state.selected);\r\n      this.props.onResetStatus();\r\n    }\r\n    if ((!prevProps.edited && this.props.edited)) {\r\n      this.onHideForm();\r\n      this.props.getSubscriptionByService(this.state.selected);\r\n      this.props.onResetStatus();\r\n    }\r\n  }\r\n\r\n  componentWillUnmount() {\r\n    this.props.onResetDataState()\r\n  }\r\n\r\n  // Menu\r\n\r\n  onSelectMenu = ({key}) => {\r\n    // eslint-disable-next-line\r\n    const [item, submenu, id] = _.split(key, '-');\r\n    this.props.getSubscriptionByService(id);\r\n    this.setState({selected: parseInt(id)});\r\n  };\r\n\r\n  // Modal\r\n\r\n  onShowForm = (kind, row = null) => {\r\n    this.setState({show: kind, row})\r\n  };\r\n\r\n  onHideForm = () => {\r\n    this.setState({show: null, row: null})\r\n  };\r\n\r\n  render() {\r\n\r\n    const {services, loading, subscriptions} = this.props;\r\n\r\n    const {selected, show, row} = this.state;\r\n\r\n    const column = [\r\n      {\r\n        title: 'Status',\r\n        dataIndex: 'status',\r\n        key: 'status',\r\n        render: (status) => (status && <SubscriptionStatusTag status={status}/>),\r\n        sorter: (a, b) => {\r\n          const sorted = ['active', 'incoming', 'expired', 'inactive'];\r\n          return sorted.indexOf(a.status) - sorted.indexOf(b.status)\r\n        },\r\n        defaultSortOrder: 'ascend'\r\n      },\r\n      {\r\n        title: 'Account',\r\n        dataIndex: 'account',\r\n        key: 'account',\r\n        filters: _(subscriptions).map(({account}) => {\r\n          return {text: account.fullname, value: account.fullname}\r\n        }).uniqBy('value').value(),\r\n        onFilter: (value, {account}) => account.fullname.includes(value),\r\n        render: ({fullname, email}) => (<div>\r\n          <Typography.Text strong>{fullname}</Typography.Text><br/>\r\n          <Typography.Text type={'secondary'}>{email}</Typography.Text>\r\n        </div>)\r\n      },\r\n      {\r\n        title: 'Subs ID',\r\n        dataIndex: 'code',\r\n        key: 'code',\r\n      },\r\n      {\r\n        title: 'Package',\r\n        dataIndex: 'package',\r\n        key: 'package',\r\n        render: (_package) => (_package && <PackageTag name={_package.name}/>)\r\n      },\r\n      {\r\n        title: 'Period',\r\n        dataIndex: 'period',\r\n        key: 'period',\r\n        render: (text, {start_date, end_date}) => moment(start_date).format('ll')\r\n          + ' - ' + moment(end_date).format('ll')\r\n      },\r\n      {\r\n        title: 'Recent Usage',\r\n        dataIndex: 'lastUsage',\r\n        key: 'lastUsage',\r\n        render: (usage) => usage ? moment(usage.request_timestamp).fromNow() : '-'\r\n      },\r\n      {\r\n        title: 'Action',\r\n        key: 'action',\r\n        render: (text, {account, ...record}) => (\r\n          <Space>\r\n            <Tooltip title={'Edit'}>\r\n              <Typography.Link onClick={() => this.onShowForm(SubscriptionFrom.type.displayName, {...record, account: account.id})}>\r\n                <EditOutlined/>\r\n              </Typography.Link>\r\n            </Tooltip>\r\n            <Tooltip title={'Detail'}>\r\n              <Typography.Link onClick={() => this.props.history.push(`${this.props.match.url}/${record.id}`)}>\r\n                <EyeOutlined/>\r\n              </Typography.Link>\r\n            </Tooltip>\r\n          </Space>\r\n        ),\r\n      },\r\n    ];\r\n\r\n    return (\r\n      <Space direction={'vertical'} style={{width: '100%'}}>\r\n        <Typography.Title level={4}>Subscription</Typography.Title>\r\n        <Card bordered={false}>\r\n          <Spin spinning={loading.service}>\r\n            <Layout style={{minHeight: 600, border: '1px solid #f0f0f0'}}>\r\n              <Layout.Sider className=\"site-layout-background\" width={200}>\r\n\r\n                {services.length ?\r\n                  <Menu\r\n                    mode=\"inline\"\r\n                    defaultOpenKeys={['submenu-0']}\r\n                    style={{height: '100%'}}\r\n                    onSelect={this.onSelectMenu}>\r\n                    {_.map(services, ({id, name, icon, services}, index) => {\r\n                      return <Menu.SubMenu key={'submenu-' + index} icon={<Icon type={icon}/>} title={name}>\r\n                        {_.map(services, ({id, name, icon}, i) =>\r\n                          <Menu.Item key={'item-' + index + '-' + id} icon={<Icon type={icon}/>}>{name}</Menu.Item>)}\r\n                      </Menu.SubMenu>\r\n                    })}\r\n                  </Menu>\r\n                  : <Empty/>}\r\n\r\n              </Layout.Sider>\r\n              <Layout.Content style={{padding: '0 24px'}}>\r\n                <Spin spinning={loading.subs}>\r\n\r\n                  {subscriptions.length ?\r\n                    <Space direction={'vertical'} style={{margin: '24px 0', width: '100%'}}>\r\n                      <Button type=\"primary\"\r\n                              style={{float: 'right'}}\r\n                              icon={<PlusOutlined/>}\r\n                              onClick={() => this.onShowForm(SubscriptionFrom.type.displayName, {service_id: parseInt(selected)})}>\r\n                        Add Subscription\r\n                      </Button>\r\n                      <Table columns={column}\r\n                             dataSource={subscriptions}\r\n                             rowKey={'id'}\r\n                             style={{width: '100%'}}/>\r\n                    </Space>\r\n                    : <Empty image={Empty.PRESENTED_IMAGE_SIMPLE}/>}\r\n\r\n                    <SubscriptionFrom show={show === SubscriptionFrom.type.displayName} onCancel={this.onHideForm} row={row}/>\r\n\r\n                </Spin>\r\n              </Layout.Content>\r\n            </Layout>\r\n          </Spin>\r\n        </Card>\r\n      </Space>\r\n    );\r\n  }\r\n\r\n}\r\n\r\nconst mapStateToProps = (store) => {\r\n  const {\r\n    service: {services},\r\n    subscription: {subscriptions, status: {created, edited}},\r\n  } = store;\r\n  return {\r\n    loading: {\r\n      service: isLoading(store, GET_ALL_SERVICE),\r\n      subs: isLoading(store, GET_SUBSCRIPTION)\r\n    },\r\n    services, subscriptions,\r\n    created,\r\n    edited\r\n  }\r\n};\r\n\r\nexport default connect(mapStateToProps, {\r\n  getAllService,\r\n  getSubscriptionByService,\r\n  onResetStatus,\r\n  onResetDataState\r\n})(SubscriptionList);","import React from 'react';\r\nimport {connect} from 'react-redux';\r\n\r\nimport {isLoading} from 'store/selectors';\r\nimport {\r\n  GET_ONE_SUBSCRIPTION,\r\n} from \"constants/ActionTypes\";\r\nimport {getSubscription} from 'actions/Subscription';\r\nimport {onResetStatus, onResetDataState} from 'actions/Common';\r\n\r\nimport Summary from './Tab/Summary';\r\nimport AddOn from './Tab/AddOn';\r\nimport Timeline from './Tab/Timeline';\r\nimport DailyUsage from './Tab/DailyUsage';\r\nimport Quota from './Tab/Quota';\r\n\r\nimport { blue } from '@ant-design/colors';\r\nimport {\r\n  TagsOutlined,\r\n  FileTextOutlined,\r\n  CalendarOutlined,\r\n  AppstoreOutlined,\r\n  ContainerOutlined\r\n} from '@ant-design/icons';\r\nimport {\r\n  Menu,\r\n  Layout,\r\n  Spin,\r\n  Space,\r\n  Typography,\r\n} from 'antd';\r\n\r\nclass SubscriptionDetail extends React.Component {\r\n\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      menu: 'summary',\r\n      show: null,\r\n      row: null\r\n    }\r\n  }\r\n\r\n  componentDidMount() {\r\n    const { match : { params } } = this.props;\r\n    if (params.subs) {this.props.getSubscription(params.subs)}\r\n  }\r\n\r\n  componentWillUnmount() {this.props.onResetDataState()}\r\n\r\n  onMenuChange = ({key}) => this.setState({menu: key});\r\n\r\n  onShowForm = (kind, row = null) => this.setState({show: kind, row});\r\n\r\n  onHideForm = () => this.setState({show: null, row: null});\r\n\r\n  renderContent = () => {\r\n    const {id} = this.props.subscription;\r\n    switch (this.state.menu) {\r\n      case \"summary\":\r\n        return (<Summary subs={id}/>);\r\n      case \"add-on\":\r\n        return (<AddOn subs={id}/>);\r\n      case \"timeline\":\r\n        return (<Timeline subs={id}/>);\r\n      case \"daily-usage\":\r\n        return (<DailyUsage subs={id}/>);\r\n      case \"quota\":\r\n        return (<Quota subs={id}/>);\r\n      default: return null;\r\n    }\r\n  };\r\n\r\n  render() {\r\n\r\n    const {loading, subscription} = this.props;\r\n\r\n    return(\r\n      <Space direction={'vertical'} style={{width: '100%'}}>\r\n        <Typography.Title level={4}>Subscription Detail</Typography.Title>\r\n        <Spin spinning={loading}>\r\n          {subscription &&\r\n          <Layout className=\"site-layout-background\" style={{ padding: '24px 0', minHeight: 600 }}>\r\n\r\n            <Layout.Sider className=\"site-layout-background\" width={200}>\r\n              <Space direction={'vertical'} style={{width: '100%', padding: '0 24px', borderRight: '1px solid #f0f0f0', marginBottom: 8}}>\r\n                <Typography.Title level={5} style={{margin: 0, color: blue.primary}}>{subscription.account.fullname}</Typography.Title>\r\n                <Typography.Text type=\"secondary\">{subscription.account.email}</Typography.Text>\r\n                <Typography.Text>ID : {subscription.code}</Typography.Text>\r\n              </Space>\r\n              <Menu\r\n                mode=\"inline\"\r\n                defaultSelectedKeys={[this.state.menu]}\r\n                onSelect={this.onMenuChange}>\r\n                <Menu.Item key=\"summary\" icon={<FileTextOutlined/>}>Summary</Menu.Item>\r\n                <Menu.Item key=\"add-on\" icon={<TagsOutlined/>}>Add-ons</Menu.Item>\r\n                <Menu.Item key=\"timeline\" icon={<CalendarOutlined/>}>Timeline</Menu.Item>\r\n                <Menu.Item key=\"quota\" icon={<AppstoreOutlined/>}>Quota</Menu.Item>\r\n                <Menu.Item key=\"daily-usage\" icon={<ContainerOutlined/>}>Daily Usage</Menu.Item>\r\n              </Menu>\r\n            </Layout.Sider>\r\n\r\n            <Layout.Content style={{padding: '0 24px', minHeight: 280}}>\r\n              {this.renderContent()}\r\n            </Layout.Content>\r\n\r\n          </Layout>}\r\n        </Spin>\r\n      </Space>\r\n    );\r\n  }\r\n\r\n}\r\n\r\nconst mapStateToProps = (store) => {\r\n  const {subscription: {subscription},} = store;\r\n  return {\r\n    loading: isLoading(store, GET_ONE_SUBSCRIPTION),\r\n    subscription,\r\n  }\r\n};\r\n\r\nexport default connect(mapStateToProps, {\r\n  getSubscription, onResetStatus, onResetDataState\r\n})(SubscriptionDetail);","import React from 'react';\r\nimport {connect} from 'react-redux';\r\nimport moment from 'moment';\r\n\r\nimport {isLoading} from 'store/selectors';\r\nimport {GET_SUBSCRIPTION_SUMMARY,} from \"constants/ActionTypes\";\r\nimport {getSubscriptionSummary} from 'actions/Subscription';\r\nimport {onResetStatus} from 'actions/Common';\r\n\r\nimport SubscriptionStatusTag from \"components/Tags/SubscriptionStatus\";\r\nimport PackageTag from \"components/Tags/Package\";\r\nimport SubscriptionFrom from '../Form/Subs';\r\n\r\nimport {\r\n  EditOutlined,\r\n  TagsOutlined,\r\n  AlertOutlined,\r\n} from '@ant-design/icons';\r\nimport {\r\n  Spin,\r\n  Button,\r\n  Space,\r\n  Typography,\r\n  Row, Col,\r\n  Statistic,\r\n  Descriptions,\r\n} from 'antd';\r\n\r\nclass SubscriptionSummary extends React.Component {\r\n\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      show: null,\r\n      row: null\r\n    }\r\n  }\r\n\r\n  componentDidMount() {\r\n    this.props.getSubscriptionSummary(this.props.subs)\r\n  }\r\n\r\n  componentDidUpdate(prevProps, prevState, snapshot) {\r\n    if ((!prevProps.edited && this.props.edited)) {\r\n      this.onHideForm();\r\n      this.props.getSubscriptionSummary(this.props.subs);\r\n      this.props.onResetStatus();\r\n    }\r\n  }\r\n\r\n  onShowForm = (row = null) => this.setState({show: true, row});\r\n\r\n  onHideForm = () => this.setState({show: null, row: null});\r\n\r\n  render() {\r\n\r\n    const {loading, summary} = this.props;\r\n\r\n    return(\r\n      <Spin spinning={loading}>\r\n        {summary && <>\r\n        <Space size={'middle'} direction={'vertical'} style={{width: '100%'}}>\r\n          <Button type=\"primary\" style={{float: 'right'}} icon={<EditOutlined/>}\r\n                  onClick={() => this.onShowForm(null)}>\r\n            Edit Subscription\r\n          </Button>\r\n          <Row gutter={16}>\r\n            <Col {...{lg: 6, sm: 12}}>\r\n              <Statistic title=\"Valid Until\" value={moment(summary.end_date).format('ll')}/>\r\n              {moment().isSameOrAfter(moment(summary.end_date).subtract(7, 'day')) &&\r\n              <Typography.Text\r\n                type={'danger'}><AlertOutlined/> ends {moment(summary.end_date).add(1, 'day').fromNow()}\r\n              </Typography.Text>}\r\n            </Col>\r\n            <Col {...{lg: 6, sm: 12}}>\r\n              {summary.activeAddOns.length ?\r\n                <Statistic title=\"Active Add-ons (today)\" value={`${summary.activeAddOns.length} add-ons`}\r\n                           prefix={<TagsOutlined/>}/> :\r\n                <Statistic title=\"Active Add-ons (Today)\" value={'No add-on'} prefix={<TagsOutlined/>}/>}\r\n            </Col>\r\n          </Row>\r\n          <Descriptions\r\n            bordered\r\n            size={'middle'}\r\n            column={1}>\r\n            <Descriptions.Item label={<div style={{textAlign: 'right'}}>Subscription Status</div>}>\r\n              <SubscriptionStatusTag status={summary.status}/>\r\n            </Descriptions.Item>\r\n            <Descriptions.Item label={<div style={{textAlign: 'right'}}>Subscription ID</div>}>\r\n              {summary.code} <Typography.Text type={'secondary'}>(generated)</Typography.Text>\r\n            </Descriptions.Item>\r\n            <Descriptions.Item label={<div style={{textAlign: 'right'}}>Service</div>}>\r\n              {summary.service.name} <Typography.Text type={'secondary'}>{summary.service.service_group.name}</Typography.Text>\r\n            </Descriptions.Item>\r\n            <Descriptions.Item label={<div style={{textAlign: 'right'}}>Package</div>}>\r\n              {<PackageTag name={summary.package.name}/>}\r\n            </Descriptions.Item>\r\n            <Descriptions.Item label={<div style={{textAlign: 'right'}}>Start Subscription</div>}>\r\n              {moment(summary.start_date).format('ll')}\r\n            </Descriptions.Item>\r\n            <Descriptions.Item label={<div style={{textAlign: 'right'}}>End Subscription</div>}>\r\n              {moment(summary.end_date).format('ll')}\r\n            </Descriptions.Item>\r\n            <Descriptions.Item label={<div style={{textAlign: 'right'}}>Cut-off Date</div>}>\r\n              {summary.cut_off_date ? `${summary.cut_off_date} per month` : `lifetime`}\r\n            </Descriptions.Item>\r\n            <Descriptions.Item label={<div style={{textAlign: 'right'}}>Registered Add-on</div>}>\r\n              {summary.addOns.length ? <><TagsOutlined/> {summary.addOns.length} add-ons</> : 'No add-on'}\r\n            </Descriptions.Item>\r\n            <Descriptions.Item label={<div style={{textAlign: 'right'}}>Active Add-on (today)</div>}>\r\n              {summary.activeAddOns.length ? <><TagsOutlined/> {summary.activeAddOns.length} add-ons</> : 'No add-on'}\r\n            </Descriptions.Item>\r\n          </Descriptions>\r\n        </Space>\r\n        <SubscriptionFrom show={this.state.show} onCancel={this.onHideForm} row={summary}/>\r\n        </>}\r\n\r\n      </Spin>\r\n    );\r\n\r\n  }\r\n}\r\n\r\nconst mapStateToProps = (store) => {\r\n  const {subscription: {summary, status: {edited}}} = store;\r\n  return {\r\n    loading: isLoading(store, GET_SUBSCRIPTION_SUMMARY),\r\n    summary, edited\r\n  }\r\n};\r\n\r\nexport default connect(mapStateToProps, {\r\n  getSubscriptionSummary, onResetStatus\r\n})(SubscriptionSummary);","import React from 'react';\r\nimport {connect} from 'react-redux';\r\nimport _ from 'lodash';\r\nimport moment from 'moment';\r\n\r\nimport {isLoading} from 'store/selectors';\r\nimport {GET_SUBSCRIPTION_ADD_ONS,} from \"constants/ActionTypes\";\r\nimport {getSubscriptionAddOns} from 'actions/Subscription';\r\nimport {onResetStatus} from 'actions/Common';\r\n\r\nimport SubscriptionStatusTag from \"components/Tags/SubscriptionStatus\";\r\nimport AddOnForm from '../Form/AddOn';\r\n\r\nimport {\r\n  PlusOutlined,\r\n  EditOutlined,\r\n  ArrowRightOutlined,\r\n} from '@ant-design/icons';\r\nimport {\r\n  Spin,\r\n  Table,\r\n  Button,\r\n  Space,\r\n  Tooltip,\r\n  Typography,\r\n} from 'antd';\r\n\r\nclass SubscriptionAddOn extends React.Component {\r\n\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      show: null,\r\n      row: null\r\n    }\r\n  }\r\n\r\n  componentDidMount() {\r\n    this.props.getSubscriptionAddOns(this.props.subs)\r\n  }\r\n\r\n  componentDidUpdate(prevProps, prevState, snapshot) {\r\n    if ((!prevProps.created && this.props.created)) {\r\n      this.onHideForm();\r\n      this.props.getSubscriptionAddOns(this.props.subs);\r\n      this.props.onResetStatus();\r\n    }\r\n    if ((!prevProps.edited && this.props.edited)) {\r\n      this.onHideForm();\r\n      this.props.getSubscriptionAddOns(this.props.subs);\r\n      this.props.onResetStatus();\r\n    }\r\n  }\r\n\r\n  onShowForm = (row = null) => this.setState({show: true, row});\r\n\r\n  onHideForm = () => this.setState({show: null, row: null});\r\n\r\n  render() {\r\n\r\n    const {loading, subscription, addOns} = this.props;\r\n\r\n    const column = [\r\n      {\r\n        title: 'Status',\r\n        dataIndex: 'status',\r\n        key: 'status',\r\n        render: (status) => (status && <SubscriptionStatusTag status={status}/>),\r\n        sorter: (a, b) => {\r\n          const sorted = ['active', 'incoming', 'expired'];\r\n          return sorted.indexOf(a.status) - sorted.indexOf(b.status)\r\n        },\r\n        defaultSortOrder: 'ascend'\r\n      },\r\n      {\r\n        title: 'Limit',\r\n        dataIndex: 'limit',\r\n        key: 'limit',\r\n        render: ({code, reset}) => (<div>\r\n          <Typography.Text strong>{_.capitalize(code)}</Typography.Text><br/>\r\n          <Typography.Text type={'secondary'}>{reset}</Typography.Text>\r\n        </div>)\r\n      },\r\n      {\r\n        title: 'Start Date',\r\n        dataIndex: 'start_date',\r\n        key: 'start_date',\r\n        render: (date) => date ? moment(date).format('LL') : null,\r\n        sorter: (a, b) => a.start_date - b.start_date\r\n      },\r\n      {\r\n        title: 'End Date',\r\n        dataIndex: 'end_date',\r\n        key: 'end_date',\r\n        render: (date) => date ? moment(date).format('LL') : null,\r\n        sorter: (a, b) => a.end_date - b.end_date\r\n      },\r\n      {\r\n        title: 'Amount changes',\r\n        key: 'amount_changes',\r\n        render: (text, {amount, is_unlimited: addOnUnlimited, limit: {limit, is_unlimited: limitUnlimited}}) => {\r\n          const renderAmount = ({limit, limitUnlimited, amount, addOnUnlimited}) => {\r\n            if (limitUnlimited || addOnUnlimited)\r\n              return <Typography.Text type={'success'} strong>Unlimited</Typography.Text>;\r\n            else if (_.isNull(limit) && amount)\r\n              return amount;\r\n            else if (_.isNull(limit))\r\n              return <Typography.Text type={'danger'} strong>Locked</Typography.Text>;\r\n            else if (amount)\r\n              return limit + amount;\r\n            else\r\n              return limit\r\n          };\r\n          return <>{renderAmount({limit, limitUnlimited})} <ArrowRightOutlined/> {renderAmount({\r\n            amount,\r\n            limit,\r\n            addOnUnlimited\r\n          })}</>\r\n        },\r\n      },\r\n      {\r\n        title: 'Action',\r\n        key: 'action',\r\n        render: (text, record) => (\r\n          <Space>\r\n            <Tooltip title={'Edit'}>\r\n              <Button type=\"link\" icon={<EditOutlined/>} disabled={subscription.status !== 'active'}\r\n                      onClick={() => this.onShowForm({subscription, ...record})}/>\r\n            </Tooltip>\r\n          </Space>\r\n        ),\r\n      },\r\n    ];\r\n\r\n    return (<Spin spinning={loading}>\r\n      <Space size={'middle'} direction={'vertical'} style={{width: '100%'}}>\r\n        <Button type=\"primary\" style={{float: 'right'}} icon={<PlusOutlined/>}\r\n                disabled={subscription.status !== 'active'}\r\n                onClick={() => this.onShowForm({subscription})}>\r\n          Add-ons\r\n        </Button>\r\n        <Table columns={column} dataSource={addOns} rowKey={'id'} style={{width: '100%'}}/>\r\n      </Space>\r\n      <AddOnForm show={this.state.show} onCancel={this.onHideForm} row={this.state.row}/>\r\n    </Spin>);\r\n  }\r\n\r\n}\r\n\r\nconst mapStateToProps = (store) => {\r\n  const {subscription: {subscription, addOns}, addOn: {status: {created, edited}}} = store;\r\n  return {\r\n    loading: isLoading(store, GET_SUBSCRIPTION_ADD_ONS),\r\n    subscription, addOns, created, edited\r\n  }\r\n};\r\n\r\nexport default connect(mapStateToProps, {\r\n  getSubscriptionAddOns, onResetStatus\r\n})(SubscriptionAddOn);","import React from 'react';\r\nimport {connect} from 'react-redux';\r\nimport _ from 'lodash';\r\nimport moment from \"moment\";\r\n\r\nimport {isLoading} from 'store/selectors';\r\nimport {addAddOn, editAddOn} from 'actions/AddOn';\r\nimport {getPackage} from 'actions/Package';\r\n\r\nimport {\r\n  ADD_ADD_ON,\r\n  EDIT_ADD_ON,\r\n} from \"constants/ActionTypes\";\r\n\r\nimport {\r\n  Button,\r\n  Modal,\r\n  Form,\r\n  Select,\r\n  DatePicker,\r\n  InputNumber,\r\n  Switch\r\n} from 'antd';\r\n\r\nconst layout = {\r\n  labelCol: {span: 8},\r\n  wrapperCol: {span: 16}\r\n};\r\n\r\nclass AddOnForm extends React.Component {\r\n\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      formRef: React.createRef(),\r\n    }\r\n  }\r\n\r\n  componentDidUpdate(prevProps, prevState, snapshot) {\r\n    if (!prevProps.show && this.props.show) {\r\n      this.state.formRef.current.resetFields();\r\n      if (this.props.row) {\r\n        const {subscription, start_date, end_date, ...row} = this.props.row;\r\n        const {package_id} = subscription;\r\n\r\n        const init = {is_unlimited: false};\r\n\r\n        const date = start_date ? [moment(start_date), moment(end_date)] : null;\r\n\r\n        this.state.formRef.current.setFieldsValue({...init, date, ...row});\r\n        this.props.getPackage(package_id);\r\n      }\r\n    }\r\n  }\r\n  \r\n  onFinish  = () => {\r\n    const {formRef} = this.state;\r\n    const {row, addAddOn, editAddOn} = this.props;\r\n    formRef.current\r\n      .validateFields()\r\n      .then(({date, ...payload}) => {\r\n        const [start_date, end_date] = date;\r\n        const {id, subscription, ...rest} = row;\r\n        if (id)\r\n          editAddOn(id, {\r\n            start_date: start_date.format('YYYY-MM-DD'),\r\n            end_date: end_date.format('YYYY-MM-DD'),\r\n            ...payload\r\n          });\r\n        else\r\n          addAddOn({\r\n            ...rest, \r\n            subscription_id: subscription.id,\r\n            start_date: start_date.format('YYYY-MM-DD'),\r\n            end_date: end_date.format('YYYY-MM-DD'),\r\n            ...payload\r\n          });\r\n      })\r\n      .catch((info) => console.log('Validate Failed:', info));\r\n  };\r\n  \r\n  render() {\r\n    \r\n    const {show, onCancel, row, loading, _package} = this.props;\r\n\r\n    const {subscription} = row ? row : {};\r\n    const {end_date} = subscription ? subscription : {};\r\n    const {limits} = _package ? _package : {limits: []};\r\n    \r\n    const {formRef} = this.state;\r\n\r\n    const disabledDate = (current) => {\r\n      return end_date && current && \r\n        (moment(current).isBefore(moment().subtract(1, 'day')) || \r\n        moment(current).isAfter(moment(end_date).add(1, 'day')))\r\n    };\r\n    \r\n    return(\r\n      <Modal\r\n        visible={show}\r\n        title=\"Add On\"\r\n        onCancel={onCancel}\r\n        footer={[\r\n          <Button key=\"back\" onClick={onCancel}>Cancel</Button>,\r\n          <Button key=\"submit\" type=\"primary\" loading={loading[row && row.id ? 'edit' : 'create']}\r\n                  onClick={this.onFinish}>Submit</Button>,\r\n        ]}>\r\n        \r\n        <Form {...layout} ref={formRef} name=\"control-ref\" onFinish={this.onFinish}>\r\n          \r\n          <Form.Item name=\"limit_id\" label={'Limit'} rules={[{required: true, message: 'Please select the package!'}]}>\r\n            <Select\r\n              showSearch\r\n              placeholder=\"Select Limit\"\r\n              optionFilterProp=\"children\"\r\n              filterOption={(input, option) => option.children.toLowerCase().indexOf(input.toLowerCase()) >= 0}\r\n              loading={loading.package}\r\n              allowClear>\r\n              {_.map(limits, ({id, code}) => <Select.Option value={id}>{code}</Select.Option>)}\r\n            </Select>\r\n          </Form.Item>\r\n\r\n          <Form.Item name=\"date\" label=\"Period\" rules={[{required: true, message: 'Please input period!'}]}>\r\n            <DatePicker.RangePicker style={{width: '100%'}} disabledDate={disabledDate}/>\r\n          </Form.Item>\r\n\r\n          <Form.Item label={'Amount'} name={'amount'} rules={[{required: true, message: 'Please input amount!'}]}>\r\n            <InputNumber min={0}/>\r\n          </Form.Item>\r\n\r\n          <Form.Item label={'Unlimited'} valuePropName=\"checked\" name={'is_unlimited'}>\r\n            <Switch checkedChildren={'Unlimited'} unCheckedChildren={'Limited'}/>\r\n          </Form.Item>\r\n\r\n        </Form>\r\n        \r\n      </Modal>\r\n    );\r\n    \r\n  }\r\n\r\n}\r\n\r\nconst mapStateToProps = (store) => {\r\n  const {addOn: {status: {created, edited}}, package: {package: _package}} = store;\r\n  return {\r\n    loading: {\r\n      create: isLoading(store, ADD_ADD_ON),\r\n      edit: isLoading(store, EDIT_ADD_ON),\r\n    },\r\n    created, edited, _package\r\n  }\r\n};\r\n\r\nexport default connect(mapStateToProps, {\r\n  addAddOn,\r\n  editAddOn,\r\n  getPackage\r\n})(AddOnForm);","import React from 'react';\r\nimport {connect} from 'react-redux';\r\nimport _ from 'lodash';\r\nimport moment from 'moment';\r\n\r\nimport {isLoading} from 'store/selectors';\r\nimport {GET_SUBSCRIPTION_TIMELINE} from \"constants/ActionTypes\";\r\nimport {getSubscriptionTimeline} from 'actions/Subscription';\r\n\r\nimport PackageCard from \"components/PackageCard\";\r\n\r\nimport {\r\n  TagsOutlined,\r\n  UpCircleOutlined,\r\n  CloseCircleOutlined\r\n} from '@ant-design/icons';\r\nimport {\r\n  Spin,\r\n  Space,\r\n  Typography,\r\n  Row, Col,\r\n  Timeline,\r\n  Card,\r\n  Tag,\r\n  List\r\n} from 'antd';\r\n\r\nclass SubscriptionAddOn extends React.Component {\r\n\r\n  componentDidMount() {\r\n    this.props.getSubscriptionTimeline(this.props.subs)\r\n  }\r\n\r\n  render() {\r\n\r\n    const {loading, timeline, subscription} = this.props;\r\n\r\n    const {start_date, end_date, package: _package} = subscription;\r\n\r\n    return (\r\n      <Spin spinning={loading}>\r\n        <Timeline style={{marginTop: 8}}>\r\n\r\n          <Timeline.Item dot={<UpCircleOutlined style={{fontSize: '16px'}}/>} color={'green'}>\r\n            <Space direction={'vertical'} style={{width: '100%'}}>\r\n              <Space>\r\n                <Typography.Text>Subscription start ({moment(start_date).format('ll')})</Typography.Text>\r\n                {moment().isSame(moment(start_date), 'day') && <Tag color=\"blue\">NOW</Tag>}\r\n              </Space>\r\n              <Row gutter={[16]}>\r\n                <Col flex=\"400px\">\r\n                  <Card className={'service-box'}>\r\n                    <PackageCard package={_package}/>\r\n                  </Card>\r\n                </Col>\r\n                <Col flex=\"auto\">\r\n                  <List\r\n                    itemLayout=\"horizontal\"\r\n                    dataSource={[]}\r\n                    header={<div><TagsOutlined/> Add-ons</div>}\r\n                    renderItem={({limit: {code, reset}, amount, is_unlimited}) => (\r\n                      <List.Item>\r\n                        <List.Item.Meta\r\n                          title={<Typography.Text strong>{_.capitalize(code)}</Typography.Text>}\r\n                          description={reset}\r\n                        />\r\n                        <div>{(is_unlimited) ?\r\n                          <Typography.Text strong type={'success'}>Unlimited</Typography.Text> : amount}</div>\r\n                      </List.Item>\r\n                    )}\r\n                  />\r\n                </Col>\r\n              </Row>\r\n            </Space>\r\n          </Timeline.Item>\r\n\r\n          {_.map(timeline, ({start_date, end_date, package: _package, addOns}) =>\r\n            <Timeline.Item>\r\n              <Space direction={'vertical'} style={{width: '100%'}}>\r\n                <Space>\r\n                  <Typography.Text>\r\n                    {moment(start_date).isSame(moment(end_date), 'day') ?\r\n                      moment(start_date).format('ll') :\r\n                      moment(start_date).format('ll') + ' - ' + moment(end_date).format('ll')}\r\n                  </Typography.Text>\r\n                  {moment().isBetween(moment(start_date), moment(end_date), 'day', '[]') &&\r\n                  <Tag color=\"blue\">NOW</Tag>}\r\n                </Space>\r\n                <Row gutter={[16]}>\r\n                  <Col flex=\"400px\">\r\n                    <Card className={'service-box'}>\r\n                      <PackageCard package={_package}/>\r\n                    </Card>\r\n                  </Col>\r\n                  <Col flex=\"auto\">\r\n                    <List\r\n                      itemLayout=\"horizontal\"\r\n                      dataSource={addOns}\r\n                      header={<div><TagsOutlined/> Add-ons</div>}\r\n                      renderItem={({limit: {code, reset}, amount, is_unlimited}) => (\r\n                        <List.Item>\r\n                          <List.Item.Meta\r\n                            title={<Typography.Text strong>{_.capitalize(code)}</Typography.Text>}\r\n                            description={reset}\r\n                          />\r\n                          <div>{(is_unlimited) ? <Typography.Text strong type={'success'}>Unlimited</Typography.Text> : '+' + amount}</div>\r\n                        </List.Item>\r\n                      )}\r\n                    />\r\n                  </Col>\r\n                </Row>\r\n              </Space>\r\n            </Timeline.Item>)}\r\n\r\n          <Timeline.Item dot={<CloseCircleOutlined style={{fontSize: '16px'}}/>} color={'grey'}>\r\n            <Space>\r\n              <Typography.Text>Subscription end ({moment(end_date).format('ll')})</Typography.Text>\r\n              {moment().isSame(moment(end_date), 'day') && <Tag color=\"blue\">NOW</Tag>}\r\n            </Space>\r\n          </Timeline.Item>\r\n\r\n        </Timeline>\r\n      </Spin>\r\n    )\r\n\r\n  }\r\n\r\n}\r\n\r\nconst mapStateToProps = (store) => {\r\n  const {subscription: {subscription, timeline}} = store;\r\n  return {\r\n    loading: isLoading(store, GET_SUBSCRIPTION_TIMELINE),\r\n    subscription, timeline\r\n  }\r\n};\r\n\r\nexport default connect(mapStateToProps, {\r\n  getSubscriptionTimeline\r\n})(SubscriptionAddOn);","import React from 'react';\r\nimport {connect} from 'react-redux';\r\nimport _ from 'lodash';\r\nimport moment from \"moment\";\r\n\r\nimport {isLoading} from 'store/selectors';\r\nimport {GET_SUBSCRIPTION_DAILY_USAGE} from \"constants/ActionTypes\";\r\nimport {getSubscriptionDailyUsage} from 'actions/Subscription';\r\n\r\nimport {\r\n  TagsOutlined\r\n} from '@ant-design/icons';\r\nimport {\r\n  Table, Typography, Spin, Space, Select\r\n} from 'antd';\r\n\r\nclass SubscriptionDailyUsage extends React.Component {\r\n\r\n  componentDidMount() {\r\n    this.props.getSubscriptionDailyUsage(this.props.subs)\r\n  }\r\n\r\n  handleDateChange = value => {\r\n    const [start, end] = _.split(value, ';');\r\n    this.props.getSubscriptionDailyUsage(this.props.subs, {start, end});\r\n  };\r\n\r\n  render() {\r\n\r\n    const {loading, dailyUsage} = this.props;\r\n\r\n    const periods = dailyUsage.periods ? dailyUsage.periods : [];\r\n\r\n    const columns = dailyUsage.columns ? dailyUsage.columns : [];\r\n\r\n    const data = dailyUsage.data ? dailyUsage.data : [];\r\n\r\n    const dateStringValue = ([start, end]) => moment(start).format('YYYY-MM-DD') + ';' + moment(end).format('YYYY-MM-DD');\r\n\r\n    const dateColumn = [{title: 'Date', dataIndex: 'date', key: 'date', sorter: (a, b) => moment(a.date) - moment(b.date),\r\n      defaultSortOrder: 'descend', render: (date) => date ? moment(date).format('LL') : null}];\r\n\r\n    const dataColumn = _.map(columns, ({key, ...column}) => ({...column, key, sorter: (a, b) => a[key] - b[key],\r\n          render: value => value ? <Typography.Text mark>{value}</Typography.Text> : value}));\r\n    \r\n    const current = _.find(periods, ([start, end]) => moment().isBetween(moment(start), moment(end), 'day', '[]')) ? \r\n      _.find(periods, ([start, end]) => moment().isBetween(moment(start), moment(end), 'day', '[]')) :\r\n      _.last(periods);\r\n\r\n    return (\r\n      <Spin spinning={loading}>\r\n        <Space direction={'vertical'} style={{width: '100%'}}>\r\n          {periods.length &&\r\n          <Select\r\n            showSearch\r\n            defaultValue={dateStringValue(current)}\r\n            onChange={this.handleDateChange}\r\n            loading={loading} style={{float: 'right'}}>\r\n            {_.map(periods, ([start, end]) => <Select.Option value={dateStringValue([start, end])}>\r\n              {moment(start).format('DD MMMM YYYY')} - {moment(end).format('DD MMMM YYYY')}\r\n            </Select.Option>)}\r\n          </Select>}\r\n          <Table columns={[...dateColumn, ...dataColumn]} dataSource={data} pagination={false}\r\n                 style={{scrollBehavior: 'smooth'}}\r\n                 summary={(data => (\r\n                   <Table.Summary.Row id={'summary'}>\r\n                     <Table.Summary.Cell><Typography.Text strong>Total Usage</Typography.Text></Table.Summary.Cell>\r\n                     {_.map(columns, ({dataIndex, _limit, _addOn}) => {\r\n                       const addOn = () => _addOn ? <TagsOutlined/> : null;\r\n                       if (_limit === 'unlimited')\r\n                         return (<Table.Summary.Cell>\r\n                           <Typography.Text strong\r\n                                            type=\"success\">{_.sumBy(data, dataIndex)} / {_limit} {addOn()}</Typography.Text>\r\n                         </Table.Summary.Cell>);\r\n                       else if (parseInt(_limit))\r\n                         return (<Table.Summary.Cell>\r\n                           <Typography.Text strong>{_.sumBy(data, dataIndex)} / {_limit} {addOn()}</Typography.Text>\r\n                         </Table.Summary.Cell>);\r\n                       else if (_.isNull(_limit))\r\n                         return (<Table.Summary.Cell>\r\n                           <Typography.Text strong type=\"danger\">Locked</Typography.Text>\r\n                         </Table.Summary.Cell>);\r\n                       else\r\n                         return <Table.Summary.Cell/>;\r\n                     })}\r\n                   </Table.Summary.Row>\r\n                 ))}/>\r\n        </Space>\r\n      </Spin>\r\n    );\r\n  }\r\n\r\n}\r\n\r\nconst mapStateToProps = (store) => {\r\n  const {subscription: {subscription, dailyUsage}} = store;\r\n  return {\r\n    loading: isLoading(store, GET_SUBSCRIPTION_DAILY_USAGE),\r\n    subscription, dailyUsage\r\n  }\r\n};\r\n\r\nexport default connect(mapStateToProps, {getSubscriptionDailyUsage})(SubscriptionDailyUsage);","import React from 'react';\r\nimport {connect} from 'react-redux';\r\nimport _ from 'lodash';\r\nimport moment from \"moment\";\r\nimport './Quota.css'\r\n\r\nimport {isLoading} from 'store/selectors';\r\nimport {GET_SUBSCRIPTION_QUOTA} from \"constants/ActionTypes\";\r\nimport {getSubscriptionQuota} from 'actions/Subscription';\r\n\r\nimport {TagsOutlined} from '@ant-design/icons';\r\nimport { orange, red, green } from '@ant-design/colors';\r\n\r\nimport {\r\n  Collapse, Space, Typography, Progress, Row, Col, Statistic, Divider, Spin, Select\r\n} from 'antd';\r\n\r\nimport UsageChart from \"../Chart/UsageChart\";\r\n\r\nclass SubscriptionQuota extends React.Component {\r\n\r\n  componentDidMount() {\r\n    this.props.getSubscriptionQuota(this.props.subs)\r\n  }\r\n\r\n  handleDateChange = value => {\r\n    const [start, end] = _.split(value, ';');\r\n    this.props.getSubscriptionQuota(this.props.subs, {start, end});\r\n  };\r\n\r\n  renderLimit = (is_unlimited, limit, reset, addOns) => {\r\n    if (is_unlimited)\r\n      return <Statistic title=\"Limit\" value={''} suffix={addOns.length ? <TagsOutlined/> : null} valueStyle={{color: green.primary}}/>;\r\n    else if (_.isNull(limit))\r\n      return <Statistic title=\"Limit\" value={'Locked'} valueStyle={{color: red.primary}}/>;\r\n    else\r\n      return <>\r\n        <Statistic title=\"Limit\" value={limit} suffix={addOns.length ? <TagsOutlined/> : null}/>\r\n        {reset && reset !== 'never' && <Typography.Text type={'secondary'}>{reset}</Typography.Text>}\r\n      </>;\r\n  };\r\n\r\n  renderMiniProgress = (is_unlimited, limit, usage) => {\r\n    if (is_unlimited)\r\n      return <Space>\r\n        <Typography.Text strong type={'success'}>Unlimited</Typography.Text>\r\n        <div style={{width: 170}}><Progress percent={100}/></div>\r\n      </Space>;\r\n    else if (_.isNull(limit))\r\n      return <Space>\r\n        <Typography.Text strong type={'danger'}>Locked</Typography.Text>\r\n        <div style={{width: 170}}><Progress percent={100} status=\"exception\"/></div>\r\n      </Space>;\r\n    else {\r\n      const percent = usage / limit * 100;\r\n      if (percent >= 100)\r\n        return <Space>\r\n          <Typography.Text strong type={'danger'}>Limit Reached</Typography.Text>\r\n          <div style={{width: 170}}><Progress percent={100} status=\"exception\"/></div>\r\n        </Space>;\r\n      else if (percent >= 95)\r\n        return <div style={{width: 170}}><Progress percent={Math.round(percent)}\r\n                                                   strokeColor={{'0%': red.primary, '100%': red.primary}}/>\r\n        </div>;\r\n      else if (percent >= 80)\r\n        return <div style={{width: 170}}><Progress percent={Math.round(percent)} strokeColor={{\r\n          '0%': orange.primary,\r\n          '100%': orange.primary\r\n        }}/></div>;\r\n      else\r\n        return <div style={{width: 170}}><Progress percent={Math.round(percent)}/></div>\r\n    }\r\n  };\r\n\r\n  renderProgress = (is_unlimited, limit, usage) => {\r\n    if (is_unlimited)\r\n      return <Progress type={'circle'} percent={100} format={() => ''}/>;\r\n    else if (_.isNull(limit))\r\n      return <Progress type={'circle'} percent={100} status=\"exception\" format={() => 'Locked'}/>;\r\n    else {\r\n      const percent = usage / limit * 100;\r\n      if (percent >= 100)\r\n        return <Progress type={'circle'} percent={100} status=\"exception\" format={() => 'Reached'}/>;\r\n      else if (percent >= 95)\r\n        return <Progress type={'circle'} percent={Math.round(percent)}\r\n                         strokeColor={{'0%': red.primary, '100%': red.primary}}/>;\r\n      else if (percent >= 80)\r\n        return <Progress type={'circle'} percent={Math.round(percent)}\r\n                         strokeColor={{'0%': orange.primary, '100%': orange.primary}}/>;\r\n      else\r\n        return <Progress type={'circle'} percent={Math.round(percent)}/>\r\n    }\r\n  };\r\n\r\n  render() {\r\n\r\n    const {loading, quota} = this.props;\r\n\r\n    const periods = quota.periods ? quota.periods : [];\r\n\r\n    const quotas = quota.quotas ? quota.quotas : [];\r\n\r\n    const dateStringValue = ([start, end]) => moment(start).format('YYYY-MM-DD') + ';' + moment(end).format('YYYY-MM-DD');\r\n\r\n    const current = _.find(periods, ([start, end]) => moment().isBetween(moment(start), moment(end), 'day', '[]')) ?\r\n      _.find(periods, ([start, end]) => moment().isBetween(moment(start), moment(end), 'day', '[]')) :\r\n      _.last(periods);\r\n\r\n    return (\r\n      <Spin spinning={loading}>\r\n        <Space direction={'vertical'} style={{width: '100%'}}>\r\n          {periods.length &&\r\n          <Select\r\n            showSearch\r\n            defaultValue={dateStringValue(current)}\r\n            onChange={this.handleDateChange}\r\n            loading={loading} style={{float: 'right'}}>\r\n            {_.map(periods, ([start, end]) => <Select.Option value={dateStringValue([start, end])}>\r\n              {moment(start).format('DD MMMM YYYY')} - {moment(end).format('DD MMMM YYYY')}\r\n            </Select.Option>)}\r\n          </Select>}\r\n          <Collapse\r\n            accordion\r\n            defaultActiveKey={['1']}\r\n            bordered={false}\r\n            className=\"site-collapse-custom-collapse\">\r\n            {_.map(quotas, ({id, code, usage, limit, reset, is_unlimited, chart, addOns}, index) => (\r\n              <Collapse.Panel\r\n                header={<Typography.Text>{_.capitalize(code)}</Typography.Text>}\r\n                extra={this.renderMiniProgress(is_unlimited, limit, _.sumBy(chart, 'usages'))}\r\n                key={(index + 1) + ''}\r\n                className=\"site-collapse-custom-panel\">\r\n                <Row gutter={[16, 24]}>\r\n                  <Col span={6}>\r\n                    <Row gutter={[16, 24]}>\r\n                      <Col span={11}><Statistic title=\"Usage\" value={usage}/></Col>\r\n                      <Col span={2}><Divider type=\"vertical\" style={{height: '100%'}}/></Col>\r\n                      <Col span={11}>{this.renderLimit(is_unlimited, limit, reset, addOns)}</Col>\r\n                      <Col span={24} style={{padding: '45px 8px'}}>\r\n                        <Space direction=\"horizontal\" style={{width: '100%', justifyContent: 'center'}}>\r\n                          {this.renderProgress(is_unlimited, limit, _.sumBy(chart, 'usages'))}\r\n                        </Space>\r\n                      </Col>\r\n                    </Row>\r\n                  </Col>\r\n                  <Col span={18}>\r\n                    <UsageChart identifier={`usage-chart-${index}`} data={chart}/>\r\n                  </Col>\r\n                </Row>\r\n              </Collapse.Panel>\r\n            ))}\r\n          </Collapse>\r\n        </Space>\r\n      </Spin>\r\n    );\r\n  }\r\n\r\n}\r\n\r\nconst mapStateToProps = (store) => {\r\n  const {subscription: {subscription, quota}} = store;\r\n  return {\r\n    loading: isLoading(store, GET_SUBSCRIPTION_QUOTA),\r\n    subscription, quota\r\n  }\r\n};\r\n\r\nexport default connect(mapStateToProps, {getSubscriptionQuota})(SubscriptionQuota);","import React from 'react';\r\nimport * as am4core from \"@amcharts/amcharts4/core\";\r\nimport * as am4charts from \"@amcharts/amcharts4/charts\";\r\nimport am4themes_animated from \"@amcharts/amcharts4/themes/animated\";\r\nimport moment from \"moment\";\r\nimport _ from \"lodash\";\r\n\r\nam4core.useTheme(am4themes_animated);\r\n\r\nclass UsageChart extends React.Component {\r\n\r\n  createDateArray = (start, end) => {\r\n    var days = [];\r\n    var day = start;\r\n\r\n    while (day <= end) {\r\n      days.push(day.toDate());\r\n      day = day.clone().add(1, 'day');\r\n    }\r\n\r\n    return days;\r\n  };\r\n  \r\n  componentDidMount() {\r\n    this.renderChart()\r\n  }\r\n  \r\n  componentDidUpdate(prevProps, prevState, snapshot) {\r\n    if (this.chart) this.chart.dispose();\r\n    \r\n    this.renderChart()\r\n  }\r\n\r\n  componentWillUnmount() {\r\n    if (this.chart) this.chart.dispose();\r\n  }\r\n  \r\n  renderChart() {\r\n    const {identifier, data} = this.props;\r\n\r\n    // Create chart instance\r\n    var chart = am4core.create(identifier, am4charts.XYChart);\r\n\r\n    // Add data\r\n    chart.data = data;\r\n\r\n    // Create axes\r\n    var dateAxis = chart.xAxes.push(new am4charts.DateAxis());\r\n    dateAxis.startLocation = 0.5;\r\n    dateAxis.endLocation = 0.5;\r\n\r\n    // Create value axis\r\n    var valueAxis = chart.yAxes.push(new am4charts.ValueAxis());\r\n    valueAxis.min = 0;\r\n    // if (!_.isNull(limit)) valueAxis.max = limit;\r\n\r\n    // Create series\r\n    var series = chart.series.push(new am4charts.LineSeries());\r\n    series.dataFields.valueY = \"usages\";\r\n    series.dataFields.dateX = \"date\";\r\n    series.strokeWidth = 3;\r\n    series.tooltipText = \"{valueY.value}\";\r\n    series.fillOpacity = 0.1;\r\n\r\n    // Create a range to change stroke for values below 0\r\n    // var range = valueAxis.createSeriesRange(series);\r\n    // range.value = 0;\r\n    // range.endValue = -1000;\r\n    // range.contents.stroke = chart.colors.getIndex(4);\r\n    // range.contents.fill = range.contents.stroke;\r\n    // range.contents.strokeOpacity = 0.7;\r\n    // range.contents.fillOpacity = 0.1;\r\n\r\n    // Add cursor\r\n    chart.cursor = new am4charts.XYCursor();\r\n    chart.cursor.xAxis = dateAxis;\r\n    chart.scrollbarX = new am4core.Scrollbar();\r\n\r\n    series.tooltip.getFillFromObject = false;\r\n    series.tooltip.adapter.add(\"x\", (x, target) => {\r\n      if (series.tooltip.tooltipDataItem.valueY < 0) {\r\n        series.tooltip.background.fill = chart.colors.getIndex(4);\r\n      } else {\r\n        series.tooltip.background.fill = chart.colors.getIndex(0);\r\n      }\r\n      return x;\r\n    });\r\n    \r\n    // if (!_.isNull(limit)) {\r\n    //   // Add a guide\r\n    //   let guide = valueAxis.axisRanges.create();\r\n    //   guide.value = limit;\r\n    //   guide.grid.stroke = am4core.color(\"#396478\");\r\n    //   guide.grid.strokeWidth = 1;\r\n    //   guide.grid.strokeOpacity = 1;\r\n    //   guide.grid.strokeDasharray = \"3,3\";\r\n    //   guide.label.inside = true;\r\n    //   guide.label.text = \"Limit\";\r\n    //   guide.label.fill = guide.grid.stroke;\r\n    //   guide.label.verticalCenter = \"top\";\r\n    // }\r\n\r\n    this.chart = chart;\r\n  }\r\n\r\n  render() {\r\n    const {identifier} = this.props;\r\n\r\n    return <div id={identifier} style={{width: \"100%\", height: \"300px\"}}/>\r\n  }\r\n\r\n}\r\n\r\nexport default UsageChart;","import React from 'react';\r\nimport {connect} from 'react-redux';\r\nimport _ from 'lodash';\r\nimport moment from \"moment\";\r\n\r\nimport {isLoading} from 'store/selectors';\r\nimport {GET_USAGE} from \"constants/ActionTypes\";\r\nimport UserAvatar from \"components/Avatar\";\r\n\r\nimport {getUsage} from 'actions/Usage';\r\nimport {onResetDataState} from 'actions/Common';\r\n\r\nimport {Icon} from '@ant-design/compatible';\r\nimport { AppstoreOutlined, ContainerOutlined, InfoCircleOutlined } from '@ant-design/icons';\r\nimport {\r\n  Spin,\r\n  Row,\r\n  Col,\r\n  Avatar,\r\n  Table,\r\n  Typography,\r\n  Space,\r\n  Tabs,\r\n  Select,\r\n  Card\r\n} from 'antd';\r\n\r\nimport SubscriptionStatusTag from \"components/Tags/SubscriptionStatus\";\r\nimport PackageTag from \"components/Tags/Package\";\r\n\r\nimport DailyUsage from \"./Tabs/DailyUsage\";\r\nimport Quota from \"./Tabs/Quota\";\r\n\r\nclass ServiceUsage extends React.Component {\r\n\r\n  constructor (props) {\r\n    super(props);\r\n    this.state = {\r\n      date: [moment().startOf('month'), moment().endOf('month')],\r\n      column: [\r\n        {\r\n          title: 'Package',\r\n          dataIndex: 'package',\r\n          key: 'package',\r\n          render: (_package) => (_package && <PackageTag name={_package.name}/>)\r\n        },\r\n        {\r\n          title: 'Start Date',\r\n          dataIndex: 'start_date',\r\n          key: 'start_date',\r\n          render: (date) => date ? moment(date).format('LL') : null\r\n        },\r\n        {\r\n          title: 'End Date',\r\n          dataIndex: 'end_date',\r\n          key: 'end_date',\r\n          render: (date) => date ? moment(date).format('LL') : null\r\n        },\r\n        {\r\n          title: 'Status',\r\n          dataIndex: 'status',\r\n          key: 'status',\r\n          render: (status) => (status && <SubscriptionStatusTag status={status}/>)\r\n        },\r\n      ]\r\n    }\r\n  }\r\n  \r\n  componentDidMount() {\r\n    const { match : { params } } = this.props;\r\n    if (params.service) {this.props.getUsage(params.service)}\r\n  }\r\n  \r\n  componentWillUnmount() {this.props.onResetDataState()}\r\n\r\n  createDateRangeArray = (start, end) => {\r\n    var days = [];\r\n    var day = start;\r\n\r\n    while (moment(day).isSameOrBefore(end, 'month')) {\r\n      days.push([day.startOf('month').toDate(), day.endOf('month').toDate()]);\r\n      day = day.clone().add(1, 'month');\r\n    }\r\n\r\n    return days;\r\n  };\r\n\r\n  handleDateChange = value => {\r\n    const { match : { params } } = this.props;\r\n    const [start, end] = _.split(value, ';');\r\n    this.setState({date: [moment(start), moment(end)]});\r\n    if (params.service) {this.props.getUsage(params.service, moment(start), moment(end))}\r\n  };\r\n\r\n  render() {\r\n\r\n    const {loading, service} = this.props;\r\n    const {date, column} = this.state;\r\n\r\n    const dateStringValue = ([start, end]) => moment(start).format('YYYY-MM-DD') + ';' + moment(end).format('YYYY-MM-DD');\r\n    const dateFilter = service && service.subscription ?\r\n      this.createDateRangeArray(moment(service.subscription.start_date), moment()) : [date];\r\n\r\n    return (\r\n      <Space direction={'vertical'} size={'middle'} style={{width: '100%'}}>\r\n        <Typography.Title level={4}>Service Usage</Typography.Title>\r\n        <Card bordered={false} \r\n              title={'Period'}\r\n              bodyStyle={{padding: 0}}\r\n              extra={[\r\n                <Spin spinning={loading}>\r\n                  <Select\r\n                    showSearch\r\n                    defaultValue={dateStringValue(date)}\r\n                    onChange={this.handleDateChange}\r\n                    loading={loading}>\r\n                    {_.map(dateFilter, ([start, end]) => <Select.Option value={dateStringValue([start, end])}>\r\n                      {moment().isBetween(start, end) ? 'This month' : moment(start).format('MMMM YYYY')}\r\n                    </Select.Option>)}\r\n                  </Select>\r\n                </Spin>\r\n              ]}/>\r\n        <Row gutter={[16]}>\r\n          <Col span={6}>\r\n            <Spin spinning={loading}>\r\n              <Card bordered={false} title={'Service Information'}\r\n                    actions={[<Typography.Link href={`/app/api-market/${service ? service.id : ''}`} target={'_blank'}><InfoCircleOutlined/></Typography.Link>]}\r\n                    bodyStyle={{minHeight: 120}}>\r\n                {service &&\r\n                <Card.Meta\r\n                  avatar={<Avatar style={{color: '#f56a00', backgroundColor: '#fde3cf'}}\r\n                                  icon={<Icon type={service.icon}/>}/>}\r\n                  title={service.name}\r\n                  description={service.service_group.name}\r\n                />}\r\n              </Card>\r\n            </Spin>\r\n          </Col>\r\n          <Col span={6}>\r\n            <Card bordered={false} title={'Customer'} bodyStyle={{minHeight: 168}}>\r\n              <Spin spinning={loading}>\r\n                {service &&\r\n                <Card.Meta\r\n                  avatar={<UserAvatar only name={service.user.fullname}/>}\r\n                  title={<>{service.user.fullname}<br/><Typography.Text type={'secondary'}>{service.user.email}</Typography.Text></>}\r\n                  description={'ID : ' + service.user.mysights_id}\r\n                />}\r\n              </Spin>\r\n            </Card>\r\n          </Col>\r\n          <Col span={12}>\r\n            <Card bordered={false} title={'Subscription'}>\r\n              <Spin spinning={loading}>\r\n                {service && \r\n                <Table columns={column} dataSource={service.subscriptions} pagination={false} size=\"small\"/>}\r\n              </Spin>\r\n            </Card>\r\n          </Col>\r\n        </Row>\r\n        <Card bordered={false}>\r\n          <Spin spinning={loading}>\r\n            {service &&\r\n            <Tabs defaultActiveKey=\"1\">\r\n              <Tabs.TabPane\r\n                tab={<span><AppstoreOutlined/> Quota</span>}\r\n                key=\"1\">\r\n                <Quota period={date}/>\r\n              </Tabs.TabPane>\r\n              <Tabs.TabPane\r\n                tab={<span><ContainerOutlined/> Daily Usage</span>}\r\n                key=\"2\">\r\n                <DailyUsage period={date}/>\r\n              </Tabs.TabPane>\r\n            </Tabs>}\r\n          </Spin>\r\n        </Card>\r\n      </Space>\r\n    );\r\n  }\r\n\r\n}\r\n\r\nconst mapStateToProps = (store) => {\r\n  const {usage: {service}} = store;\r\n  return {\r\n    loading: isLoading(store, GET_USAGE),\r\n    service\r\n  }\r\n};\r\n\r\nexport default connect(mapStateToProps, {getUsage, onResetDataState})(ServiceUsage);","import React from 'react';\r\nimport {connect} from 'react-redux';\r\nimport _ from 'lodash';\r\nimport moment from \"moment\";\r\n\r\nimport {\r\n  Table, Space, Typography, Anchor, Button\r\n} from 'antd';\r\n\r\nimport PackageTag from \"components/Tags/Package\";\r\n\r\nclass DailyUsage extends React.Component {\r\n\r\n  createDateArray = (start, end) => {\r\n    var days = [];\r\n    var day = start;\r\n\r\n    while (day <= end) {\r\n      days.push(day.toDate());\r\n      day = day.clone().add(1, 'day');\r\n    }\r\n\r\n    return days;\r\n  };\r\n\r\n  render() {\r\n    const {service, period} = this.props;\r\n    const [start, end] = period;\r\n\r\n    const dateColumn = [{title: 'Date', dataIndex: 'date', key: 'date', sorter: (a, b) => a.date - b.date,\r\n      defaultSortOrder: 'descend', render: (date) => date ? moment(date).format('LL') : null}];\r\n    const column = _(service.subscriptions).map(({package: _package, ...rest}) => {\r\n      return _.map(_package.limits, ({id, code, limit, is_unlimited}) => {\r\n        const key = `${rest.id}-${id}-${code}`;\r\n        return {\r\n          title: () => <Space>{_.capitalize(code)}<PackageTag name={_package.name}/></Space>,\r\n          dataIndex: key,\r\n          key: key,\r\n          sorter: (a, b) => a[key] - b[key],\r\n          render: value => value ? <Typography.Text mark>{value}</Typography.Text> : value,\r\n          _limit: is_unlimited ? 'unlimited' : limit\r\n        }\r\n      })\r\n    }).flatten().value();\r\n\r\n    const data = _.map(this.createDateArray(start, moment().isSameOrAfter(end) ? end : moment()), date => {\r\n      const usage = _.map(column, ({key}) => {\r\n        const [subs_id, limit_id] = _.split(key, '-');\r\n        const subs = _.find(service.subscriptions, {id: parseInt(subs_id)});\r\n        const limit = _.find(subs.package.limits, {id: parseInt(limit_id)});\r\n        const usages = _.filter(limit.usages, ({request_timestamp}) => moment(request_timestamp).isSame(date, 'date'));\r\n        return {key, value: _.sumBy(usages, 'amount')}\r\n      });\r\n      return {date, ..._(usage).keyBy('key').mapValues('value').value()}\r\n    });\r\n\r\n    return (\r\n      <Space direction={'vertical'} style={{width: '100%'}}>\r\n        <Anchor affix={false} style={{float: 'right'}}>\r\n          <Anchor.Link href=\"#summary\" title={\r\n            <Button type=\"primary\">Total</Button>\r\n          }/>\r\n        </Anchor>\r\n        <Table columns={[...dateColumn, ...column]} dataSource={data} pagination={false} style={{scrollBehavior: 'smooth'}}\r\n               summary={(data => (\r\n                 <Table.Summary.Row id={'summary'}>\r\n                   <Table.Summary.Cell><Typography.Text strong>Total Usage</Typography.Text></Table.Summary.Cell>\r\n                   {_.map(column, ({dataIndex, _limit}) => {\r\n                     if (_limit === 'unlimited')\r\n                       return (<Table.Summary.Cell>\r\n                         <Typography.Text strong type=\"success\">{_.sumBy(data, dataIndex)} / {_limit}</Typography.Text>\r\n                       </Table.Summary.Cell>);\r\n                     else if (parseInt(_limit))\r\n                       return (<Table.Summary.Cell>\r\n                         <Typography.Text strong>{_.sumBy(data, dataIndex)} / {_limit}</Typography.Text>\r\n                       </Table.Summary.Cell>);\r\n                     else if (_.isNull(_limit))\r\n                       return (<Table.Summary.Cell>\r\n                         <Typography.Text strong type=\"danger\">Locked</Typography.Text>\r\n                       </Table.Summary.Cell>);\r\n                     else\r\n                       return <Table.Summary.Cell/>;\r\n                   })}\r\n                 </Table.Summary.Row>\r\n               ))}/>\r\n      </Space>\r\n    );\r\n  }\r\n\r\n}\r\n\r\nconst mapStateToProps = ({usage}) => {\r\n  const {service} = usage;\r\n  return {service}\r\n};\r\n\r\nexport default connect(mapStateToProps, {})(DailyUsage);","import React from 'react';\r\nimport {connect} from 'react-redux';\r\nimport _ from 'lodash';\r\nimport './Quota.css'\r\nimport { orange, red, green } from '@ant-design/colors';\r\n\r\nimport {\r\n  Collapse, Space, Typography, Progress, Row, Col, Statistic, Divider\r\n} from 'antd';\r\n\r\nimport PackageTag from \"components/Tags/Package\";\r\n\r\nimport UsageChart from \"./Chart/UsageChart\";\r\n\r\nclass Quota extends React.Component {\r\n\r\n  renderLimit = (is_unlimited, limit, reset) => {\r\n    if (is_unlimited)\r\n      return <Statistic title=\"Limit\" value={'Unlimited'} valueStyle={{color: green.primary}}/>;\r\n    else if (_.isNull(limit))\r\n      return <Statistic title=\"Limit\" value={'Locked'} valueStyle={{color: red.primary}}/>;\r\n    else\r\n      return <>\r\n        <Statistic title=\"Limit\" value={limit}/>\r\n        {reset && reset !== 'never' && <Typography.Text type={'secondary'}>{reset}</Typography.Text>}\r\n      </>;\r\n  };\r\n  \r\n  renderMiniProgress = (is_unlimited, limit, usage) => {\r\n    if (is_unlimited)\r\n      return <Space>\r\n        <Typography.Text strong type={'success'}>Unlimited</Typography.Text>\r\n        <div style={{width: 170}}><Progress percent={100}/></div>\r\n      </Space>;\r\n    else if (_.isNull(limit))\r\n      return <Space>\r\n        <Typography.Text strong type={'danger'}>Locked</Typography.Text>\r\n        <div style={{width: 170}}><Progress percent={100} status=\"exception\"/></div>\r\n      </Space>;\r\n    else {\r\n      const percent = usage / limit * 100;\r\n      if (percent >= 100)\r\n        return <Space>\r\n          <Typography.Text strong type={'danger'}>Limit Reached</Typography.Text>\r\n          <div style={{width: 170}}><Progress percent={100} status=\"exception\"/></div>\r\n        </Space>;\r\n      else if (percent >= 95)\r\n        return <div style={{width: 170}}><Progress percent={Math.round(percent)}\r\n                                                   strokeColor={{'0%': red.primary, '100%': red.primary}}/>\r\n        </div>;\r\n      else if (percent >= 80)\r\n        return <div style={{width: 170}}><Progress percent={Math.round(percent)} strokeColor={{\r\n          '0%': orange.primary,\r\n          '100%': orange.primary\r\n        }}/></div>;\r\n      else\r\n        return <div style={{width: 170}}><Progress percent={Math.round(percent)}/></div>\r\n    }\r\n  };\r\n\r\n  renderProgress = (is_unlimited, limit, usage) => {\r\n    if (is_unlimited)\r\n      return <Progress type={'circle'} percent={100} format={() => 'Unlimited'}/>;\r\n    else if (_.isNull(limit))\r\n      return <Progress type={'circle'} percent={100} status=\"exception\" format={() => 'Locked'}/>;\r\n    else {\r\n      const percent = usage / limit * 100;\r\n      if (percent >= 100)\r\n        return <Progress type={'circle'} percent={100} status=\"exception\" format={() => 'Reached'}/>;\r\n      else if (percent >= 95)\r\n        return <Progress type={'circle'} percent={Math.round(percent)}\r\n                         strokeColor={{'0%': red.primary, '100%': red.primary}}/>;\r\n      else if (percent >= 80)\r\n        return <Progress type={'circle'} percent={Math.round(percent)}\r\n                         strokeColor={{'0%': orange.primary, '100%': orange.primary}}/>;\r\n      else\r\n        return <Progress type={'circle'} percent={Math.round(percent)}/>\r\n    }\r\n  };\r\n  \r\n  render() {\r\n    const {service, period} = this.props;\r\n    const [start, end] = period;\r\n    \r\n    const limits = _(service.subscriptions).map(({package: _package, ...rest}) => {\r\n      return _.map(_package.limits, (limit) => {\r\n        return {...limit, package: _package.name}\r\n      })\r\n    }).flatten().value();\r\n    \r\n    return (\r\n      <Collapse\r\n        accordion\r\n        defaultActiveKey={['1']}\r\n        bordered={false}\r\n        className=\"site-collapse-custom-collapse\">\r\n        {_.map(limits, ({id, code, limit, reset, is_unlimited, usages, package: _package}, index) => (\r\n          <Collapse.Panel\r\n            header={\r\n              <Space>\r\n                <Typography.Text>{_.capitalize(code)}</Typography.Text>\r\n                <PackageTag name={_package}/>\r\n              </Space>\r\n            }\r\n            extra={this.renderMiniProgress(is_unlimited, limit, _.sumBy(usages, 'amount'))}\r\n            key={(index + 1) + ''}\r\n            className=\"site-collapse-custom-panel\">\r\n            <Row gutter={[16, 24]}>\r\n              <Col span={6}>\r\n                <Row gutter={[16, 24]}>\r\n                  <Col span={11}><Statistic title=\"Usage\" value={_.sumBy(usages, 'amount')}/></Col>\r\n                  <Col span={2}><Divider type=\"vertical\" style={{height: '100%'}}/></Col>\r\n                  <Col span={11}>{this.renderLimit(is_unlimited, limit, reset)}</Col>\r\n                  <Col span={24} style={{padding: '45px 8px'}}>\r\n                    <Space direction=\"horizontal\" style={{width: '100%', justifyContent: 'center'}}>\r\n                      {this.renderProgress(is_unlimited, limit, _.sumBy(usages, 'amount'))}\r\n                    </Space>\r\n                  </Col>\r\n                </Row>\r\n              </Col>\r\n              <Col span={18}>\r\n                <UsageChart identifier={`usage-chart-${index}`} data={usages} start={start} end={end}\r\n                            limit={is_unlimited ? null : limit ? limit : 0}/>\r\n              </Col>\r\n            </Row>\r\n          </Collapse.Panel>\r\n        ))}\r\n      </Collapse>\r\n    );\r\n  }\r\n\r\n}\r\n\r\nconst mapStateToProps = ({usage}) => {\r\n  const {service} = usage;\r\n  return {service}\r\n};\r\n\r\nexport default connect(mapStateToProps, {})(Quota);","import React from 'react';\r\nimport * as am4core from \"@amcharts/amcharts4/core\";\r\nimport * as am4charts from \"@amcharts/amcharts4/charts\";\r\nimport am4themes_animated from \"@amcharts/amcharts4/themes/animated\";\r\nimport moment from \"moment\";\r\nimport _ from \"lodash\";\r\n\r\nam4core.useTheme(am4themes_animated);\r\n\r\nclass UsageChart extends React.Component {\r\n\r\n  createDateArray = (start, end) => {\r\n    var days = [];\r\n    var day = start;\r\n\r\n    while (day <= end) {\r\n      days.push(day.toDate());\r\n      day = day.clone().add(1, 'day');\r\n    }\r\n\r\n    return days;\r\n  };\r\n  \r\n  componentDidMount() {\r\n    this.renderChart()\r\n  }\r\n  \r\n  componentDidUpdate(prevProps, prevState, snapshot) {\r\n    if (this.chart) this.chart.dispose();\r\n    \r\n    this.renderChart()\r\n  }\r\n\r\n  componentWillUnmount() {\r\n    if (this.chart) this.chart.dispose();\r\n  }\r\n  \r\n  renderChart() {\r\n    const {identifier, data, limit, start, end} = this.props;\r\n\r\n    // Create chart instance\r\n    var chart = am4core.create(identifier, am4charts.XYChart);\r\n\r\n    // Add data\r\n    chart.data = _.map(this.createDateArray(start, end), date => {\r\n      const usages = _.filter(data, ({request_timestamp}) => moment(request_timestamp).isSame(date, 'date'));\r\n      return {date, usages: _.sumBy(usages, 'amount')}\r\n    });\r\n\r\n    // Create axes\r\n    var dateAxis = chart.xAxes.push(new am4charts.DateAxis());\r\n    dateAxis.startLocation = 0.5;\r\n    dateAxis.endLocation = 0.5;\r\n\r\n    // Create value axis\r\n    var valueAxis = chart.yAxes.push(new am4charts.ValueAxis());\r\n    valueAxis.min = 0;\r\n    if (!_.isNull(limit)) valueAxis.max = limit;\r\n\r\n    // Create series\r\n    var series = chart.series.push(new am4charts.LineSeries());\r\n    series.dataFields.valueY = \"usages\";\r\n    series.dataFields.dateX = \"date\";\r\n    series.strokeWidth = 3;\r\n    series.tooltipText = \"{valueY.value}\";\r\n    series.fillOpacity = 0.1;\r\n\r\n    // Create a range to change stroke for values below 0\r\n    // var range = valueAxis.createSeriesRange(series);\r\n    // range.value = 0;\r\n    // range.endValue = -1000;\r\n    // range.contents.stroke = chart.colors.getIndex(4);\r\n    // range.contents.fill = range.contents.stroke;\r\n    // range.contents.strokeOpacity = 0.7;\r\n    // range.contents.fillOpacity = 0.1;\r\n\r\n    // Add cursor\r\n    chart.cursor = new am4charts.XYCursor();\r\n    chart.cursor.xAxis = dateAxis;\r\n    chart.scrollbarX = new am4core.Scrollbar();\r\n\r\n    series.tooltip.getFillFromObject = false;\r\n    series.tooltip.adapter.add(\"x\", (x, target) => {\r\n      if (series.tooltip.tooltipDataItem.valueY < 0) {\r\n        series.tooltip.background.fill = chart.colors.getIndex(4);\r\n      } else {\r\n        series.tooltip.background.fill = chart.colors.getIndex(0);\r\n      }\r\n      return x;\r\n    });\r\n    \r\n    if (!_.isNull(limit)) {\r\n      // Add a guide\r\n      let guide = valueAxis.axisRanges.create();\r\n      guide.value = limit;\r\n      guide.grid.stroke = am4core.color(\"#396478\");\r\n      guide.grid.strokeWidth = 1;\r\n      guide.grid.strokeOpacity = 1;\r\n      guide.grid.strokeDasharray = \"3,3\";\r\n      guide.label.inside = true;\r\n      guide.label.text = \"Limit\";\r\n      guide.label.fill = guide.grid.stroke;\r\n      guide.label.verticalCenter = \"top\";\r\n    }\r\n\r\n    this.chart = chart;\r\n  }\r\n\r\n  render() {\r\n    const {identifier} = this.props;\r\n\r\n    return <div id={identifier} style={{width: \"100%\", height: \"300px\"}}/>\r\n  }\r\n\r\n}\r\n\r\nexport default UsageChart;","import React from 'react';\r\nimport {connect} from 'react-redux';\r\nimport _ from 'lodash';\r\n\r\nimport {isLoading} from 'store/selectors';\r\nimport {GET_SUBSCRIBED_SERVICE} from \"constants/ActionTypes\";\r\n\r\nimport {getSubscribedService} from 'actions/Service';\r\nimport {onResetDataState} from 'actions/Common';\r\n\r\nimport {Icon} from '@ant-design/compatible';\r\nimport { ArrowRightOutlined } from '@ant-design/icons';\r\nimport {\r\n  Typography,\r\n  Spin,\r\n  Row,\r\n  Col,\r\n  Card,\r\n  Avatar,\r\n  Empty,\r\n  Tooltip,\r\n  Space\r\n} from 'antd';\r\n\r\nimport './Service.css';\r\n\r\nclass SubscribedService extends React.Component {\r\n\r\n  componentDidMount() {\r\n    this.props.getSubscribedService()\r\n  }\r\n  \r\n  componentWillUnmount() {this.props.onResetDataState()}\r\n\r\n  render() {\r\n    const {loading, services, history, match} = this.props;\r\n\r\n    return (\r\n      <Space direction={'vertical'} style={{width: '100%'}}>\r\n        <Typography.Title level={4}>Subscription & Usage</Typography.Title>\r\n        <Card bordered={false} title={'Subscribed Service'}>\r\n          <Spin spinning={loading}>\r\n            <Row gutter={[16, 24]}>\r\n              {services.length ? _.map(services, ({code, icon, name, service_group}) => (\r\n                <Col span={6}>\r\n                  <div>\r\n                    <Card\r\n                      className={'service-box'}\r\n                      actions={[\r\n                        <Tooltip title={'See usages'}>\r\n                          <ArrowRightOutlined onClick={() => history.push(`${match.url}/${code}`)}/>\r\n                        </Tooltip>\r\n                      ]}>\r\n                      <Card.Meta\r\n                        avatar={<Avatar style={{ color: '#f56a00', backgroundColor: '#fde3cf' }} icon={<Icon type={icon}/>}/>}\r\n                        title={name}\r\n                        description={service_group ? service_group.name : ''}\r\n                      />\r\n                    </Card>\r\n                  </div>\r\n                </Col>\r\n              )) : <Col span={24} style={{margin: '24px 8px'}}><Empty/></Col>}\r\n            </Row>\r\n          </Spin>\r\n        </Card>\r\n\r\n      </Space>\r\n    )\r\n  }\r\n\r\n}\r\n\r\nconst mapStateToProps = (store) => {\r\n  const {service: {services}} = store;\r\n  return {\r\n    loading: isLoading(store, GET_SUBSCRIBED_SERVICE),\r\n    services\r\n  }\r\n};\r\n\r\nexport default connect(mapStateToProps, {\r\n  getSubscribedService, onResetDataState\r\n})(SubscribedService);","import React from 'react';\r\nimport {connect} from 'react-redux';\r\nimport _ from 'lodash';\r\nimport moment from \"moment\";\r\n\r\nimport {isLoading} from 'store/selectors';\r\nimport {GET_USAGE} from \"constants/ActionTypes\";\r\nimport UserAvatar from \"components/Avatar\";\r\n\r\nimport {getServiceUsage} from 'actions/Usage';\r\nimport {onResetDataState} from 'actions/Common';\r\n\r\nimport {Icon} from '@ant-design/compatible';\r\nimport { AppstoreOutlined, ContainerOutlined, InfoCircleOutlined } from '@ant-design/icons';\r\nimport {\r\n  Spin,\r\n  Row,\r\n  Col,\r\n  Avatar,\r\n  Table,\r\n  Typography,\r\n  Space,\r\n  Tabs,\r\n  Select,\r\n  Card\r\n} from 'antd';\r\n\r\nimport SubscriptionStatusTag from \"components/Tags/SubscriptionStatus\";\r\nimport PackageTag from \"components/Tags/Package\";\r\n\r\nimport DailyUsage from \"./Tabs/DailyUsage\";\r\nimport Quota from \"./Tabs/Quota\";\r\n\r\nclass ServiceUsage extends React.Component {\r\n\r\n  constructor (props) {\r\n    super(props);\r\n    this.state = {\r\n      date: [moment().startOf('month'), moment().endOf('month')],\r\n      column: [\r\n        {\r\n          title: 'Package',\r\n          dataIndex: 'package',\r\n          key: 'package',\r\n          render: (_package) => (_package && <PackageTag name={_package.name}/>)\r\n        },\r\n        {\r\n          title: 'Start Date',\r\n          dataIndex: 'start_date',\r\n          key: 'start_date',\r\n          render: (date) => date ? moment(date).format('LL') : null\r\n        },\r\n        {\r\n          title: 'End Date',\r\n          dataIndex: 'end_date',\r\n          key: 'end_date',\r\n          render: (date) => date ? moment(date).format('LL') : null\r\n        },\r\n        {\r\n          title: 'Status',\r\n          dataIndex: 'status',\r\n          key: 'status',\r\n          render: (status) => (status && <SubscriptionStatusTag status={status}/>)\r\n        },\r\n      ]\r\n    }\r\n  }\r\n  \r\n  componentDidMount() {\r\n    const { match : { params } } = this.props;\r\n    if (params.service) {this.props.getServiceUsage(params.service, params.user)}\r\n  }\r\n  \r\n  componentWillUnmount() {this.props.onResetDataState()}\r\n\r\n  createDateRangeArray = (start, end) => {\r\n    var days = [];\r\n    var day = start;\r\n\r\n    while (moment(day).isSameOrBefore(end, 'month')) {\r\n      days.push([day.startOf('month').toDate(), day.endOf('month').toDate()]);\r\n      day = day.clone().add(1, 'month');\r\n    }\r\n\r\n    return days;\r\n  };\r\n\r\n  handleDateChange = value => {\r\n    const { match : { params } } = this.props;\r\n    const [start, end] = _.split(value, ';');\r\n    this.setState({date: [moment(start), moment(end)]});\r\n    if (params.service) {this.props.getServiceUsage(params.service, params.user, moment(start), moment(end))}\r\n  };\r\n\r\n  render() {\r\n\r\n    const {loading, service} = this.props;\r\n    const {date, column} = this.state;\r\n\r\n    const dateStringValue = ([start, end]) => moment(start).format('YYYY-MM-DD') + ';' + moment(end).format('YYYY-MM-DD');\r\n    const dateFilter = service && service.subscription ?\r\n      this.createDateRangeArray(moment(service.subscription.start_date), moment()) : [date];\r\n\r\n    return (\r\n      <Space direction={'vertical'} size={'middle'} style={{width: '100%'}}>\r\n        <Typography.Title level={4}>Service Usage</Typography.Title>\r\n        <Card bordered={false} \r\n              title={'Period'}\r\n              bodyStyle={{padding: 0}}\r\n              extra={[\r\n                <Spin spinning={loading}>\r\n                  <Select\r\n                    showSearch\r\n                    defaultValue={dateStringValue(date)}\r\n                    onChange={this.handleDateChange}\r\n                    loading={loading}>\r\n                    {_.map(dateFilter, ([start, end]) => <Select.Option value={dateStringValue([start, end])}>\r\n                      {moment().isBetween(start, end) ? 'This month' : moment(start).format('MMMM YYYY')}\r\n                    </Select.Option>)}\r\n                  </Select>\r\n                </Spin>\r\n              ]}/>\r\n        <Row gutter={[16]}>\r\n          <Col span={6}>\r\n            <Spin spinning={loading}>\r\n              <Card bordered={false} title={'Service Information'}\r\n                    actions={[<Typography.Link href={`/app/api-market/${service ? service.id : ''}`} target={'_blank'}><InfoCircleOutlined/></Typography.Link>]}\r\n                    bodyStyle={{minHeight: 120}}>\r\n                {service &&\r\n                <Card.Meta\r\n                  avatar={<Avatar style={{color: '#f56a00', backgroundColor: '#fde3cf'}}\r\n                                  icon={<Icon type={service.icon}/>}/>}\r\n                  title={service.name}\r\n                  description={service.service_group.name}\r\n                />}\r\n              </Card>\r\n            </Spin>\r\n          </Col>\r\n          <Col span={6}>\r\n            <Card bordered={false} title={'Customer'} bodyStyle={{minHeight: 168}}>\r\n              <Spin spinning={loading}>\r\n                {service &&\r\n                <Card.Meta\r\n                  avatar={<UserAvatar only name={service.user.fullname}/>}\r\n                  title={<>{service.user.fullname}<br/><Typography.Text type={'secondary'}>{service.user.email}</Typography.Text></>}\r\n                  description={'ID : ' + service.user.mysights_id}\r\n                />}\r\n              </Spin>\r\n            </Card>\r\n          </Col>\r\n          <Col span={12}>\r\n            <Card bordered={false} title={'Subscription'}>\r\n              <Spin spinning={loading}>\r\n                {service && \r\n                <Table columns={column} dataSource={service.subscriptions} pagination={false} size=\"small\"/>}\r\n              </Spin>\r\n            </Card>\r\n          </Col>\r\n        </Row>\r\n        <Card bordered={false}>\r\n          <Spin spinning={loading}>\r\n            {service &&\r\n            <Tabs defaultActiveKey=\"1\">\r\n              <Tabs.TabPane\r\n                tab={<span><AppstoreOutlined/> Quota</span>}\r\n                key=\"1\">\r\n                <Quota period={date}/>\r\n              </Tabs.TabPane>\r\n              <Tabs.TabPane\r\n                tab={<span><ContainerOutlined/> Daily Usage</span>}\r\n                key=\"2\">\r\n                <DailyUsage period={date}/>\r\n              </Tabs.TabPane>\r\n            </Tabs>}\r\n          </Spin>\r\n        </Card>\r\n      </Space>\r\n    );\r\n  }\r\n\r\n}\r\n\r\nconst mapStateToProps = (store) => {\r\n  const {usage: {service}} = store;\r\n  return {\r\n    loading: isLoading(store, GET_USAGE),\r\n    service\r\n  }\r\n};\r\n\r\nexport default connect(mapStateToProps, {getServiceUsage, onResetDataState})(ServiceUsage);","import React from 'react';\r\nimport {connect} from 'react-redux';\r\nimport _ from 'lodash';\r\nimport moment from \"moment\";\r\n\r\nimport {\r\n  Table, Space, Typography, Anchor, Button\r\n} from 'antd';\r\n\r\nimport PackageTag from \"components/Tags/Package\";\r\n\r\nclass DailyUsage extends React.Component {\r\n\r\n  createDateArray = (start, end) => {\r\n    var days = [];\r\n    var day = start;\r\n\r\n    while (day <= end) {\r\n      days.push(day.toDate());\r\n      day = day.clone().add(1, 'day');\r\n    }\r\n\r\n    return days;\r\n  };\r\n\r\n  render() {\r\n    const {service, period} = this.props;\r\n    const [start, end] = period;\r\n\r\n    const dateColumn = [{title: 'Date', dataIndex: 'date', key: 'date', sorter: (a, b) => a.date - b.date,\r\n      defaultSortOrder: 'descend', render: (date) => date ? moment(date).format('LL') : null}];\r\n    const column = _(service.subscriptions).map(({package: _package, ...rest}) => {\r\n      return _.map(_package.limits, ({id, code, limit, is_unlimited}) => {\r\n        const key = `${rest.id}-${id}-${code}`;\r\n        return {\r\n          title: () => <Space>{_.capitalize(code)}<PackageTag name={_package.name}/></Space>,\r\n          dataIndex: key,\r\n          key: key,\r\n          sorter: (a, b) => a[key] - b[key],\r\n          render: value => value ? <Typography.Text mark>{value}</Typography.Text> : value,\r\n          _limit: is_unlimited ? 'unlimited' : limit\r\n        }\r\n      })\r\n    }).flatten().value();\r\n\r\n    const data = _.map(this.createDateArray(start, moment().isSameOrAfter(end) ? end : moment()), date => {\r\n      const usage = _.map(column, ({key}) => {\r\n        const [subs_id, limit_id] = _.split(key, '-');\r\n        const subs = _.find(service.subscriptions, {id: parseInt(subs_id)});\r\n        const limit = _.find(subs.package.limits, {id: parseInt(limit_id)});\r\n        const usages = _.filter(limit.usages, ({request_timestamp}) => moment(request_timestamp).isSame(date, 'date'));\r\n        return {key, value: _.sumBy(usages, 'amount')}\r\n      });\r\n      return {date, ..._(usage).keyBy('key').mapValues('value').value()}\r\n    });\r\n\r\n    return (\r\n      <Space direction={'vertical'} style={{width: '100%'}}>\r\n        <Anchor affix={false} style={{float: 'right'}}>\r\n          <Anchor.Link href=\"#summary\" title={\r\n            <Button type=\"primary\">Total</Button>\r\n          }/>\r\n        </Anchor>\r\n        <Table columns={[...dateColumn, ...column]} dataSource={data} pagination={false} style={{scrollBehavior: 'smooth'}}\r\n               summary={(data => (\r\n                 <Table.Summary.Row id={'summary'}>\r\n                   <Table.Summary.Cell><Typography.Text strong>Total Usage</Typography.Text></Table.Summary.Cell>\r\n                   {_.map(column, ({dataIndex, _limit}) => {\r\n                     if (_limit === 'unlimited')\r\n                       return (<Table.Summary.Cell>\r\n                         <Typography.Text strong type=\"success\">{_.sumBy(data, dataIndex)} / {_limit}</Typography.Text>\r\n                       </Table.Summary.Cell>);\r\n                     else if (parseInt(_limit))\r\n                       return (<Table.Summary.Cell>\r\n                         <Typography.Text strong>{_.sumBy(data, dataIndex)} / {_limit}</Typography.Text>\r\n                       </Table.Summary.Cell>);\r\n                     else if (_.isNull(_limit))\r\n                       return (<Table.Summary.Cell>\r\n                         <Typography.Text strong type=\"danger\">Locked</Typography.Text>\r\n                       </Table.Summary.Cell>);\r\n                     else\r\n                       return <Table.Summary.Cell/>;\r\n                   })}\r\n                 </Table.Summary.Row>\r\n               ))}/>\r\n      </Space>\r\n    );\r\n  }\r\n\r\n}\r\n\r\nconst mapStateToProps = ({usage}) => {\r\n  const {service} = usage;\r\n  return {service}\r\n};\r\n\r\nexport default connect(mapStateToProps, {})(DailyUsage);","import React from 'react';\r\nimport {connect} from 'react-redux';\r\nimport _ from 'lodash';\r\nimport './Quota.css'\r\nimport { orange, red, green } from '@ant-design/colors';\r\n\r\nimport {\r\n  Collapse, Space, Typography, Progress, Row, Col, Statistic, Divider\r\n} from 'antd';\r\n\r\nimport PackageTag from \"components/Tags/Package\";\r\n\r\nimport UsageChart from \"./Chart/UsageChart\";\r\n\r\nclass Quota extends React.Component {\r\n\r\n  renderLimit = (is_unlimited, limit, reset) => {\r\n    if (is_unlimited)\r\n      return <Statistic title=\"Limit\" value={'Unlimited'} valueStyle={{color: green.primary}}/>;\r\n    else if (_.isNull(limit))\r\n      return <Statistic title=\"Limit\" value={'Locked'} valueStyle={{color: red.primary}}/>;\r\n    else\r\n      return <>\r\n        <Statistic title=\"Limit\" value={limit}/>\r\n        {reset && reset !== 'never' && <Typography.Text type={'secondary'}>{reset}</Typography.Text>}\r\n      </>;\r\n  };\r\n  \r\n  renderMiniProgress = (is_unlimited, limit, usage) => {\r\n    if (is_unlimited)\r\n      return <Space>\r\n        <Typography.Text strong type={'success'}>Unlimited</Typography.Text>\r\n        <div style={{width: 170}}><Progress percent={100}/></div>\r\n      </Space>;\r\n    else if (_.isNull(limit))\r\n      return <Space>\r\n        <Typography.Text strong type={'danger'}>Locked</Typography.Text>\r\n        <div style={{width: 170}}><Progress percent={100} status=\"exception\"/></div>\r\n      </Space>;\r\n    else {\r\n      const percent = usage / limit * 100;\r\n      if (percent >= 100)\r\n        return <Space>\r\n          <Typography.Text strong type={'danger'}>Limit Reached</Typography.Text>\r\n          <div style={{width: 170}}><Progress percent={100} status=\"exception\"/></div>\r\n        </Space>;\r\n      else if (percent >= 95)\r\n        return <div style={{width: 170}}><Progress percent={Math.round(percent)}\r\n                                                   strokeColor={{'0%': red.primary, '100%': red.primary}}/>\r\n        </div>;\r\n      else if (percent >= 80)\r\n        return <div style={{width: 170}}><Progress percent={Math.round(percent)} strokeColor={{\r\n          '0%': orange.primary,\r\n          '100%': orange.primary\r\n        }}/></div>;\r\n      else\r\n        return <div style={{width: 170}}><Progress percent={Math.round(percent)}/></div>\r\n    }\r\n  };\r\n\r\n  renderProgress = (is_unlimited, limit, usage) => {\r\n    if (is_unlimited)\r\n      return <Progress type={'circle'} percent={100} format={() => 'Unlimited'}/>;\r\n    else if (_.isNull(limit))\r\n      return <Progress type={'circle'} percent={100} status=\"exception\" format={() => 'Locked'}/>;\r\n    else {\r\n      const percent = usage / limit * 100;\r\n      if (percent >= 100)\r\n        return <Progress type={'circle'} percent={100} status=\"exception\" format={() => 'Reached'}/>;\r\n      else if (percent >= 95)\r\n        return <Progress type={'circle'} percent={Math.round(percent)}\r\n                         strokeColor={{'0%': red.primary, '100%': red.primary}}/>;\r\n      else if (percent >= 80)\r\n        return <Progress type={'circle'} percent={Math.round(percent)}\r\n                         strokeColor={{'0%': orange.primary, '100%': orange.primary}}/>;\r\n      else\r\n        return <Progress type={'circle'} percent={Math.round(percent)}/>\r\n    }\r\n  };\r\n  \r\n  render() {\r\n    const {service, period} = this.props;\r\n    const [start, end] = period;\r\n    \r\n    const limits = _(service.subscriptions).map(({package: _package, ...rest}) => {\r\n      return _.map(_package.limits, (limit) => {\r\n        return {...limit, package: _package.name}\r\n      })\r\n    }).flatten().value();\r\n    \r\n    return (\r\n      <Collapse\r\n        accordion\r\n        defaultActiveKey={['1']}\r\n        bordered={false}\r\n        className=\"site-collapse-custom-collapse\">\r\n        {_.map(limits, ({id, code, limit, reset, is_unlimited, usages, package: _package}, index) => (\r\n          <Collapse.Panel\r\n            header={\r\n              <Space>\r\n                <Typography.Text>{_.capitalize(code)}</Typography.Text>\r\n                <PackageTag name={_package}/>\r\n              </Space>\r\n            }\r\n            extra={this.renderMiniProgress(is_unlimited, limit, _.sumBy(usages, 'amount'))}\r\n            key={(index + 1) + ''}\r\n            className=\"site-collapse-custom-panel\">\r\n            <Row gutter={[16, 24]}>\r\n              <Col span={6}>\r\n                <Row gutter={[16, 24]}>\r\n                  <Col span={11}><Statistic title=\"Usage\" value={_.sumBy(usages, 'amount')}/></Col>\r\n                  <Col span={2}><Divider type=\"vertical\" style={{height: '100%'}}/></Col>\r\n                  <Col span={11}>{this.renderLimit(is_unlimited, limit, reset)}</Col>\r\n                  <Col span={24} style={{padding: '45px 8px'}}>\r\n                    <Space direction=\"horizontal\" style={{width: '100%', justifyContent: 'center'}}>\r\n                      {this.renderProgress(is_unlimited, limit, _.sumBy(usages, 'amount'))}\r\n                    </Space>\r\n                  </Col>\r\n                </Row>\r\n              </Col>\r\n              <Col span={18}>\r\n                <UsageChart identifier={`usage-chart-${index}`} data={usages} start={start} end={end}\r\n                            limit={is_unlimited ? null : limit ? limit : 0}/>\r\n              </Col>\r\n            </Row>\r\n          </Collapse.Panel>\r\n        ))}\r\n      </Collapse>\r\n    );\r\n  }\r\n\r\n}\r\n\r\nconst mapStateToProps = ({usage}) => {\r\n  const {service} = usage;\r\n  return {service}\r\n};\r\n\r\nexport default connect(mapStateToProps, {})(Quota);","import React from 'react';\r\nimport * as am4core from \"@amcharts/amcharts4/core\";\r\nimport * as am4charts from \"@amcharts/amcharts4/charts\";\r\nimport am4themes_animated from \"@amcharts/amcharts4/themes/animated\";\r\nimport moment from \"moment\";\r\nimport _ from \"lodash\";\r\n\r\nam4core.useTheme(am4themes_animated);\r\n\r\nclass UsageChart extends React.Component {\r\n\r\n  createDateArray = (start, end) => {\r\n    var days = [];\r\n    var day = start;\r\n\r\n    while (day <= end) {\r\n      days.push(day.toDate());\r\n      day = day.clone().add(1, 'day');\r\n    }\r\n\r\n    return days;\r\n  };\r\n  \r\n  componentDidMount() {\r\n    this.renderChart()\r\n  }\r\n  \r\n  componentDidUpdate(prevProps, prevState, snapshot) {\r\n    if (this.chart) this.chart.dispose();\r\n    \r\n    this.renderChart()\r\n  }\r\n\r\n  componentWillUnmount() {\r\n    if (this.chart) this.chart.dispose();\r\n  }\r\n  \r\n  renderChart() {\r\n    const {identifier, data, limit, start, end} = this.props;\r\n\r\n    // Create chart instance\r\n    var chart = am4core.create(identifier, am4charts.XYChart);\r\n\r\n    // Add data\r\n    chart.data = _.map(this.createDateArray(start, end), date => {\r\n      const usages = _.filter(data, ({request_timestamp}) => moment(request_timestamp).isSame(date, 'date'));\r\n      return {date, usages: _.sumBy(usages, 'amount')}\r\n    });\r\n\r\n    // Create axes\r\n    var dateAxis = chart.xAxes.push(new am4charts.DateAxis());\r\n    dateAxis.startLocation = 0.5;\r\n    dateAxis.endLocation = 0.5;\r\n\r\n    // Create value axis\r\n    var valueAxis = chart.yAxes.push(new am4charts.ValueAxis());\r\n    valueAxis.min = 0;\r\n    if (!_.isNull(limit)) valueAxis.max = limit;\r\n\r\n    // Create series\r\n    var series = chart.series.push(new am4charts.LineSeries());\r\n    series.dataFields.valueY = \"usages\";\r\n    series.dataFields.dateX = \"date\";\r\n    series.strokeWidth = 3;\r\n    series.tooltipText = \"{valueY.value}\";\r\n    series.fillOpacity = 0.1;\r\n\r\n    // Create a range to change stroke for values below 0\r\n    // var range = valueAxis.createSeriesRange(series);\r\n    // range.value = 0;\r\n    // range.endValue = -1000;\r\n    // range.contents.stroke = chart.colors.getIndex(4);\r\n    // range.contents.fill = range.contents.stroke;\r\n    // range.contents.strokeOpacity = 0.7;\r\n    // range.contents.fillOpacity = 0.1;\r\n\r\n    // Add cursor\r\n    chart.cursor = new am4charts.XYCursor();\r\n    chart.cursor.xAxis = dateAxis;\r\n    chart.scrollbarX = new am4core.Scrollbar();\r\n\r\n    series.tooltip.getFillFromObject = false;\r\n    series.tooltip.adapter.add(\"x\", (x, target) => {\r\n      if (series.tooltip.tooltipDataItem.valueY < 0) {\r\n        series.tooltip.background.fill = chart.colors.getIndex(4);\r\n      } else {\r\n        series.tooltip.background.fill = chart.colors.getIndex(0);\r\n      }\r\n      return x;\r\n    });\r\n    \r\n    if (!_.isNull(limit)) {\r\n      // Add a guide\r\n      let guide = valueAxis.axisRanges.create();\r\n      guide.value = limit;\r\n      guide.grid.stroke = am4core.color(\"#396478\");\r\n      guide.grid.strokeWidth = 1;\r\n      guide.grid.strokeOpacity = 1;\r\n      guide.grid.strokeDasharray = \"3,3\";\r\n      guide.label.inside = true;\r\n      guide.label.text = \"Limit\";\r\n      guide.label.fill = guide.grid.stroke;\r\n      guide.label.verticalCenter = \"top\";\r\n    }\r\n\r\n    this.chart = chart;\r\n  }\r\n\r\n  render() {\r\n    const {identifier} = this.props;\r\n\r\n    return <div id={identifier} style={{width: \"100%\", height: \"300px\"}}/>\r\n  }\r\n\r\n}\r\n\r\nexport default UsageChart;","import React from 'react';\r\nimport {connect} from 'react-redux';\r\nimport _ from 'lodash';\r\nimport moment from 'moment';\r\n\r\nimport {isLoading} from 'store/selectors';\r\nimport {\r\n  GET_ALL_SERVICE,\r\n  GET_SUBSCRIPTION,\r\n} from \"constants/ActionTypes\";\r\nimport {getAllService} from 'actions/Service';\r\nimport {getSubscriptionByService, addSubscription, editSubscription} from 'actions/Subscription';\r\nimport {getPackageByService} from 'actions/Package';\r\nimport {getAllUser} from 'actions/User';\r\nimport {onResetStatus, onResetDataState} from 'actions/Common';\r\nimport PackageTag from \"components/Tags/Package\";\r\nimport SubscriptionStatusTag from \"components/Tags/SubscriptionStatus\";\r\n\r\nimport {Icon} from '@ant-design/compatible';\r\nimport {FundProjectionScreenOutlined} from '@ant-design/icons';\r\nimport {\r\n  Card,\r\n  Menu,\r\n  Layout,\r\n  Empty,\r\n  Spin,\r\n  Table,\r\n  Space,\r\n  Typography,\r\n  Tooltip,\r\n  Button\r\n} from 'antd';\r\n\r\nclass Subscription extends React.Component {\r\n\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      selectedService: null\r\n    }\r\n  }\r\n\r\n  componentDidMount() {\r\n    this.props.getAllService()\r\n  }\r\n\r\n  componentWillUnmount() {\r\n    this.props.onResetDataState()\r\n  }\r\n\r\n  onShowUsage = (id) => {\r\n    const {services, history, match} = this.props;\r\n    const serviceList = _(services).map('services').flatten().value();\r\n    const {code} = _.find(serviceList, {id: this.state.selectedService});\r\n    history.push(`${match.url}/${code}/${id}`)\r\n  };\r\n  \r\n  // Menu\r\n\r\n  onSelectMenu = ({key}) => {\r\n    // eslint-disable-next-line\r\n    const [item, submenu, id] = _.split(key, '-');\r\n    this.props.getSubscriptionByService(id);\r\n    this.setState({selectedService: parseInt(id)});\r\n  };\r\n\r\n  render() {\r\n\r\n    const {services, loading, subscriptions} = this.props;\r\n\r\n    const column = [\r\n      {\r\n        title: 'Account',\r\n        dataIndex: 'account',\r\n        key: 'account',\r\n        filters: _(subscriptions).map(({account}) => {\r\n          return {text: account.fullname, value: account.fullname}\r\n        }).uniqBy('value').value(),\r\n        onFilter: (value, {account}) => account.fullname.includes(value),\r\n        render: ({fullname, email}) => (<div>\r\n          <Typography.Text strong>{fullname}</Typography.Text><br/>\r\n          <Typography.Text type={'secondary'}>{email}</Typography.Text>\r\n        </div>)\r\n      },\r\n      {\r\n        title: 'Current Subscription',\r\n        children: [\r\n          {\r\n            title: 'Subs ID',\r\n            dataIndex: 'code',\r\n            key: 'code',\r\n            render: (code, {status}) => (status === 'active' && code)\r\n          },\r\n          {\r\n            title: 'Package',\r\n            dataIndex: 'package',\r\n            key: 'package',\r\n            render: (_package, {status}) => (status === 'active' && _package && <PackageTag name={_package.name}/>)\r\n          },\r\n          {\r\n            title: 'Start Date',\r\n            dataIndex: 'start_date',\r\n            key: 'start_date',\r\n            render: (date, {status}) => status === 'active' && date ? moment(date).format('ll') : null\r\n          },\r\n          {\r\n            title: 'End Date',\r\n            dataIndex: 'end_date',\r\n            key: 'end_date',\r\n            render: (date, {status}) => status === 'active' && date ? moment(date).format('ll') : null\r\n          },\r\n        ]\r\n      },\r\n      {\r\n        title: 'Action',\r\n        key: 'action',\r\n        render: (text, record) => (\r\n          <Space>\r\n            <Tooltip title={'Usage'}><Button type=\"link\" icon={<FundProjectionScreenOutlined/>}\r\n                                             onClick={() => this.onShowUsage(record.account.id)}/></Tooltip>\r\n          </Space>\r\n        ),\r\n      },\r\n    ];\r\n\r\n    return (\r\n      <Space direction={'vertical'} style={{width: '100%'}}>\r\n        <Typography.Title level={4}>Service</Typography.Title>\r\n        <Card bordered={false}>\r\n          <Spin spinning={loading.service}>\r\n            <Layout style={{minHeight: 600, border: '1px solid #f0f0f0'}}>\r\n              <Layout.Sider className=\"site-layout-background\" width={200}>\r\n\r\n                {services.length ?\r\n                  <Menu\r\n                    mode=\"inline\"\r\n                    defaultOpenKeys={['submenu-0']}\r\n                    style={{height: '100%'}}\r\n                    onSelect={this.onSelectMenu}>\r\n                    {_.map(services, ({id, name, icon, services}, index) => {\r\n                      return <Menu.SubMenu key={'submenu-' + index} icon={<Icon type={icon}/>} title={name}>\r\n                        {_.map(services, ({id, name, icon}, i) =>\r\n                          <Menu.Item key={'item-' + index + '-' + id} icon={<Icon type={icon}/>}>{name}</Menu.Item>)}\r\n                      </Menu.SubMenu>\r\n                    })}\r\n                  </Menu>\r\n                  : <Empty/>}\r\n\r\n              </Layout.Sider>\r\n              <Layout.Content style={{padding: '24px'}}>\r\n                <Spin spinning={loading.subs}>\r\n\r\n                  {subscriptions.length ?\r\n                    <Table columns={column}\r\n                           dataSource={_(subscriptions).sortBy('status').uniqBy('account.id').value()}\r\n                           rowKey={'id'}\r\n                           style={{width: '100%'}}/>\r\n                    : <Empty image={Empty.PRESENTED_IMAGE_SIMPLE}/>}\r\n\r\n                </Spin>\r\n              </Layout.Content>\r\n            </Layout>\r\n          </Spin>\r\n        </Card>\r\n      </Space>\r\n    );\r\n  }\r\n\r\n}\r\n\r\nconst mapStateToProps = (store) => {\r\n  const {service: {services}, subscription: {subscriptions, status: {created, edited}}} = store;\r\n  return {\r\n    loading: {\r\n      service: isLoading(store, GET_ALL_SERVICE),\r\n      subs: isLoading(store, GET_SUBSCRIPTION),\r\n    },\r\n    services, subscriptions, created, edited\r\n  }\r\n};\r\n\r\nexport default connect(mapStateToProps, {\r\n  getAllService,\r\n  getSubscriptionByService,\r\n  addSubscription,\r\n  editSubscription,\r\n  getPackageByService,\r\n  getAllUser,\r\n  onResetStatus,\r\n  onResetDataState\r\n})(Subscription);","import React from 'react';\r\nimport {connect} from 'react-redux';\r\nimport _ from 'lodash';\r\n\r\nimport {isLoading} from 'store/selectors';\r\nimport {getMarketService} from 'actions/Service';\r\nimport {onResetDataState} from 'actions/Common';\r\nimport {\r\n  GET_ALL_SERVICE\r\n} from \"constants/ActionTypes\";\r\n\r\nimport {Icon} from '@ant-design/compatible';\r\nimport {SearchOutlined} from '@ant-design/icons';\r\nimport {\r\n  Space,\r\n  Typography,\r\n  Form,\r\n  Input,\r\n  Row, Col,\r\n  Spin,\r\n  Empty,\r\n  Divider,\r\n  Card,\r\n  Avatar,\r\n  Tag\r\n} from 'antd';\r\n\r\nclass Market extends React.Component {\r\n\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      search: null,\r\n      group: null,\r\n    }\r\n  }\r\n\r\n  componentDidMount() {\r\n    this.props.getMarketService();\r\n  }\r\n\r\n  componentWillUnmount() {\r\n    this.props.onResetDataState()\r\n  }\r\n\r\n  componentDidUpdate(prevProps, prevState, snapshot) {\r\n    if (!_.isEqual(prevState, this.state)) {\r\n      const {search, group} = this.state; var condition = {};\r\n      if (search) condition = {...condition, search};\r\n      if (group) condition = {...condition, group: group.id};\r\n      this.props.getMarketService(condition);\r\n    }\r\n  }\r\n\r\n  onSearch = ({search}) => {\r\n    if (search) this.setState({search});\r\n  };\r\n\r\n  onFilter = ({id, name}) => {\r\n    this.setState({group: {id, name}});\r\n  };\r\n\r\n  onClearSearch = (kind) => {\r\n    this.setState({[kind]: null});\r\n  };\r\n\r\n  render() {\r\n    const {services, loading, history, match} = this.props;\r\n    const {search, group} = this.state;\r\n\r\n    const showedService = _.filter(services, ({services}) => services.length);\r\n\r\n    return(\r\n      <Space direction={'vertical'} style={{width: '100%'}}>\r\n        <Row type=\"flex\" justify=\"center\" align=\"middle\" style={{minHeight: 250, backgroundImage: `url(/background.png)`, backgroundSize: 'cover'}}>\r\n          <Col>\r\n            <Typography.Title level={3} style={{marginBottom: 0}}>Easily find services that suit your business</Typography.Title>\r\n            <Typography.Text strong>supported by <img className={'logo'} src={process.env.PUBLIC_URL + '/logo-mysights.png'} alt={'icon'} style={{height: 24, margin: '10px 0'}}/></Typography.Text>\r\n            <Form\r\n              name=\"login\"\r\n              className=\"login-form\"\r\n              onFinish={this.onSearch}>\r\n              <Form.Item name=\"search\">\r\n                <Input size=\"large\" placeholder=\"Search\" prefix={<SearchOutlined />} />\r\n              </Form.Item>\r\n            </Form>\r\n          </Col>\r\n        </Row>\r\n        <Spin spinning={loading}>\r\n          <div style={{minHeight: 250, margin: 16}}>\r\n            <Row gutter={[16]}>\r\n              <Col span={4}>\r\n                <Typography.Title level={5}>Service Group</Typography.Title>\r\n                <Space size={'small'} direction=\"vertical\">\r\n                  {_.map(services, ({id, name, services}) => (\r\n                    <Typography.Link onClick={() => this.onFilter({id, name})}>{name} {services.length ? <>({services.length})</> : null}</Typography.Link>\r\n                  ))}\r\n                </Space>\r\n              </Col>\r\n              <Col span={20}>\r\n                <Space style={{marginBottom: 16}}>\r\n                  {search && <Tag closable color=\"blue\" onClose={() => this.onClearSearch('search')}>\r\n                    <Typography.Text strong>Search </Typography.Text>: {search}\r\n                  </Tag>}\r\n                  {group && <Tag closable color=\"blue\" onClose={() => this.onClearSearch('group')}>\r\n                    <Typography.Text strong>Group </Typography.Text>: {group.name}\r\n                  </Tag>}\r\n                </Space>\r\n                {showedService.length ?\r\n                  <Space direction=\"vertical\" size={'large'} style={{width: '100%'}}>\r\n                    {_.map(showedService, ({name: group_name, services}) => (\r\n                      <div>\r\n                        <Typography.Title level={5} style={{marginBottom: 0}}>{group_name}</Typography.Title>\r\n                        <Divider style={{margin: '12px 0'}}/>\r\n                        <Row gutter={[16]}>\r\n                          {_.map(services, ({code, icon, name, description}) => (\r\n                            <Col {...{xxl: 6, xl: 8, lg: 12, sm: 24}}>\r\n                              <Typography.Link onClick={() => history.push(`${match.url}/${code}`)}>\r\n                                <Card className={'service-box'}>\r\n                                  <Card.Meta\r\n                                    avatar={<Avatar style={{color: '#f56a00', backgroundColor: '#fde3cf'}}\r\n                                                    icon={<Icon type={icon}/>}/>}\r\n                                    title={name}\r\n                                    description={group_name}\r\n                                    style={{marginBottom: 16}}\r\n                                  />\r\n                                  <Typography.Paragraph ellipsis={{rows: 2}} style={{margin: 0}}>{description}</Typography.Paragraph>\r\n                                </Card>\r\n                              </Typography.Link>\r\n                            </Col>\r\n                          ))}\r\n                        </Row>\r\n                      </div>\r\n                    ))}\r\n                  </Space>\r\n                  : <Empty/>\r\n                }\r\n\r\n              </Col>\r\n            </Row>\r\n          </div>\r\n        </Spin>\r\n      </Space>\r\n    );\r\n  }\r\n\r\n}\r\n\r\nconst mapStateToProps = (store) => {\r\n  const {service: {services}} = store;\r\n  return {\r\n    loading: isLoading(store, GET_ALL_SERVICE),\r\n    services\r\n  }\r\n};\r\n\r\nexport default connect(mapStateToProps, {getMarketService, onResetDataState})(Market);","import React from 'react';\r\nimport {connect} from 'react-redux';\r\nimport moment from \"moment\";\r\nimport _ from 'lodash';\r\n\r\nimport {isLoading} from 'store/selectors';\r\nimport {getOneMarketService} from 'actions/Service';\r\nimport {addTrialSubscription} from 'actions/Subscription';\r\nimport {onResetStatus, onResetDataState} from 'actions/Common';\r\nimport {GET_ONE_SERVICE, ADD_SUBSCRIPTION} from \"constants/ActionTypes\";\r\nimport PackageCard from \"components/PackageCard\";\r\n\r\nimport {Icon} from '@ant-design/compatible';\r\nimport {\r\n  CheckCircleFilled,\r\n  ExclamationCircleOutlined,\r\n  InfoCircleOutlined,\r\n  BookOutlined,\r\n  AppstoreOutlined\r\n} from '@ant-design/icons';\r\nimport {\r\n  Space,\r\n  Typography,\r\n  Button,\r\n  Row, Col,\r\n  Spin,\r\n  Empty,\r\n  Modal,\r\n  Card,\r\n  Avatar,\r\n  Tabs\r\n} from 'antd';\r\n\r\nclass Detail extends React.Component {\r\n\r\n  componentDidMount() {\r\n    const { match : { params } } = this.props;\r\n    if (params.id) {this.props.getOneMarketService(params.id)}\r\n  }\r\n\r\n  componentDidUpdate(prevProps, prevState, snapshot) {\r\n    if (!prevProps.created && this.props.created) {\r\n      const {match: {params}} = this.props;\r\n      if (params.id) {this.props.getOneMarketService(params.id)}\r\n      this.props.onResetStatus()\r\n    }\r\n  }\r\n\r\n  componentWillUnmount() {this.props.onResetDataState()}\r\n\r\n  onGetTrial = () => {\r\n    const { match : { params }, addTrialSubscription } = this.props;\r\n    if (params.id)\r\n      Modal.confirm({\r\n        title: 'Do you want to continue trial?',\r\n        icon: <ExclamationCircleOutlined/>,\r\n        content: 'Accepting trial will give you one-time 1 month trial service.',\r\n        onOk() {\r\n          addTrialSubscription(params.id)\r\n        }\r\n      });\r\n  };\r\n\r\n  render() {\r\n    const {service, loading} = this.props;\r\n    \r\n    const {Docs, Overview} = service && service.info ? require(`../../../${service.info}`) : {};\r\n\r\n    return(\r\n      <Space direction={'vertical'} style={{width: '100%'}}>\r\n        <Typography.Title level={4}>API Market</Typography.Title>\r\n        <Card bordered={false}>\r\n          <Spin spinning={loading.get}>\r\n            {service ?\r\n            <Row justify=\"center\" gutter={[24]} style={{minHeight: 150, margin: '24px 0'}}>\r\n              <Col span={4}>\r\n                <Avatar size={100} style={{color: '#f56a00', backgroundColor: '#fde3cf', float: 'right'}}\r\n                        icon={<Icon type={service.icon}/>} />\r\n              </Col>\r\n              <Col span={16}>\r\n                <Space direction={'vertical'} style={{width: '100%'}}>\r\n                  <div>\r\n                    <Typography.Title level={3} style={{marginBottom: 0}}>{service.name}</Typography.Title>\r\n                    <Typography.Text type={'secondary'}>{service.service_group.name}</Typography.Text>\r\n                  </div>\r\n                  <Typography.Paragraph style={{marginTop: '1em'}}>{service.description}</Typography.Paragraph>\r\n                  {service.package ? <>\r\n                    {service.subscription ?\r\n                      <Typography.Text><Typography.Text type=\"success\"><CheckCircleFilled/></Typography.Text> API\r\n                        enabled since {moment(service.subscription.start_date).format('LL')}</Typography.Text> :\r\n                      <Button type=\"primary\" onClick={this.onGetTrial}>Get trial</Button>}\r\n                  </> : <Typography.Text><Typography.Text type=\"warning\"><ExclamationCircleOutlined/></Typography.Text> No \r\n                    trial package provided</Typography.Text>}\r\n                </Space>\r\n              </Col>\r\n            </Row> : <Empty style={{minHeight: 150}}/>}\r\n            {service &&\r\n            <Tabs defaultActiveKey=\"1\">\r\n              <Tabs.TabPane\r\n                tab={<span><InfoCircleOutlined/> Overview</span>}\r\n                key=\"1\">\r\n                {Overview ? <Overview/> : <Empty/>}\r\n              </Tabs.TabPane>\r\n              <Tabs.TabPane\r\n                tab={<span><BookOutlined/> Documentation</span>}\r\n                key=\"2\">\r\n                {Docs ? <Docs/> : <Empty/>}\r\n              </Tabs.TabPane>\r\n              <Tabs.TabPane\r\n                tab={<span><AppstoreOutlined/> Packages</span>}\r\n                key=\"3\">\r\n                <Row gutter={[24]}>\r\n                  {_.map(service.packages, (_package) =>\r\n                    (<Col {...{xxl: 6, xl: 8, lg: 12, sm: 24}}><PackageCard package={_package}/></Col>)\r\n                  )}\r\n                </Row>\r\n              </Tabs.TabPane>\r\n            </Tabs>}\r\n          </Spin>\r\n        </Card>\r\n      </Space>\r\n    );\r\n  }\r\n\r\n}\r\n\r\nconst mapStateToProps = (store) => {\r\n  const {service: {service}, subscription: {status: {created}}} = store;\r\n  return {\r\n    loading: {\r\n      get: isLoading(store, GET_ONE_SERVICE),\r\n      add: isLoading(store, ADD_SUBSCRIPTION),\r\n    },\r\n    service, created\r\n  }\r\n};\r\n\r\nexport default connect(mapStateToProps, {getOneMarketService, addTrialSubscription, onResetStatus, onResetDataState})(Detail);","import {\r\n  SHOW_MESSAGE,\r\n  NOTIFICATION_ERROR,\r\n\r\n  GET_ACCESS_LOG,\r\n  UI_START_ACTION,\r\n  UI_STOP_ACTION,\r\n} from \"../constants/ActionTypes\";\r\n\r\nimport axios from 'util/Api'\r\n\r\nexport const getAccessLog = (service, user) => {\r\n  return dispatch => {\r\n    dispatch({type: UI_START_ACTION, name: GET_ACCESS_LOG});\r\n    axios.get(`log/service/${service}/${user}`).then(({data}) => {\r\n      dispatch({type: UI_STOP_ACTION, name: GET_ACCESS_LOG});\r\n      dispatch({type: GET_ACCESS_LOG, payload: data.data});\r\n    }).catch(({response}) => {\r\n      dispatch({type: UI_STOP_ACTION, name: GET_ACCESS_LOG});\r\n      if (response) {\r\n        console.log(\"Error****:\", response.message);\r\n        dispatch({type: SHOW_MESSAGE, title: 'Log error.', message: response.data.message, severity: NOTIFICATION_ERROR})\r\n      }\r\n    });\r\n  }\r\n};\r\n\r\nexport const getUserAccessLog = (service) => {\r\n  return dispatch => {\r\n    dispatch({type: UI_START_ACTION, name: GET_ACCESS_LOG});\r\n    axios.get(`log/service/${service}`).then(({data}) => {\r\n      dispatch({type: UI_STOP_ACTION, name: GET_ACCESS_LOG});\r\n      dispatch({type: GET_ACCESS_LOG, payload: data.data});\r\n    }).catch(({response}) => {\r\n      dispatch({type: UI_STOP_ACTION, name: GET_ACCESS_LOG});\r\n      if (response) {\r\n        console.log(\"Error****:\", response.message);\r\n        dispatch({type: SHOW_MESSAGE, title: 'Log error.', message: response.data.message, severity: NOTIFICATION_ERROR})\r\n      }\r\n    });\r\n  }\r\n};","import {\r\n  HIDE_MESSAGE\r\n} from \"../constants/ActionTypes\";\r\n\r\nexport const onResetNotification = () => {\r\n  return (dispatch) => {\r\n    dispatch({type: HIDE_MESSAGE});\r\n  }\r\n};\r\n","import React from 'react';\r\nimport {connect} from 'react-redux';\r\nimport _ from 'lodash';\r\n\r\nimport {isLoading} from 'store/selectors';\r\nimport {addPackage, editPackage} from 'actions/Package';\r\nimport {\r\n  ADD_PACKAGE, EDIT_PACKAGE\r\n} from \"constants/ActionTypes\";\r\n\r\nimport {QuestionCircleOutlined, PlusOutlined, MinusCircleOutlined} from '@ant-design/icons';\r\nimport {\r\n  Button,\r\n  Modal,\r\n  Form,\r\n  Input,\r\n  InputNumber,\r\n  Select,\r\n  Switch,\r\n  Tooltip,\r\n  Divider,\r\n  Row, Col,\r\n  List,\r\n  Typography\r\n} from 'antd';\r\n\r\nconst layout = {\r\n  labelCol: {span: 8},\r\n  wrapperCol: {span: 16}\r\n};\r\n\r\nconst layoutBlock = {\r\n  wrapperCol: {span: 24}\r\n};\r\n\r\nclass PackageForm extends React.Component {\r\n\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      formRef: React.createRef(),\r\n    }\r\n  }\r\n\r\n  componentDidUpdate(prevProps, prevState, snapshot) {\r\n    if (!prevProps.show && this.props.show) {\r\n      this.state.formRef.current.resetFields();\r\n      if (this.props.row) {\r\n        const {limits, ...row} = this.props.row;\r\n        const init = {is_public: false, is_paid: false, is_trial: false};\r\n        const _limits = _(limits).filter('is_used').map(({limit, is_unlimited, ...row}) => {\r\n          const is_allowed = limit || is_unlimited;\r\n          return {is_allowed, limit, is_unlimited, ...row};\r\n        }).value();\r\n        this.state.formRef.current.setFieldsValue({...init, limits: _limits, ...row});\r\n      }\r\n    }\r\n  }\r\n\r\n  onFinish  = () => {\r\n    const {formRef} = this.state;\r\n    const {row, addPackage, editPackage} = this.props;\r\n    formRef.current\r\n      .validateFields()\r\n      .then((payload) => {\r\n        if (row.id)\r\n          editPackage(row.id, {...payload});\r\n        else\r\n          addPackage({...payload});\r\n      })\r\n      .catch((info) => console.log('Validate Failed:', info));\r\n  };\r\n\r\n  render() {\r\n\r\n    const {show, onCancel, row, loading, services} = this.props;\r\n\r\n    const {formRef} = this.state;\r\n\r\n    return(\r\n      <Modal\r\n        visible={show}\r\n        title=\"Package\"\r\n        width={1000}\r\n        onCancel={onCancel}\r\n        footer={[\r\n          <Button key=\"back\" onClick={onCancel}>Cancel</Button>,\r\n          <Button key=\"submit\" type=\"primary\" loading={loading[row && row.id ? 'edit' : 'create']}\r\n                  onClick={this.onFinish}>Submit</Button>,\r\n        ]}>\r\n\r\n        <Form {...layout} ref={formRef} name=\"control-ref\" onFinish={this.onFinish}>\r\n\r\n          <Form.Item name=\"service_id\" label={'Service'} rules={[\r\n            {required: true, message: 'Please select the service!'}\r\n          ]}>\r\n            <Select\r\n              showSearch\r\n              placeholder=\"Select service\"\r\n              optionFilterProp=\"children\"\r\n              filterOption={(input, option) => option.children.toLowerCase().indexOf(input.toLowerCase()) >= 0}\r\n              allowClear disabled>\r\n              {_.map(services, ({id, name}) => <Select.Option value={id}>{name}</Select.Option>)}\r\n            </Select>\r\n          </Form.Item>\r\n\r\n          <Form.Item name=\"name\" label=\"Package Name\" rules={[\r\n            {required: true, message: 'Please input package name!'}\r\n          ]}>\r\n            <Input/>\r\n          </Form.Item>\r\n\r\n          <Form.Item name=\"description\" label=\"Description\">\r\n            <Input.TextArea/>\r\n          </Form.Item>\r\n\r\n          <Form.Item name=\"is_public\" label={\r\n            <span>\r\n            Public Package&nbsp;\r\n              <Tooltip title=\"Allowed to show in API Market\">\r\n              <QuestionCircleOutlined/>\r\n            </Tooltip>\r\n          </span>\r\n          } valuePropName=\"checked\">\r\n            <Switch checkedChildren={'Public'} unCheckedChildren={'Private'}/>\r\n          </Form.Item>\r\n\r\n          <Form.Item name=\"is_paid\" label={\r\n            <span>\r\n            Paid Package&nbsp;\r\n              <Tooltip title=\"Billing enabled\">\r\n              <QuestionCircleOutlined/>\r\n            </Tooltip>\r\n          </span>\r\n          } valuePropName=\"checked\">\r\n            <Switch checkedChildren={'Paid'} unCheckedChildren={'Free'}/>\r\n          </Form.Item>\r\n\r\n          <Form.Item name=\"is_trial\" label={\r\n            <span>\r\n            Trial Package&nbsp;\r\n              <Tooltip title=\"Allows user to self-subscribe in API Market (one-time)\">\r\n              <QuestionCircleOutlined/>\r\n            </Tooltip>\r\n          </span>\r\n          } valuePropName=\"checked\">\r\n            <Switch checkedChildren={'Trial'} unCheckedChildren={'No Trial'}/>\r\n          </Form.Item>\r\n\r\n          <Divider orientation=\"center\">\r\n            <Typography.Text type={'danger'}>*</Typography.Text> Limits\r\n          </Divider>\r\n\r\n          <Form.List name=\"limits\"\r\n                     rules={[\r\n                       {\r\n                         validator: async (_, names) => {\r\n                           if (!names || names.length < 1) {\r\n                             return Promise.reject(new Error('Please add at least 1 limit'));\r\n                           }\r\n                         },\r\n                       },\r\n                     ]}>\r\n\r\n            {(fields, {add, remove}, {errors}) => (\r\n              <>\r\n\r\n                {fields.length ?\r\n                <List >\r\n                  {fields.map(field => (\r\n                    <List.Item key={field.key}>\r\n                      <Row style={{width: '100%'}}>\r\n                        <Col span={11}>\r\n\r\n                          <Form.Item\r\n                            {...field}\r\n                            label=\"Service\"\r\n                            name={[field.name, 'service_id']}\r\n                            fieldKey={[field.fieldKey, 'service_id']}\r\n                            rules={[{required: true, message: 'Please input service_id!'}]}\r\n                            hidden\r\n                          >\r\n                            <Input/>\r\n                          </Form.Item>\r\n\r\n                          <Form.Item\r\n                            {...field}\r\n                            label=\"Code\"\r\n                            name={[field.name, 'code']}\r\n                            fieldKey={[field.fieldKey, 'code']}\r\n                            rules={[{required: true, message: 'Please input limit code!'}]}\r\n                          >\r\n                            <Input/>\r\n                          </Form.Item>\r\n\r\n                          <Form.Item\r\n                            {...field}\r\n                            label=\"Description\"\r\n                            name={[field.name, 'description']}\r\n                            fieldKey={[field.fieldKey, 'description']}\r\n                          >\r\n                            <Input.TextArea/>\r\n                          </Form.Item>\r\n\r\n                          <Form.Item\r\n                            {...field}\r\n                            label=\"Unit\"\r\n                            name={[field.name, 'unit']}\r\n                            fieldKey={[field.fieldKey, 'unit']}\r\n                          >\r\n                            <Input/>\r\n                          </Form.Item>\r\n\r\n                        </Col>\r\n                        <Col span={11}>\r\n\r\n                          <Form.Item {...field} label={'Allowed'} valuePropName=\"checked\"\r\n                                     name={[field.name, 'is_allowed']}\r\n                                     fieldKey={[field.fieldKey, 'is_allowed']}>\r\n                            <Switch checkedChildren={'Allowed'} unCheckedChildren={'Locked'}/>\r\n                          </Form.Item>\r\n\r\n                          <Form.Item {...layoutBlock} style={{marginBottom: 0}} shouldUpdate>\r\n                            {({getFieldValue}) => {\r\n                              const limit = getFieldValue('limits')[field.name];\r\n                              return limit && limit.is_allowed &&\r\n                                <Form.Item {...field} {...layout} label={'Unlimited'} valuePropName=\"checked\"\r\n                                           name={[field.name, 'is_unlimited']}\r\n                                           fieldKey={[field.fieldKey, 'is_unlimited']}>\r\n                                  <Switch checkedChildren={'Unlimited'} unCheckedChildren={'Limited'}/>\r\n                                </Form.Item>\r\n                            }}\r\n                          </Form.Item>\r\n\r\n                          <Form.Item {...layoutBlock} style={{marginBottom: 0}} shouldUpdate>\r\n                            {({getFieldValue}) => {\r\n                              const limit = getFieldValue('limits')[field.name];\r\n                              return limit && limit.is_allowed && !limit.is_unlimited &&\r\n                                <>\r\n                                  <Form.Item {...field} {...layout} label={'Usage Limit'}\r\n                                             name={[field.name, 'limit']} fieldKey={[field.fieldKey, 'limit']}\r\n                                             rules={[{required: true, message: 'Please input usage!'}]}>\r\n                                    <InputNumber min={0}/>\r\n                                  </Form.Item>\r\n\r\n                                  <Form.Item {...field} {...layout} label={'Reset'}\r\n                                             name={[field.name, 'reset']} fieldKey={[field.fieldKey, 'reset']}\r\n                                             rules={[{required: true, message: 'Please select reset!'}]}>\r\n                                    <Select>\r\n                                      <Select.Option value=\"minutely\">minutely</Select.Option>\r\n                                      <Select.Option value=\"hourly\">hourly</Select.Option>\r\n                                      <Select.Option value=\"daily\">daily</Select.Option>\r\n                                      <Select.Option value=\"weekly\">weekly</Select.Option>\r\n                                      <Select.Option value=\"monthly\">monthly</Select.Option>\r\n                                      <Select.Option value=\"never\">never</Select.Option>\r\n                                    </Select>\r\n                                  </Form.Item>\r\n                                </>\r\n                            }}\r\n                          </Form.Item>\r\n\r\n                        </Col>\r\n                        \r\n                        <Col span={2}>\r\n                          <MinusCircleOutlined onClick={() => remove(field.name)} />\r\n                        </Col>\r\n\r\n                      </Row>\r\n                    </List.Item>\r\n                  ))}\r\n                </List> : null}\r\n\r\n                <Form.Item {...layoutBlock}>\r\n                  <Button type=\"dashed\" onClick={() => add({service_id: row.service_id})} block icon={<PlusOutlined/>}>\r\n                    Add limit\r\n                  </Button>\r\n                  <Form.ErrorList errors={errors} />\r\n                </Form.Item>\r\n\r\n              </>\r\n            )}\r\n\r\n          </Form.List>\r\n\r\n        </Form>\r\n\r\n      </Modal>\r\n    );\r\n  }\r\n\r\n}\r\n\r\nconst mapStateToProps = (store) => {\r\n  const {service: {services: groups}} = store;\r\n  const services = _.flatMap(groups, ({services}) => services);\r\n  return {\r\n    services,\r\n    loading: {\r\n      create: isLoading(store, ADD_PACKAGE),\r\n      edit: isLoading(store, EDIT_PACKAGE),\r\n    }\r\n  }\r\n};\r\n\r\nexport default connect(mapStateToProps, {addPackage, editPackage})(PackageForm);","import React from 'react';\r\n\r\nimport {Icon} from '@ant-design/compatible';\r\nimport {\r\n  Button,\r\n  Modal,\r\n  Descriptions,\r\n  Typography,\r\n  Badge,\r\n  Space\r\n} from 'antd';\r\n\r\nconst ServiceDetail = (props) => {\r\n\r\n  const GATEWAY_URL = 'https://api.mysights.id/api';\r\n\r\n  const {show, onCancel, row} = props;\r\n\r\n  return (\r\n    <Modal\r\n      visible={show}\r\n      title=\"Service Info\"\r\n      width={800}\r\n      onCancel={onCancel}\r\n      footer={[\r\n        <Button key=\"back\" onClick={onCancel}>Cancel</Button>\r\n      ]}>\r\n\r\n      {row &&\r\n      <Descriptions column={1}>\r\n        <Descriptions.Item label=\"Service Name\">{row.name}</Descriptions.Item>\r\n        <Descriptions.Item label=\"Service Group\">{row.service_group}</Descriptions.Item>\r\n        <Descriptions.Item label=\"Description\">{row.description}</Descriptions.Item>\r\n        <Descriptions.Item label=\"Code\">\r\n          <Space>{row.code}<Typography.Text type={'secondary'}>(generated)</Typography.Text></Space>\r\n        </Descriptions.Item>\r\n        <Descriptions.Item label=\"Icon\">\r\n          <Icon type={row.icon}/> {row.icon}\r\n        </Descriptions.Item>\r\n        <Descriptions.Item label=\"Method\">\r\n          {row.method === 'get' && <Typography.Text strong type={'success'}>GET</Typography.Text>}\r\n          {row.method === 'post' && <Typography.Text strong type={'warning'}>POST</Typography.Text>}\r\n        </Descriptions.Item>\r\n        <Descriptions.Item label=\"Mask URL\">\r\n          <Typography.Text code>{GATEWAY_URL + row.mask_url}</Typography.Text>\r\n        </Descriptions.Item>\r\n        <Descriptions.Item label=\"Source URL\">\r\n          <Typography.Text code>{row.url}</Typography.Text>\r\n        </Descriptions.Item>\r\n        <Descriptions.Item label=\"Info Path\">\r\n          <Typography.Text code>{row.info}</Typography.Text>\r\n        </Descriptions.Item>\r\n        <Descriptions.Item label=\"Active\">\r\n          {row.is_active ?\r\n            <Badge status=\"processing\" text=\"Active\"/> :\r\n            <Badge status=\"default\" text=\"Inactive\"/>}\r\n        </Descriptions.Item>\r\n        <Descriptions.Item label=\"Public\">\r\n          {row.is_public ?\r\n            <Badge status=\"success\" text=\"Public\"/> :\r\n            <Badge status=\"warning\" text=\"Private\"/>}\r\n        </Descriptions.Item>\r\n      </Descriptions>}\r\n\r\n    </Modal>\r\n  );\r\n\r\n};\r\n\r\nexport default ServiceDetail;","import React from 'react';\r\nimport {connect} from 'react-redux';\r\nimport { Row, Col, Card, Tabs } from 'antd';\r\nimport Login from './Login';\r\nimport Signup from './Signup';\r\n\r\n\r\nconst { TabPane } = Tabs;\r\n\r\nclass Auth extends React.Component {\r\n\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    this.state = {\r\n      defaultTabs: \"1\",\r\n      tabs: \"1\"\r\n    }\r\n  }\r\n\r\n  componentDidMount() {\r\n    const {token, history} = this.props;\r\n    if (token) history.push('/');\r\n  }\r\n\r\n  componentDidUpdate(prevProps, prevState, snapshot) {\r\n    const {token, history} = this.props;\r\n    if (token) history.push('/');\r\n  }\r\n\r\n  onChangeTab = (tab) => this.setState({tabs: tab});\r\n\r\n  render() {\r\n    const {defaultTabs, tabs} = this.state;\r\n\r\n    return (\r\n      <Row type=\"flex\" justify=\"center\" align=\"middle\" style={{minHeight: '100vh', backgroundImage: `url(/background.png)`}}>\r\n        <Col>\r\n          <Card style={{width: 400}}>\r\n            <Row type=\"flex\" justify=\"center\">\r\n              <Col><img src={'/logo-mysights.png'} alt={'logo mysights'} style={{maxWidth: '150px', marginBottom: '10px'}}/></Col>\r\n            </Row>\r\n            <Tabs defaultActiveKey={defaultTabs} activeKey={tabs} onChange={this.onChangeTab} centered>\r\n              <TabPane tab=\"LOG IN\" key=\"1\">\r\n                <Login/>\r\n              </TabPane>\r\n              <TabPane tab=\"SIGN UP\" key=\"2\">\r\n                <Signup onSuccess={() => this.onChangeTab('1')}/>\r\n              </TabPane>\r\n            </Tabs>\r\n          </Card>\r\n        </Col>\r\n      </Row>\r\n    )\r\n  }\r\n}\r\n\r\nconst mapStateToProps = ({auth}) => {\r\n  const {token} = auth;\r\n  return {token}\r\n};\r\n\r\nexport default connect(mapStateToProps, {})(Auth)","import React from 'react';\r\nimport {connect} from 'react-redux';\r\nimport {Link} from 'react-router-dom';\r\nimport {Form, Input, Button, Typography} from 'antd';\r\nimport {UserOutlined, LockOutlined} from '@ant-design/icons';\r\n\r\nimport {isLoading} from '../store/selectors';\r\nimport {userSignIn, onResetStatus} from '../actions/Auth';\r\nimport {LOG_IN} from \"../constants/ActionTypes\";\r\n\r\nclass Login extends React.Component {\r\n\r\n  onFinish = (values) => this.props.userSignIn(values);\r\n\r\n  render() {\r\n    const {loading} = this.props;\r\n\r\n    return (\r\n      <Form\r\n        name=\"login\"\r\n        className=\"login-form\"\r\n        onFinish={this.onFinish}\r\n      >\r\n\r\n        <Form.Item\r\n          name=\"username\"\r\n          rules={[\r\n            {\r\n              required: true,\r\n              message: 'Please input your Username!',\r\n            },\r\n          ]}\r\n        >\r\n          <Input prefix={<UserOutlined className=\"site-form-item-icon\"/>} placeholder=\"Username\"/>\r\n        </Form.Item>\r\n\r\n        <Form.Item\r\n          name=\"password\"\r\n          rules={[\r\n            {\r\n              required: true,\r\n              message: 'Please input your Password!',\r\n            },\r\n          ]}\r\n        >\r\n          <Input\r\n            prefix={<LockOutlined className=\"site-form-item-icon\"/>}\r\n            type=\"password\"\r\n            placeholder=\"Password\"\r\n          />\r\n        </Form.Item>\r\n\r\n        <Form.Item>\r\n          <Link to={'/forgot'} style={{float: 'right'}}>\r\n            <Typography.Link>Forgot password</Typography.Link>\r\n          </Link>\r\n        </Form.Item>\r\n        \r\n        <Form.Item>\r\n          <Button type=\"primary\" htmlType=\"submit\" className=\"login-form-button\" loading={!!loading} block>\r\n            Log in\r\n          </Button>\r\n        </Form.Item>\r\n\r\n      </Form>\r\n    )\r\n  };\r\n\r\n}\r\n\r\nconst mapStateToProps = (store) => {\r\n  const {auth: {status: {loggedIn}}} = store;\r\n  return {loading: isLoading(store, LOG_IN), success: !!loggedIn}\r\n};\r\n\r\nexport default connect(mapStateToProps, {userSignIn, onResetStatus})(Login)","import React from 'react';\r\nimport {connect} from 'react-redux';\r\nimport {Form, Input, Button} from 'antd';\r\nimport {UserOutlined, LockOutlined, InboxOutlined, SolutionOutlined } from '@ant-design/icons';\r\n\r\nimport {isLoading} from '../store/selectors';\r\nimport {userSignUp, onResetStatus} from '../actions/Auth';\r\nimport {SIGN_UP} from \"../constants/ActionTypes\";\r\n\r\nclass Signup extends React.Component {\r\n\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      formRef: React.createRef()\r\n    };\r\n  }\r\n\r\n  componentDidUpdate(prevProps, prevState, snapshot) {\r\n    if (!prevProps.success && this.props.success) {\r\n      this.onReset();\r\n      this.props.onSuccess();\r\n      this.props.onResetStatus();\r\n    }\r\n  }\r\n\r\n  onFinish = (values) => this.props.userSignUp(values);\r\n\r\n  onReset = () => this.state.formRef.current.resetFields();\r\n\r\n  render() {\r\n    const {loading} = this.props;\r\n    const {formRef} = this.state;\r\n\r\n    return (\r\n      <Form\r\n        name=\"login\"\r\n        className=\"login-form\"\r\n        onFinish={this.onFinish}\r\n        ref={formRef}\r\n      >\r\n\r\n        <Form.Item\r\n          name=\"fullname\"\r\n          rules={[\r\n            {required: true, message: 'Please input your Username!',},\r\n          ]}\r\n        >\r\n          <Input prefix={<SolutionOutlined className=\"site-form-item-icon\"/>} placeholder=\"Full name\"/>\r\n        </Form.Item>\r\n\r\n        <Form.Item\r\n          name=\"email\"\r\n          rules={[\r\n            {type: 'email', message: 'The input is not valid E-mail!',},\r\n            {required: true, message: 'Please input your Email!',},\r\n          ]}\r\n        >\r\n          <Input prefix={<InboxOutlined className=\"site-form-item-icon\"/>} placeholder=\"Email\"/>\r\n        </Form.Item>\r\n\r\n        <Form.Item\r\n          name=\"username\"\r\n          rules={[\r\n            {required: true, message: 'Please input your Username!',},\r\n            {min: 8, message: 'Username must be at least 8 characters!'}\r\n          ]}\r\n        >\r\n          <Input prefix={<UserOutlined className=\"site-form-item-icon\"/>} placeholder=\"Username\"/>\r\n        </Form.Item>\r\n\r\n        <Form.Item\r\n          name=\"password\"\r\n          hasFeedback\r\n          rules={[\r\n            {required: true, message: 'Please input your Password!',},\r\n            {min: 8, message: 'Password must be at least 8 characters!'}\r\n          ]}\r\n        >\r\n          <Input.Password\r\n            prefix={<LockOutlined className=\"site-form-item-icon\"/>}\r\n            type=\"password\"\r\n            placeholder=\"Password\"\r\n          />\r\n        </Form.Item>\r\n\r\n        <Form.Item\r\n          name=\"confirmPassword\"\r\n          dependencies={['password']}\r\n          hasFeedback\r\n          rules={[\r\n            {required: true, message: 'Please input your Password again!',},\r\n            ({getFieldValue}) => ({\r\n              validator(rule, value) {\r\n                if (!value || getFieldValue('password') === value) {\r\n                  return Promise.resolve();\r\n                }\r\n                return Promise.reject('The two passwords that you entered do not match!');\r\n              },\r\n            }),\r\n          ]}\r\n        >\r\n          <Input.Password\r\n            prefix={<LockOutlined className=\"site-form-item-icon\"/>}\r\n            type=\"password\"\r\n            placeholder=\"Confirm Password\"\r\n          />\r\n        </Form.Item>\r\n\r\n        <Form.Item>\r\n          <Button type=\"primary\" htmlType=\"submit\" className=\"login-form-button\" loading={!!loading} block>\r\n            Sign up\r\n          </Button>\r\n        </Form.Item>\r\n\r\n      </Form>\r\n    )\r\n  };\r\n\r\n}\r\n\r\nconst mapStateToProps = (store) => {\r\n  const {auth: {status: {signedUp}}} = store;\r\n  return {loading: isLoading(store, SIGN_UP), success: !!signedUp}\r\n};\r\n\r\nexport default connect(mapStateToProps, {userSignUp, onResetStatus})(Signup)","import React from 'react';\r\nimport {connect} from 'react-redux';\r\nimport {Link} from 'react-router-dom';\r\nimport {Form, Input, Button, Typography, Card, Row, Col} from 'antd';\r\nimport {UserOutlined, InboxOutlined} from '@ant-design/icons';\r\n\r\nimport {isLoading} from 'store/selectors';\r\nimport {userForgot, onResetStatus} from 'actions/Auth';\r\nimport {FORGOT} from \"constants/ActionTypes\";\r\n\r\nclass Forgot extends React.Component {\r\n\r\n  componentDidUpdate(prevProps, prevState, snapshot) {\r\n    if (!prevProps.success && this.props.success)\r\n      this.props.onResetStatus();\r\n  }\r\n\r\n  onFinish = (values) => this.props.userForgot(values);\r\n\r\n  render() {\r\n    const {loading} = this.props;\r\n\r\n    return (\r\n      <Row type=\"flex\" justify=\"center\" align=\"middle\"\r\n           style={{minHeight: '100vh', backgroundImage: `url(/background.png)`}}>\r\n        <Col>\r\n          <Card style={{width: 400}}>\r\n            <Row type=\"flex\" justify=\"center\">\r\n              <Col><img src={'/logo-mysights.png'} alt={'logo mysights'}\r\n                        style={{maxWidth: '150px', marginBottom: '10px'}}/></Col>\r\n            </Row>\r\n            <Form\r\n              name=\"forgot\"\r\n              className=\"forgot-form\"\r\n              onFinish={this.onFinish}\r\n              style={{marginTop: 48}}\r\n            >\r\n\r\n              <Form.Item\r\n                name=\"username\"\r\n                rules={[\r\n                  {required: true, message: 'Please input your Username!',},\r\n                ]}\r\n              >\r\n                <Input prefix={<UserOutlined className=\"site-form-item-icon\"/>} placeholder=\"Username\"/>\r\n              </Form.Item>\r\n\r\n              <Form.Item\r\n                name=\"email\"\r\n                rules={[\r\n                  {type: 'email', message: 'The input is not valid E-mail!',},\r\n                  {required: true, message: 'Please input your Email!',},\r\n                ]}\r\n              >\r\n                <Input prefix={<InboxOutlined className=\"site-form-item-icon\"/>} placeholder=\"Email\"/>\r\n              </Form.Item>\r\n\r\n              <Form.Item>\r\n                <Link to={'/login'} style={{float: 'right'}}>\r\n                  <Typography.Link>Login</Typography.Link>\r\n                </Link>\r\n              </Form.Item>\r\n\r\n              <Form.Item>\r\n                <Button type=\"primary\" htmlType=\"submit\" className=\"forgot-form-button\" loading={!!loading} block>\r\n                  Submit\r\n                </Button>\r\n              </Form.Item>\r\n\r\n            </Form>\r\n          </Card>\r\n        </Col>\r\n      </Row>\r\n    )\r\n  };\r\n\r\n}\r\n\r\nconst mapStateToProps = (store) => {\r\n  const {auth: {status: {forgot}}} = store;\r\n  return {loading: isLoading(store, FORGOT), success: !!forgot}\r\n};\r\n\r\nexport default connect(mapStateToProps, {userForgot, onResetStatus})(Forgot)","import React from 'react';\r\nimport {connect} from 'react-redux';\r\nimport {Link} from 'react-router-dom';\r\nimport { Row, Col, Card, Result, Button, Spin } from 'antd';\r\n\r\nimport {isLoading} from 'store/selectors';\r\nimport {VERIFY_EMAIL} from \"constants/ActionTypes\";\r\nimport {verifyEmail} from 'actions/Verification';\r\n\r\nclass EmailVerification extends React.Component {\r\n\r\n  componentDidMount() {\r\n    const query = new URLSearchParams(this.props.location.search);\r\n    if (query.get('token')) this.props.verifyEmail(query.get('token'));\r\n  }\r\n\r\n  render() {\r\n    const {loading, email} = this.props;\r\n\r\n    return (\r\n      <Row type=\"flex\" justify=\"center\" align=\"middle\" style={{minHeight: '100vh', backgroundImage: `url(/background.png)`}}>\r\n        <Col>\r\n          <Card style={{width: 400, minHeight: 360}}>\r\n            <Spin spinning={loading}>\r\n              {loading ? <div style={{minHeight: 300}}/> :\r\n                <>\r\n                  {email ?\r\n                    <Result\r\n                      status=\"success\"\r\n                      title=\"Success\"\r\n                      subTitle=\"Mail verification success!\"\r\n                      extra={[\r\n                        <Link to={'/'}><Button type=\"primary\" key=\"console\">Go Home</Button></Link>\r\n                      ]}\r\n                    /> :\r\n                    <Result\r\n                      status=\"error\"\r\n                      title=\"Invalid Token\"\r\n                      subTitle=\"Mail verification failed!\"\r\n                      extra={[\r\n                        <Link to={'/'}><Button type=\"primary\" key=\"console\">Go Home</Button></Link>\r\n                      ]}\r\n                    />\r\n                  }\r\n                </>}\r\n            </Spin>\r\n          </Card>\r\n        </Col>\r\n      </Row>\r\n    );\r\n  }\r\n\r\n}\r\n\r\nconst mapStateToProps = (store) => {\r\n  const {verification: {status: {email}}} = store;\r\n  return {email, loading: isLoading(store, VERIFY_EMAIL)}\r\n};\r\n\r\nexport default connect(mapStateToProps, {verifyEmail})(EmailVerification)","import React from 'react';\r\nimport {connect} from 'react-redux';\r\nimport {Link} from 'react-router-dom';\r\nimport {Row, Col, Card, Result, Button, Spin, Form, Input, Descriptions, Typography, Space} from 'antd';\r\nimport {LockOutlined} from '@ant-design/icons';\r\n\r\nimport {isLoading} from 'store/selectors';\r\nimport {GET_SINGLE_USER, VERIFY_PASSWORD} from \"constants/ActionTypes\";\r\nimport {verifyPassword} from 'actions/Verification';\r\nimport {getForgotUser} from 'actions/Auth';\r\n\r\nclass PasswordVerification extends React.Component {\r\n\r\n  componentDidMount() {\r\n    const query = new URLSearchParams(this.props.location.search);\r\n    if (query.get('token')) this.props.getForgotUser(query.get('token'));\r\n  }\r\n  \r\n  onFinish = ({password}) => {\r\n    const query = new URLSearchParams(this.props.location.search);\r\n    this.props.verifyPassword(query.get('token'), password)\r\n  };\r\n\r\n  render() {\r\n    const {loading, user, password} = this.props;\r\n\r\n    return (\r\n      <Row type=\"flex\" justify=\"center\" align=\"middle\"\r\n           style={{minHeight: '100vh', backgroundImage: `url(/background.png)`}}>\r\n        <Col>\r\n          <Card style={{width: 400, minHeight: 360}}>\r\n            <Spin spinning={loading.get}>\r\n              {loading.get ? <div style={{minHeight: 300}}/> :\r\n                <>\r\n                  {user ?\r\n                    <>\r\n                      {!password ?\r\n                        <Space direction={'vertical'} style={{width: '100%'}}>\r\n                          <Row type=\"flex\" justify=\"center\">\r\n                            <Col><img src={'/logo-mysights.png'} alt={'logo mysights'}\r\n                                      style={{maxWidth: '150px', marginBottom: '10px'}}/></Col>\r\n                          </Row>\r\n                          <Descriptions column={1} bordered>\r\n                            <Descriptions.Item\r\n                              label={<Typography.Text strong>Fullname</Typography.Text>}>{user.fullname}</Descriptions.Item>\r\n                            <Descriptions.Item\r\n                              label={<Typography.Text strong>Username</Typography.Text>}>{user.username}</Descriptions.Item>\r\n                            <Descriptions.Item\r\n                              label={<Typography.Text strong>Email</Typography.Text>}>{user.email}</Descriptions.Item>\r\n                          </Descriptions>\r\n                          <Form\r\n                            name=\"forgot\"\r\n                            className=\"forgot-form\"\r\n                            onFinish={this.onFinish}>\r\n                            <Form.Item\r\n                              name=\"password\"\r\n                              hasFeedback\r\n                              rules={[\r\n                                {required: true, message: 'Please input your Password!',},\r\n                                {min: 8, message: 'Password must be at least 8 characters!'}\r\n                              ]}\r\n                            >\r\n                              <Input.Password\r\n                                prefix={<LockOutlined className=\"site-form-item-icon\"/>}\r\n                                type=\"password\"\r\n                                placeholder=\"New Password\"\r\n                              />\r\n                            </Form.Item>\r\n                            <Form.Item\r\n                              name=\"confirmPassword\"\r\n                              dependencies={['password']}\r\n                              hasFeedback\r\n                              rules={[\r\n                                {required: true, message: 'Please input your Password again!',},\r\n                                ({getFieldValue}) => ({\r\n                                  validator(rule, value) {\r\n                                    if (!value || getFieldValue('password') === value) {\r\n                                      return Promise.resolve();\r\n                                    }\r\n                                    return Promise.reject('The two passwords that you entered do not match!');\r\n                                  },\r\n                                }),\r\n                              ]}\r\n                            >\r\n                              <Input.Password\r\n                                prefix={<LockOutlined className=\"site-form-item-icon\"/>}\r\n                                type=\"password\"\r\n                                placeholder=\"Confirm Password\"\r\n                              />\r\n                            </Form.Item>\r\n                            <Form.Item>\r\n                              <Button type=\"primary\" htmlType=\"submit\" className=\"forgot-form-button\"\r\n                                      loading={loading.submit}\r\n                                      block>\r\n                                Submit\r\n                              </Button>\r\n                            </Form.Item>\r\n                          </Form>\r\n                        </Space> :\r\n                        <Result\r\n                          status=\"success\"\r\n                          title=\"Success\"\r\n                          subTitle=\"Mail verification success!\"\r\n                          extra={[\r\n                            <Link to={'/'}><Button type=\"primary\" key=\"console\">Go Home</Button></Link>\r\n                          ]}\r\n                        />\r\n                      }\r\n                    </> :\r\n                    <Result\r\n                      status=\"error\"\r\n                      title=\"Invalid Token\"\r\n                      subTitle=\"Password verification failed!\"\r\n                      extra={[\r\n                        <Link to={'/'}><Button type=\"primary\" key=\"console\">Go Home</Button></Link>\r\n                      ]}\r\n                    />\r\n                  }\r\n                </>}\r\n            </Spin>\r\n          </Card>\r\n        </Col>\r\n      </Row>\r\n    );\r\n  }\r\n\r\n}\r\n\r\nconst mapStateToProps = (store) => {\r\n  const {user: {user}, verification: {status: {password}}} = store;\r\n  return {\r\n    user, password, loading: {\r\n      get: isLoading(store, GET_SINGLE_USER),\r\n      submit: isLoading(store, VERIFY_PASSWORD)\r\n    }\r\n  }\r\n};\r\n\r\nexport default connect(mapStateToProps, {getForgotUser, verifyPassword})(PasswordVerification)","export const isLoading = (store, ...actionsToCheck) =>\r\n  store.ui.loader.actions.some(action => actionsToCheck.includes(action.name));\r\n\r\nexport const isAllowed = (store) => (...menuToCheck) =>\r\n  store.auth.menu.some(menuItem => menuToCheck.includes(menuItem));\r\n\r\n// export const getDeletingNewsId = (store, actionToCheck) => {\r\n//   let newsId = undefined;\r\n//   for (let i = 0; i < store.ui.loader.actions.length; i++) {\r\n//     const action = store.ui.loader.actions[i];\r\n//     if (action.name === actionToCheck) {\r\n//       newsId = action.params.newsId;\r\n//       break;\r\n//     }\r\n//   }\r\n//   return newsId;\r\n// };","import React from 'react';\nimport {ConnectedRouter} from 'connected-react-router'\nimport {Provider} from 'react-redux';\nimport {Route, Switch} from 'react-router-dom';\nimport './MainApp.css';\n\nimport configureStore, {history} from './store';\nimport App from './containers/App';\n\nexport const store = configureStore();\n\nclass MainApp extends React.Component {\n  render() {\n    return (\n      <Provider store={store}>\n        <ConnectedRouter history={history}>\n          <Switch>\n            <Route path=\"/\" component={App}/>\n          </Switch>\n        </ConnectedRouter>\n      </Provider>\n    )\n  }\n}\n\nexport default MainApp;","export default __webpack_public_path__ + \"static/media/RollBanner_Introduction.22ae84db.png\";","// Common\r\nexport const SHOW_MESSAGE = 'show-message';\r\nexport const HIDE_MESSAGE = 'hide-message';\r\n\r\nexport const UI_START_ACTION = 'ui-start-action';\r\nexport const UI_STOP_ACTION = 'ui-stop-action';\r\n\r\nexport const NOTIFICATION_INFO = 'info';\r\nexport const NOTIFICATION_SUCCESS = 'success';\r\nexport const NOTIFICATION_WARNING = 'warning';\r\nexport const NOTIFICATION_ERROR = 'error';\r\n\r\nexport const RESET_STATUS = 'reset-status';\r\nexport const RESET_DATA_STATE = 'reset-data-state';\r\n\r\n// Menus\r\nexport const MENU_MAIN_FEATURE = 'main-feature';\r\nexport const MENU_SUBSCRIPTION = 'subscription';\r\nexport const MENU_API_KEY = 'api-key';\r\nexport const MENU_USAGE = 'usage';\r\nexport const MENU_SERVICE_USAGE = 'service-usage';\r\nexport const MENU_SERVICE = 'service-management';\r\nexport const MENU_ACCESS_LOG = 'access-log';\r\n\r\n// Setting const\r\nexport const SWITCH_LANGUAGE = 'switch-language';\r\nexport const TOGGLE_COLLAPSED_NAV = 'toggle-collapsed-nav';\r\nexport const TOGGLE_SETTING = 'toggle-setting';\r\n\r\n// Auth const\r\nexport const LOG_IN = 'log-in';\r\nexport const SIGN_UP = 'sign-up';\r\nexport const LOG_OUT = 'log-out';\r\nexport const FORGOT = 'forgot';\r\nexport const INIT_URL = 'init-url';\r\nexport const USER_DATA = 'user-data';\r\nexport const USER_TOKEN_SET = 'user-token-set';\r\n\r\n// Verify const\r\nexport const VERIFY_EMAIL = 'verify-email';\r\nexport const VERIFY_PASSWORD = 'verify-password';\r\n\r\n// Services const\r\nexport const GET_ALL_SERVICE = 'get-all-service';\r\nexport const GET_ONE_SERVICE = 'get-one-service';\r\nexport const GET_SUBSCRIBED_SERVICE = 'get-subscribed-service';\r\nexport const ADD_SERVICE_GROUP = 'add-service-group';\r\nexport const EDIT_SERVICE_GROUP = 'edit-service-group';\r\nexport const ADD_SERVICE = 'add-service';\r\nexport const EDIT_SERVICE = 'edit-service';\r\n\r\n// Subscription const\r\nexport const GET_SUBSCRIPTION = 'get-subscription';\r\nexport const GET_ONE_SUBSCRIPTION = 'get-one-subscription';\r\nexport const ADD_SUBSCRIPTION = 'add-subscription';\r\nexport const EDIT_SUBSCRIPTION = 'edit-subscription';\r\nexport const GET_SUBSCRIPTION_SUMMARY = 'get-subscription-summary';\r\nexport const GET_SUBSCRIPTION_ADD_ONS = 'get-subscription-add-ons';\r\nexport const GET_SUBSCRIPTION_TIMELINE = 'get-subscription-timeline';\r\nexport const GET_SUBSCRIPTION_DAILY_USAGE = 'get-subscription-daily-usage';\r\nexport const GET_SUBSCRIPTION_QUOTA = 'get-subscription-quota';\r\n\r\n// Add On const\r\nexport const GET_ADD_ON = 'get-add-on';\r\nexport const ADD_ADD_ON = 'add-add-on';\r\nexport const EDIT_ADD_ON = 'edit-add-on';\r\n\r\n// Package const\r\nexport const GET_PACKAGE = 'get-package';\r\nexport const GET_ONE_PACKAGE = 'get-one-package';\r\nexport const ADD_PACKAGE = 'add-package';\r\nexport const EDIT_PACKAGE = 'edit-package';\r\n\r\n// User const\r\nexport const GET_USER = 'get-user';\r\nexport const GET_SINGLE_USER = 'get-single-user';\r\nexport const EDIT_USER = 'edit-user';\r\n\r\n// API Key const\r\nexport const GET_API_KEY = 'get-api-key';\r\nexport const ADD_API_KEY = 'add-api-key';\r\n\r\n// Usage const\r\nexport const GET_USAGE = 'get-usage';\r\n\r\n// Access log const\r\nexport const GET_ACCESS_LOG = 'get-access-log';","import axios from 'axios';\r\n\r\nconst instance = axios.create({\r\n  // baseURL: `http://dataservices.southeastasia.cloudapp.azure.com/`, //YOUR_API_URL HERE\r\n  baseURL: `https://api.portal.mysights.id/api/`, //YOUR_API_URL HERE\r\n  // baseURL: `http://localhost:8010/api/`, //YOUR_API_URL HERE\r\n  headers: {\r\n    'Content-Type': 'application/json'\r\n  }\r\n});\r\n\r\ninstance.interceptors.response.use(response => response, (error) => {\r\n  if (error.response) {\r\n    // Handler\r\n  } else if (error.request) {\r\n    console.log(\"Error****: Network error!\");\r\n  } else {\r\n    console.log(\"Error****:\", error.message);\r\n  }\r\n  return Promise.reject(error);\r\n});\r\n\r\nexport default instance;\r\n","import {\r\n  RESET_STATUS, RESET_DATA_STATE\r\n} from \"../constants/ActionTypes\";\r\n\r\nexport const onResetStatus = () => {\r\n  return dispatch => {\r\n    dispatch({type: RESET_STATUS});\r\n  }\r\n};\r\n\r\nexport const onResetDataState = () => {\r\n  return dispatch => {\r\n    dispatch({type: RESET_DATA_STATE});\r\n  }\r\n};"],"sourceRoot":""}