(this["webpackJsonpportal-ui"]=this["webpackJsonpportal-ui"]||[]).push([[0],{1028:function(e,t,n){var a={"./":323,"./MainApp":441,"./MainApp.css":520,"./MainApp.js":441,"./actions/APIKey":314,"./actions/APIKey.js":314,"./actions/AddOn":310,"./actions/AddOn.js":310,"./actions/Auth":113,"./actions/Auth.js":113,"./actions/Common":74,"./actions/Common.js":74,"./actions/Log":408,"./actions/Log.js":408,"./actions/Notification":409,"./actions/Notification.js":409,"./actions/Package":160,"./actions/Package.js":160,"./actions/Service":105,"./actions/Service.js":105,"./actions/Setting":205,"./actions/Setting.js":205,"./actions/Subscription":103,"./actions/Subscription.js":103,"./actions/Usage":276,"./actions/Usage.js":276,"./actions/User":168,"./actions/User.js":168,"./actions/Verification":277,"./actions/Verification.js":277,"./app":252,"./app/":252,"./app/index":252,"./app/index.css":530,"./app/index.js":252,"./app/routes/APIKey":258,"./app/routes/APIKey/":258,"./app/routes/APIKey/index":258,"./app/routes/APIKey/index.js":258,"./app/routes/APIMarket":261,"./app/routes/APIMarket/":261,"./app/routes/APIMarket/Detail":407,"./app/routes/APIMarket/Detail.js":407,"./app/routes/APIMarket/Market":406,"./app/routes/APIMarket/Market.js":406,"./app/routes/APIMarket/index":261,"./app/routes/APIMarket/index.js":261,"./app/routes/AccessLog":262,"./app/routes/AccessLog/":262,"./app/routes/AccessLog/index":262,"./app/routes/AccessLog/index.js":262,"./app/routes/Landing":256,"./app/routes/Landing/":256,"./app/routes/Landing/index":256,"./app/routes/Landing/index.js":256,"./app/routes/Package":263,"./app/routes/Package/":263,"./app/routes/Package/Form":410,"./app/routes/Package/Form.js":410,"./app/routes/Package/index":263,"./app/routes/Package/index.js":263,"./app/routes/Service":264,"./app/routes/Service/":264,"./app/routes/Service/Detail":411,"./app/routes/Service/Detail.js":411,"./app/routes/Service/Form/Group":241,"./app/routes/Service/Form/Group.js":241,"./app/routes/Service/Form/Service":242,"./app/routes/Service/Form/Service.js":242,"./app/routes/Service/index":264,"./app/routes/Service/index.js":264,"./app/routes/ServiceUsage":260,"./app/routes/ServiceUsage/":260,"./app/routes/ServiceUsage/Service":405,"./app/routes/ServiceUsage/Service.js":405,"./app/routes/ServiceUsage/Tabs/Chart/UsageChart":404,"./app/routes/ServiceUsage/Tabs/Chart/UsageChart.js":404,"./app/routes/ServiceUsage/Tabs/DailyUsage":402,"./app/routes/ServiceUsage/Tabs/DailyUsage.js":402,"./app/routes/ServiceUsage/Tabs/Quota":403,"./app/routes/ServiceUsage/Tabs/Quota.css":610,"./app/routes/ServiceUsage/Tabs/Quota.js":403,"./app/routes/ServiceUsage/Usage":401,"./app/routes/ServiceUsage/Usage.js":401,"./app/routes/ServiceUsage/index":260,"./app/routes/ServiceUsage/index.js":260,"./app/routes/Subscription":257,"./app/routes/Subscription/":257,"./app/routes/Subscription/Chart/UsageChart":379,"./app/routes/Subscription/Chart/UsageChart.js":379,"./app/routes/Subscription/Detail":372,"./app/routes/Subscription/Detail.js":372,"./app/routes/Subscription/Form/AddOn":375,"./app/routes/Subscription/Form/AddOn.js":375,"./app/routes/Subscription/Form/Subs":208,"./app/routes/Subscription/Form/Subs.js":208,"./app/routes/Subscription/List":369,"./app/routes/Subscription/List.js":369,"./app/routes/Subscription/Tab/AddOn":374,"./app/routes/Subscription/Tab/AddOn.js":374,"./app/routes/Subscription/Tab/DailyUsage":377,"./app/routes/Subscription/Tab/DailyUsage.js":377,"./app/routes/Subscription/Tab/Quota":378,"./app/routes/Subscription/Tab/Quota.css":606,"./app/routes/Subscription/Tab/Quota.js":378,"./app/routes/Subscription/Tab/Summary":373,"./app/routes/Subscription/Tab/Summary.js":373,"./app/routes/Subscription/Tab/Timeline":376,"./app/routes/Subscription/Tab/Timeline.js":376,"./app/routes/Subscription/index":257,"./app/routes/Subscription/index.js":257,"./app/routes/Usage":259,"./app/routes/Usage/":259,"./app/routes/Usage/Service":400,"./app/routes/Usage/Service.css":609,"./app/routes/Usage/Service.js":400,"./app/routes/Usage/Tabs/Chart/UsageChart":399,"./app/routes/Usage/Tabs/Chart/UsageChart.js":399,"./app/routes/Usage/Tabs/DailyUsage":397,"./app/routes/Usage/Tabs/DailyUsage.js":397,"./app/routes/Usage/Tabs/Quota":398,"./app/routes/Usage/Tabs/Quota.css":608,"./app/routes/Usage/Tabs/Quota.js":398,"./app/routes/Usage/Usage":396,"./app/routes/Usage/Usage.js":396,"./app/routes/Usage/index":259,"./app/routes/Usage/index.js":259,"./components/Avatar":149,"./components/Avatar/":149,"./components/Avatar/index":149,"./components/Avatar/index.js":149,"./components/Error403":265,"./components/Error403/":265,"./components/Error403/index":265,"./components/Error403/index.js":265,"./components/Error404":266,"./components/Error404/":266,"./components/Error404/index":266,"./components/Error404/index.js":266,"./components/Notification":267,"./components/Notification/":267,"./components/Notification/index":267,"./components/Notification/index.js":267,"./components/PackageCard":178,"./components/PackageCard/":178,"./components/PackageCard/index":178,"./components/PackageCard/index.css":605,"./components/PackageCard/index.js":178,"./components/Service/DocsHeader":115,"./components/Service/DocsHeader.js":115,"./components/Service/RouteOptimizer":347,"./components/Service/RouteOptimizer/":347,"./components/Service/RouteOptimizer/RollBanner_Introduction.png":483,"./components/Service/RouteOptimizer/docs":348,"./components/Service/RouteOptimizer/docs.js":348,"./components/Service/RouteOptimizer/index":347,"./components/Service/RouteOptimizer/index.js":347,"./components/Service/RouteOptimizer/overview":349,"./components/Service/RouteOptimizer/overview.js":349,"./components/Service/RouteOptimizer/request":476,"./components/Service/RouteOptimizer/request.json":476,"./components/Service/RouteOptimizer/response":477,"./components/Service/RouteOptimizer/response.json":477,"./components/Tags/Package":108,"./components/Tags/Package.js":108,"./components/Tags/SubscriptionStatus":159,"./components/Tags/SubscriptionStatus.js":159,"./constants/ActionTypes":5,"./constants/ActionTypes.js":5,"./containers/App":363,"./containers/App.js":363,"./containers/Auth":412,"./containers/Auth.js":412,"./containers/Forgot":415,"./containers/Forgot.js":415,"./containers/Header":254,"./containers/Header/":254,"./containers/Header/index":254,"./containers/Header/index.css":550,"./containers/Header/index.js":254,"./containers/Login":413,"./containers/Login.js":413,"./containers/Setting":255,"./containers/Setting/":255,"./containers/Setting/Profile":367,"./containers/Setting/Profile.js":367,"./containers/Setting/Security":368,"./containers/Setting/Security.js":368,"./containers/Setting/index":255,"./containers/Setting/index.js":255,"./containers/Sidebar":253,"./containers/Sidebar/":253,"./containers/Sidebar/Menu":366,"./containers/Sidebar/Menu.js":366,"./containers/Sidebar/index":253,"./containers/Sidebar/index.js":253,"./containers/Signup":414,"./containers/Signup.js":414,"./containers/Verification/Email":416,"./containers/Verification/Email.js":416,"./containers/Verification/Password":417,"./containers/Verification/Password.js":417,"./index":323,"./index.css":519,"./index.js":323,"./lngProvider":251,"./lngProvider/":251,"./lngProvider/entries/en-US":364,"./lngProvider/entries/en-US.js":364,"./lngProvider/index":251,"./lngProvider/index.js":251,"./lngProvider/locales/en_US":365,"./lngProvider/locales/en_US.json":365,"./reducers":250,"./reducers/":250,"./reducers/APIKey":359,"./reducers/APIKey.js":359,"./reducers/AddOn":361,"./reducers/AddOn.js":361,"./reducers/Auth":352,"./reducers/Auth.js":352,"./reducers/Log":362,"./reducers/Log.js":362,"./reducers/Package":357,"./reducers/Package.js":357,"./reducers/Service":355,"./reducers/Service.js":355,"./reducers/Settings":351,"./reducers/Settings.js":351,"./reducers/Subscription":356,"./reducers/Subscription.js":356,"./reducers/UI":354,"./reducers/UI.js":354,"./reducers/Usage":360,"./reducers/Usage.js":360,"./reducers/User":358,"./reducers/User.js":358,"./reducers/Verification":353,"./reducers/Verification.js":353,"./reducers/index":250,"./reducers/index.js":250,"./reportWebVitals":350,"./reportWebVitals.js":350,"./store":233,"./store/":233,"./store/index":233,"./store/index.js":233,"./store/selectors":42,"./store/selectors.js":42,"./util/Api":55,"./util/Api.js":55,"./util/IntlMessages":225,"./util/IntlMessages.js":225};function r(e){var t=s(e);return n(t)}function s(e){if(!n.o(a,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return a[e]}r.keys=function(){return Object.keys(a)},r.resolve=s,e.exports=r,r.id=1028},103:function(e,t,n){"use strict";n.r(t),n.d(t,"getSubscription",(function(){return i})),n.d(t,"getSubscriptionSummary",(function(){return c})),n.d(t,"getSubscriptionAddOns",(function(){return o})),n.d(t,"getSubscriptionTimeline",(function(){return l})),n.d(t,"getSubscriptionDailyUsage",(function(){return d})),n.d(t,"getSubscriptionQuota",(function(){return u})),n.d(t,"getSubscriptionByService",(function(){return j})),n.d(t,"addSubscription",(function(){return p})),n.d(t,"addTrialSubscription",(function(){return O})),n.d(t,"editSubscription",(function(){return b}));var a=n(9),r=n(5),s=n(55),i=function(e){return function(t){t({type:r.UI_START_ACTION,name:r.GET_ONE_SUBSCRIPTION}),s.default.get("subs/"+e).then((function(e){var n=e.data;t({type:r.UI_STOP_ACTION,name:r.GET_ONE_SUBSCRIPTION}),t({type:r.GET_ONE_SUBSCRIPTION,payload:n.data})})).catch((function(e){var n=e.response;t({type:r.UI_STOP_ACTION,name:r.GET_ONE_SUBSCRIPTION}),n&&(console.log("Error****:",n.message),t({type:r.SHOW_MESSAGE,title:"Subscription error.",message:n.data.message,severity:r.NOTIFICATION_ERROR}))}))}},c=function(e){return function(t){t({type:r.UI_START_ACTION,name:r.GET_SUBSCRIPTION_SUMMARY}),s.default.get("subs/".concat(e,"/summary")).then((function(e){var n=e.data;t({type:r.UI_STOP_ACTION,name:r.GET_SUBSCRIPTION_SUMMARY}),t({type:r.GET_SUBSCRIPTION_SUMMARY,payload:n.data})})).catch((function(e){var n=e.response;t({type:r.UI_STOP_ACTION,name:r.GET_SUBSCRIPTION_SUMMARY}),n&&(console.log("Error****:",n.message),t({type:r.SHOW_MESSAGE,title:"Subscription error.",message:n.data.message,severity:r.NOTIFICATION_ERROR}))}))}},o=function(e){return function(t){t({type:r.UI_START_ACTION,name:r.GET_SUBSCRIPTION_ADD_ONS}),s.default.get("subs/".concat(e,"/add-on")).then((function(e){var n=e.data;t({type:r.UI_STOP_ACTION,name:r.GET_SUBSCRIPTION_ADD_ONS}),t({type:r.GET_SUBSCRIPTION_ADD_ONS,payload:n.data})})).catch((function(e){var n=e.response;t({type:r.UI_STOP_ACTION,name:r.GET_SUBSCRIPTION_ADD_ONS}),n&&(console.log("Error****:",n.message),t({type:r.SHOW_MESSAGE,title:"Subscription error.",message:n.data.message,severity:r.NOTIFICATION_ERROR}))}))}},l=function(e){return function(t){t({type:r.UI_START_ACTION,name:r.GET_SUBSCRIPTION_TIMELINE}),s.default.get("subs/".concat(e,"/timeline")).then((function(e){var n=e.data;t({type:r.UI_STOP_ACTION,name:r.GET_SUBSCRIPTION_TIMELINE}),t({type:r.GET_SUBSCRIPTION_TIMELINE,payload:n.data})})).catch((function(e){var n=e.response;t({type:r.UI_STOP_ACTION,name:r.GET_SUBSCRIPTION_TIMELINE}),n&&(console.log("Error****:",n.message),t({type:r.SHOW_MESSAGE,title:"Subscription error.",message:n.data.message,severity:r.NOTIFICATION_ERROR}))}))}},d=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return function(n){n({type:r.UI_START_ACTION,name:r.GET_SUBSCRIPTION_DAILY_USAGE}),s.default.get("subs/".concat(e,"/daily-usage"),{params:t}).then((function(e){var t=e.data;n({type:r.UI_STOP_ACTION,name:r.GET_SUBSCRIPTION_DAILY_USAGE}),n({type:r.GET_SUBSCRIPTION_DAILY_USAGE,payload:t.data})})).catch((function(e){var t=e.response;n({type:r.UI_STOP_ACTION,name:r.GET_SUBSCRIPTION_DAILY_USAGE}),t&&(console.log("Error****:",t.message),n({type:r.SHOW_MESSAGE,title:"Subscription error.",message:t.data.message,severity:r.NOTIFICATION_ERROR}))}))}},u=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return function(n){n({type:r.UI_START_ACTION,name:r.GET_SUBSCRIPTION_QUOTA}),s.default.get("subs/".concat(e,"/quota"),{params:t}).then((function(e){var t=e.data;n({type:r.UI_STOP_ACTION,name:r.GET_SUBSCRIPTION_QUOTA}),n({type:r.GET_SUBSCRIPTION_QUOTA,payload:t.data})})).catch((function(e){var t=e.response;n({type:r.UI_STOP_ACTION,name:r.GET_SUBSCRIPTION_QUOTA}),t&&(console.log("Error****:",t.message),n({type:r.SHOW_MESSAGE,title:"Subscription error.",message:t.data.message,severity:r.NOTIFICATION_ERROR}))}))}},j=function(e){return function(t){t({type:r.UI_START_ACTION,name:r.GET_SUBSCRIPTION}),s.default.get("subs/service/"+e).then((function(e){var n=e.data;t({type:r.UI_STOP_ACTION,name:r.GET_SUBSCRIPTION}),t({type:r.GET_SUBSCRIPTION,payload:n.data})})).catch((function(e){var n=e.response;t({type:r.UI_STOP_ACTION,name:r.GET_SUBSCRIPTION}),n&&(console.log("Error****:",n.message),t({type:r.SHOW_MESSAGE,title:"Subscription error.",message:n.data.message,severity:r.NOTIFICATION_ERROR}))}))}},p=function(e){return function(t){t({type:r.UI_START_ACTION,name:r.ADD_SUBSCRIPTION}),s.default.post("subs/subscribe",e).then((function(e){e.data;t({type:r.UI_STOP_ACTION,name:r.ADD_SUBSCRIPTION}),t({type:r.ADD_SUBSCRIPTION})})).catch((function(e){var n=e.response;t({type:r.UI_STOP_ACTION,name:r.ADD_SUBSCRIPTION}),n&&(console.log("Error****:",n.message),t({type:r.SHOW_MESSAGE,title:"Subscription error.",message:n.data.message,severity:r.NOTIFICATION_ERROR}))}))}},O=function(e){return function(t){t({type:r.UI_START_ACTION,name:r.ADD_SUBSCRIPTION}),s.default.post("subs/subscribe/trial",{service:e}).then((function(e){e.data;t({type:r.UI_STOP_ACTION,name:r.ADD_SUBSCRIPTION}),t({type:r.ADD_SUBSCRIPTION})})).catch((function(e){var n=e.response;t({type:r.UI_STOP_ACTION,name:r.ADD_SUBSCRIPTION}),n&&(console.log("Error****:",n.message),t({type:r.SHOW_MESSAGE,title:"Subscription error.",message:n.data.message,severity:r.NOTIFICATION_ERROR}))}))}},b=function(e,t){return function(n){n({type:r.UI_START_ACTION,name:r.EDIT_SUBSCRIPTION}),s.default.post("subs/subscribe/edit",Object(a.a)({id:e},t)).then((function(e){e.data;n({type:r.UI_STOP_ACTION,name:r.EDIT_SUBSCRIPTION}),n({type:r.EDIT_SUBSCRIPTION})})).catch((function(e){var t=e.response;n({type:r.UI_STOP_ACTION,name:r.EDIT_SUBSCRIPTION}),t&&(console.log("Error****:",t.message),n({type:r.SHOW_MESSAGE,title:"Subscription error.",message:t.data.message,severity:r.NOTIFICATION_ERROR}))}))}}},105:function(e,t,n){"use strict";n.r(t),n.d(t,"getAllService",(function(){return s})),n.d(t,"getMarketService",(function(){return i})),n.d(t,"getOneMarketService",(function(){return c})),n.d(t,"getSubscribedService",(function(){return o})),n.d(t,"addService",(function(){return l})),n.d(t,"editService",(function(){return d})),n.d(t,"addServiceGroup",(function(){return u})),n.d(t,"editServiceGroup",(function(){return j}));var a=n(5),r=n(55),s=function(){return function(e){e({type:a.UI_START_ACTION,name:a.GET_ALL_SERVICE}),r.default.get("service").then((function(t){var n=t.data;e({type:a.UI_STOP_ACTION,name:a.GET_ALL_SERVICE}),e({type:a.GET_ALL_SERVICE,payload:n.data})})).catch((function(t){var n=t.response;e({type:a.UI_STOP_ACTION,name:a.GET_ALL_SERVICE}),n&&(console.log("Error****:",n.message),e({type:a.SHOW_MESSAGE,title:"Service error.",message:n.data.message,severity:a.NOTIFICATION_ERROR}))}))}},i=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;return function(t){t({type:a.UI_START_ACTION,name:a.GET_ALL_SERVICE}),r.default.get("service/market",{params:e}).then((function(e){var n=e.data;t({type:a.UI_STOP_ACTION,name:a.GET_ALL_SERVICE}),t({type:a.GET_ALL_SERVICE,payload:n.data})})).catch((function(e){var n=e.response;t({type:a.UI_STOP_ACTION,name:a.GET_ALL_SERVICE}),n&&(console.log("Error****:",n.message),t({type:a.SHOW_MESSAGE,title:"Service error.",message:n.data.message,severity:a.NOTIFICATION_ERROR}))}))}},c=function(e){return function(t){t({type:a.UI_START_ACTION,name:a.GET_ONE_SERVICE}),r.default.get("service/market/".concat(e)).then((function(e){var n=e.data;t({type:a.UI_STOP_ACTION,name:a.GET_ONE_SERVICE}),t({type:a.GET_ONE_SERVICE,payload:n.data})})).catch((function(e){var n=e.response;t({type:a.UI_STOP_ACTION,name:a.GET_ONE_SERVICE}),n&&(console.log("Error****:",n.message),t({type:a.SHOW_MESSAGE,title:"Service error.",message:n.data.message,severity:a.NOTIFICATION_ERROR}))}))}},o=function(){return function(e){e({type:a.UI_START_ACTION,name:a.GET_SUBSCRIBED_SERVICE}),r.default.get("service/user").then((function(t){var n=t.data;e({type:a.UI_STOP_ACTION,name:a.GET_SUBSCRIBED_SERVICE}),e({type:a.GET_SUBSCRIBED_SERVICE,payload:n.data})})).catch((function(t){var n=t.response;e({type:a.UI_STOP_ACTION,name:a.GET_SUBSCRIBED_SERVICE}),n&&(console.log("Error****:",n.message),e({type:a.SHOW_MESSAGE,title:"Service error.",message:n.data.message,severity:a.NOTIFICATION_ERROR}))}))}},l=function(e){return function(t){t({type:a.UI_START_ACTION,name:a.ADD_SERVICE}),r.default.post("service",e).then((function(e){e.data;t({type:a.UI_STOP_ACTION,name:a.ADD_SERVICE}),t({type:a.ADD_SERVICE})})).catch((function(e){var n=e.response;t({type:a.UI_STOP_ACTION,name:a.ADD_SERVICE}),n&&(console.log("Error****:",n.message),t({type:a.SHOW_MESSAGE,title:"Service error.",message:n.data.message,severity:a.NOTIFICATION_ERROR}))}))}},d=function(e,t){return function(n){n({type:a.UI_START_ACTION,name:a.EDIT_SERVICE}),r.default.post("service/".concat(e),t).then((function(e){e.data;n({type:a.UI_STOP_ACTION,name:a.EDIT_SERVICE}),n({type:a.EDIT_SERVICE})})).catch((function(e){var t=e.response;n({type:a.UI_STOP_ACTION,name:a.EDIT_SERVICE}),t&&(console.log("Error****:",t.message),n({type:a.SHOW_MESSAGE,title:"Service error.",message:t.data.message,severity:a.NOTIFICATION_ERROR}))}))}},u=function(e){return function(t){t({type:a.UI_START_ACTION,name:a.ADD_SERVICE_GROUP}),r.default.post("service/group",e).then((function(e){e.data;t({type:a.UI_STOP_ACTION,name:a.ADD_SERVICE_GROUP}),t({type:a.ADD_SERVICE_GROUP})})).catch((function(e){var n=e.response;t({type:a.UI_STOP_ACTION,name:a.ADD_SERVICE_GROUP}),n&&(console.log("Error****:",n.message),t({type:a.SHOW_MESSAGE,title:"Service error.",message:n.data.message,severity:a.NOTIFICATION_ERROR}))}))}},j=function(e,t){return function(n){n({type:a.UI_START_ACTION,name:a.EDIT_SERVICE_GROUP}),r.default.post("service/group/".concat(e),t).then((function(e){e.data;n({type:a.UI_STOP_ACTION,name:a.EDIT_SERVICE_GROUP}),n({type:a.EDIT_SERVICE_GROUP})})).catch((function(e){var t=e.response;n({type:a.UI_STOP_ACTION,name:a.EDIT_SERVICE_GROUP}),t&&(console.log("Error****:",t.message),n({type:a.SHOW_MESSAGE,title:"Service error.",message:t.data.message,severity:a.NOTIFICATION_ERROR}))}))}}},108:function(e,t,n){"use strict";n.r(t);n(248);var a=n(93),r=n.n(a),s=n(2),i=(n(0),n(20)),c=n.n(i);t.default=function(e){var t=e.name;switch(c.a.lowerCase(t)){case"paid":return Object(s.jsx)(r.a,{color:"geekblue",children:c.a.upperCase(t)});case"trial":return Object(s.jsx)(r.a,{color:"orange",children:c.a.upperCase(t)});case"development":return Object(s.jsx)(r.a,{color:"blue",children:c.a.upperCase(t)});default:return Object(s.jsx)(r.a,{color:"purple",children:c.a.upperCase(t)})}}},113:function(e,t,n){"use strict";n.r(t),n.d(t,"setInitUrl",(function(){return i})),n.d(t,"userSignUp",(function(){return c})),n.d(t,"userSignIn",(function(){return o})),n.d(t,"userForgot",(function(){return l})),n.d(t,"getUser",(function(){return d})),n.d(t,"getForgotUser",(function(){return u})),n.d(t,"userSignOut",(function(){return j})),n.d(t,"onResetStatus",(function(){return p}));var a=n(79),r=n(5),s=n(55),i=function(e){return{type:r.INIT_URL,payload:e}},c=function(e){var t=e.fullname,n=e.username,i=e.password,c=e.email;Object(a.a)(e,["fullname","username","password","email"]);return function(e){e({type:r.UI_START_ACTION,name:r.SIGN_UP}),s.default.post("auth/register",{fullname:t,username:n,password:i,email:c}).then((function(t){var n=t.data;e({type:r.SIGN_UP}),e({type:r.UI_STOP_ACTION,name:r.SIGN_UP}),e({type:r.SHOW_MESSAGE,title:n.message,message:"",severity:r.NOTIFICATION_SUCCESS})})).catch((function(t){var n=t.response;e({type:r.UI_STOP_ACTION,name:r.SIGN_UP}),n&&(console.log("Error****:",n.message),e({type:r.SHOW_MESSAGE,title:"Failed sign up.",message:n.data.message,severity:r.NOTIFICATION_ERROR}))}))}},o=function(e){var t=e.username,n=e.password;Object(a.a)(e,["username","password"]);return function(e){e({type:r.UI_START_ACTION,name:r.LOG_IN}),s.default.post("auth/login",{username:t,password:n}).then((function(t){var n=t.data;s.default.interceptors.response.use((function(e){return e}),(function(t){return t.response&&401===t.response.status&&(localStorage.removeItem("token"),e({type:r.LOG_OUT})),Promise.reject(t)})),localStorage.setItem("token",n.data.access_token),e({type:r.UI_STOP_ACTION,name:r.LOG_IN}),e({type:r.USER_TOKEN_SET,payload:n.data.access_token})})).catch((function(t){var n=t.response;e({type:r.UI_STOP_ACTION,name:r.LOG_IN}),n&&(console.log("Error****:",n.message),e({type:r.SHOW_MESSAGE,title:"Failed login.",message:n.data.message,severity:r.NOTIFICATION_ERROR}))}))}},l=function(e){var t=e.username,n=e.email;return function(e){e({type:r.UI_START_ACTION,name:r.FORGOT}),s.default.post("forgot",{username:t,email:n}).then((function(t){var n=t.data;e({type:r.FORGOT}),e({type:r.UI_STOP_ACTION,name:r.FORGOT}),e({type:r.SHOW_MESSAGE,title:n.message,message:"",severity:r.NOTIFICATION_SUCCESS})})).catch((function(t){var n=t.response;e({type:r.UI_STOP_ACTION,name:r.FORGOT}),n&&(console.log("Error****:",n.message),e({type:r.SHOW_MESSAGE,title:"Failed forgot.",message:n.data.message,severity:r.NOTIFICATION_ERROR}))}))}},d=function(){return function(e){e({type:r.UI_START_ACTION,name:r.USER_DATA}),s.default.get("auth/me").then((function(t){var n=t.data;e({type:r.UI_STOP_ACTION,name:r.USER_DATA}),e({type:r.USER_DATA,payload:n.data,menu:n.data.role.permissions})})).catch((function(t){var n=t.response;e({type:r.UI_STOP_ACTION,name:r.USER_DATA}),n&&(console.log("Error****:",n.message),401===n.status&&e({type:r.LOG_OUT}))}))}},u=function(e){if(e)return function(t){t({type:r.UI_START_ACTION,name:r.GET_SINGLE_USER}),s.default.get("forgot",{params:{token:e}}).then((function(e){var n=e.data;t({type:r.UI_STOP_ACTION,name:r.GET_SINGLE_USER}),t({type:r.GET_SINGLE_USER,payload:n.data})})).catch((function(e){var n=e.response;t({type:r.UI_STOP_ACTION,name:r.GET_SINGLE_USER}),n&&(console.log("Error****:",n.message),t({type:r.SHOW_MESSAGE,title:"User error.",message:n.data.message,severity:r.NOTIFICATION_ERROR}))}))}},j=function(){return function(e){localStorage.removeItem("token"),e({type:r.LOG_OUT})}},p=function(){return function(e){e({type:r.RESET_STATUS})}}},115:function(e,t,n){"use strict";n.r(t);n(91);var a=n(32),r=n.n(a),s=(n(82),n(19)),i=n.n(s),c=n(66),o=n(2),l=n(0),d=n(508);t.default=function(e){var t=e.level,n=e.text,a=e.link,s=Object(l.useState)(!1),u=Object(c.a)(s,2),j=u[0],p=u[1];return Object(o.jsx)(r.a,{onMouseOver:function(){return p(!0)},onMouseOut:function(){return p(!1)},style:{width:"100%"},id:a.replace("#",""),children:Object(o.jsxs)(i.a.Title,{level:t,style:{margin:"0.5em 0px"},children:[n,j&&Object(o.jsxs)(i.a.Link,{href:a,children:[" ",Object(o.jsx)(d.a,{})]})]})})}},149:function(e,t,n){"use strict";n.r(t);n(91);var a=n(32),r=n.n(a),s=(n(232),n(151)),i=n.n(s),c=n(629),o=n(2),l=(n(0),n(20)),d=n.n(l);t.default=function(e){var t=e.name,n=e.only,a=t.split(" ").map((function(e){var t=Object(c.a)(e),n=t[0];t.slice(1);return n})).join("").toUpperCase();return n?Object(o.jsx)(i.a,{style:{color:"#f56a00",backgroundColor:"#fde3cf"},children:a}):Object(o.jsxs)(r.a,{children:[Object(o.jsx)(i.a,{style:{color:"#f56a00",backgroundColor:"#fde3cf"},children:a}),d.a.startCase(t)]})}},159:function(e,t,n){"use strict";n.r(t);n(248);var a=n(93),r=n.n(a),s=n(2),i=(n(0),n(20)),c=n.n(i);t.default=function(e){var t=e.status;switch(t){case"active":return Object(s.jsx)(r.a,{color:"green",children:c.a.upperCase(t)});case"expired":return Object(s.jsx)(r.a,{color:"red",children:c.a.upperCase(t)});case"inactive":return Object(s.jsx)(r.a,{color:"volcano",children:c.a.upperCase(t)});case"incoming":return Object(s.jsx)(r.a,{color:"blue",children:c.a.upperCase(t)});default:return Object(s.jsx)(r.a,{color:"purple",children:c.a.upperCase(t)})}}},160:function(e,t,n){"use strict";n.r(t),n.d(t,"getPackageByService",(function(){return s})),n.d(t,"getPublicPackageByService",(function(){return i})),n.d(t,"getPackage",(function(){return c})),n.d(t,"addPackage",(function(){return o})),n.d(t,"editPackage",(function(){return l}));var a=n(5),r=n(55),s=function(e){return function(t){t({type:a.UI_START_ACTION,name:a.GET_PACKAGE}),r.default.get("package/service/".concat(e,"/all")).then((function(e){var n=e.data;t({type:a.UI_STOP_ACTION,name:a.GET_PACKAGE}),t({type:a.GET_PACKAGE,payload:n.data})})).catch((function(e){var n=e.response;t({type:a.UI_STOP_ACTION,name:a.GET_PACKAGE}),n&&(console.log("Error****:",n.message),t({type:a.SHOW_MESSAGE,title:"Package error.",message:n.data.message,severity:a.NOTIFICATION_ERROR}))}))}},i=function(e){return function(t){t({type:a.UI_START_ACTION,name:a.GET_PACKAGE}),r.default.get("package/service/".concat(e,"/public")).then((function(e){var n=e.data;t({type:a.UI_STOP_ACTION,name:a.GET_PACKAGE}),t({type:a.GET_PACKAGE,payload:n.data})})).catch((function(e){var n=e.response;t({type:a.UI_STOP_ACTION,name:a.GET_PACKAGE}),n&&(console.log("Error****:",n.message),t({type:a.SHOW_MESSAGE,title:"Package error.",message:n.data.message,severity:a.NOTIFICATION_ERROR}))}))}},c=function(e){return function(t){t({type:a.UI_START_ACTION,name:a.GET_ONE_PACKAGE}),r.default.get("package/".concat(e)).then((function(e){var n=e.data;t({type:a.UI_STOP_ACTION,name:a.GET_ONE_PACKAGE}),t({type:a.GET_ONE_PACKAGE,payload:n.data})})).catch((function(e){var n=e.response;t({type:a.UI_STOP_ACTION,name:a.GET_ONE_PACKAGE}),n&&(console.log("Error****:",n.message),t({type:a.SHOW_MESSAGE,title:"Package error.",message:n.data.message,severity:a.NOTIFICATION_ERROR}))}))}},o=function(e){return function(t){t({type:a.UI_START_ACTION,name:a.ADD_PACKAGE}),r.default.post("package",e).then((function(e){e.data;t({type:a.UI_STOP_ACTION,name:a.ADD_PACKAGE}),t({type:a.ADD_PACKAGE})})).catch((function(e){var n=e.response;t({type:a.UI_STOP_ACTION,name:a.ADD_PACKAGE}),n&&(console.log("Error****:",n.message),t({type:a.SHOW_MESSAGE,title:"Service error.",message:n.data.message,severity:a.NOTIFICATION_ERROR}))}))}},l=function(e,t){return function(n){n({type:a.UI_START_ACTION,name:a.EDIT_PACKAGE}),r.default.post("package/".concat(e),t).then((function(e){e.data;n({type:a.UI_STOP_ACTION,name:a.EDIT_PACKAGE}),n({type:a.EDIT_PACKAGE})})).catch((function(e){var t=e.response;n({type:a.UI_STOP_ACTION,name:a.EDIT_PACKAGE}),t&&(console.log("Error****:",t.message),n({type:a.SHOW_MESSAGE,title:"Service error.",message:t.data.message,severity:a.NOTIFICATION_ERROR}))}))}}},168:function(e,t,n){"use strict";n.r(t),n.d(t,"getAllUser",(function(){return s})),n.d(t,"editUser",(function(){return i})),n.d(t,"editPassword",(function(){return c}));var a=n(5),r=n(55),s=function(){return function(e){e({type:a.UI_START_ACTION,name:a.GET_USER}),r.default.get("user").then((function(t){var n=t.data;e({type:a.UI_STOP_ACTION,name:a.GET_USER}),e({type:a.GET_USER,payload:n.data})})).catch((function(t){var n=t.response;e({type:a.UI_STOP_ACTION,name:a.GET_USER}),n&&(console.log("Error****:",n.message),e({type:a.SHOW_MESSAGE,title:"User error.",message:n.data.message,severity:a.NOTIFICATION_ERROR}))}))}},i=function(e){return function(t){t({type:a.UI_START_ACTION,name:a.EDIT_USER}),r.default.post("user/edit",e).then((function(e){e.data;t({type:a.UI_STOP_ACTION,name:a.EDIT_USER}),t({type:a.EDIT_USER})})).catch((function(e){var n=e.response;t({type:a.UI_STOP_ACTION,name:a.EDIT_USER}),n&&(console.log("Error****:",n.message),t({type:a.SHOW_MESSAGE,title:"User error.",message:n.data.message,severity:a.NOTIFICATION_ERROR}))}))}},c=function(e){return function(t){t({type:a.UI_START_ACTION,name:a.EDIT_USER}),r.default.post("user/edit/password",e).then((function(e){e.data;t({type:a.UI_STOP_ACTION,name:a.EDIT_USER}),t({type:a.EDIT_USER}),t({type:a.SHOW_MESSAGE,title:"Password changed.",severity:a.NOTIFICATION_SUCCESS})})).catch((function(e){var n=e.response;t({type:a.UI_STOP_ACTION,name:a.EDIT_USER}),n&&(console.log("Error****:",n.message),t({type:a.SHOW_MESSAGE,title:"User error.",message:n.data.message,severity:a.NOTIFICATION_ERROR}))}))}}},178:function(e,t,n){"use strict";n.r(t);n(91);var a=n(32),r=n.n(a),s=(n(215),n(129)),i=n.n(s),c=(n(120),n(53)),o=n.n(c),l=(n(100),n(52)),d=n.n(l),u=(n(102),n(34)),j=n.n(u),p=n(9),O=(n(148),n(83)),b=n.n(O),h=(n(82),n(19)),m=n.n(h),f=n(2),g=(n(0),n(20)),x=n.n(g),v=(n(605),n(68)),y=n(435),S=n(503),_=n(245),I=n(497);t.default=function(e){var t=e.package,n=e.style,a=t.name,s=t.description,c=t.limits,l=function(e){switch(x.a.lowerCase(e)){case"paid":return v.geekblue;case"trial":return v.orange;case"development":return v.blue;default:return v.purple}}(a);return Object(f.jsxs)(r.a,{direction:"vertical",size:"large",style:Object(p.a)({width:"100%"},n),children:[Object(f.jsx)(o.a,{className:"price-box",style:{backgroundColor:l[4],borderRadius:16},children:Object(f.jsxs)(d.a,{justify:"center",children:[Object(f.jsx)(j.a,{span:24,children:Object(f.jsxs)(m.a.Title,{level:3,className:"white-text",children:[a," Package"]})}),Object(f.jsx)(j.a,{span:24,children:Object(f.jsx)(m.a.Paragraph,{strong:!0,className:"white-text",children:s})})]})}),Object(f.jsx)(m.a.Title,{level:5,strong:!0,style:{color:l[4],margin:0},children:"Includes"}),Object(f.jsx)(i.a,{style:{margin:0,borderTop:"3px solid ".concat(l[1])}}),x.a.map(c,(function(e){var t=e.is_used,n=e.is_unlimited,a=e.limit,r=e.code,s=e.unit,i=e.description,c=e.reset,o=null;return o=n?Object(f.jsxs)(m.a.Text,{children:[Object(f.jsxs)(m.a.Text,{type:"success",strong:!0,children:[Object(f.jsx)(y.a,{})," Unlimited "]}),i,"."]}):x.a.isNull(a)?Object(f.jsxs)(m.a.Text,{children:[Object(f.jsxs)(m.a.Text,{type:"danger",strong:!0,children:[Object(f.jsx)(S.a,{})," "]}),i,"."]}):Object(f.jsxs)(m.a.Text,{children:[Object(f.jsxs)(m.a.Text,{type:"success",strong:!0,children:[Object(f.jsx)(y.a,{})," "]}),a," ",s," of ",r," ",c,". ",i&&Object(f.jsx)(b.a,{title:i,children:Object(f.jsx)(_.a,{})})]}),t?o:Object(f.jsxs)(m.a.Text,{children:[Object(f.jsx)(m.a.Text,{delete:!0,children:o})," ",Object(f.jsx)(b.a,{title:"recently removed",children:Object(f.jsx)(m.a.Text,{type:"warning",children:Object(f.jsx)(I.a,{})})})]})}))]})}},205:function(e,t,n){"use strict";n.r(t),n.d(t,"toggleCollapsedNav",(function(){return r})),n.d(t,"toggleSetting",(function(){return s}));var a=n(5);function r(e){return{type:a.TOGGLE_COLLAPSED_NAV,isNavCollapsed:e}}function s(e){return{type:a.TOGGLE_SETTING,isSettingOpened:e}}},208:function(e,t,n){"use strict";n.r(t);n(203);var a=n(128),r=n.n(a),s=(n(572),n(370)),i=n.n(s),c=(n(166),n(64)),o=n.n(c),l=(n(215),n(129)),d=n.n(l),u=(n(341),n(163)),j=n.n(u),p=(n(460),n(288)),O=n.n(p),b=(n(574),n(429)),h=n.n(b),m=(n(167),n(31)),f=n.n(m),g=(n(176),n(73)),x=n.n(g),v=(n(148),n(83)),y=n.n(v),S=(n(89),n(45)),_=n.n(S),I=n(9),T=n(66),E=n(79),A=n(35),C=n(36),k=n(38),R=n(37),U=n(2),N=n(0),P=n.n(N),w=n(40),D=n(20),G=n.n(D),L=n(27),M=n.n(L),F=n(42),B=n(103),Y=n(160),V=n(168),q=n(5),H=n(108),K=n(149),W=n(196),z={labelCol:{span:8},wrapperCol:{span:16}},Q={wrapperCol:{offset:8,span:16}},J=function(e){Object(k.a)(n,e);var t=Object(R.a)(n);function n(e){var a;return Object(A.a)(this,n),(a=t.call(this,e)).onFinish=function(){var e=a.state.formRef,t=a.props,n=t.row,r=t.addSubscription,s=t.editSubscription;e.current.validateFields().then((function(e){var t=e.account,a=e.date,i=(e.confirmPassword,e.is_new),c=(e.generate_password,Object(E.a)(e,["account","date","confirmPassword","is_new","generate_password"])),o=Object(T.a)(a,2),l=o[0],d=o[1];n.id?s(n.id,Object(I.a)(Object(I.a)({},c),{},{account:t,start_date:l.format("YYYY-MM-DD"),end_date:d.format("YYYY-MM-DD")})):r(Object(I.a)(Object(I.a)({},n),{},{account:i?void 0:t,start_date:l.format("YYYY-MM-DD"),end_date:d.format("YYYY-MM-DD")},c))})).catch((function(e){return console.log("Validate Failed:",e)}))},a.state={formRef:P.a.createRef()},a}return Object(C.a)(n,[{key:"componentDidUpdate",value:function(e,t,n){if(!e.show&&this.props.show&&(this.state.formRef.current.resetFields(),this.props.row)){var a=this.props.row,r=a.service_id,s=a.start_date,i=a.end_date,c=Object(E.a)(a,["service_id","start_date","end_date"]),o=s?[M()(s),M()(i)]:null;this.state.formRef.current.setFieldsValue(Object(I.a)(Object(I.a)({},{is_active:!0,generate_password:!0}),{},{date:o},c)),this.props.getAllUser(),this.props.getPackageByService(r)}}},{key:"render",value:function(){var e=this.props,t=e.show,n=e.onCancel,a=e.row,s=e.loading,c=e.packages,l=e.users,u=this.state.formRef,p=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;return a&&a.id?e?"edit"===e:"edit":e?"create"===e:"create"};return Object(U.jsx)(r.a,{visible:t,title:"Subscription",onCancel:n,footer:[Object(U.jsx)(_.a,{onClick:n,children:"Cancel"},"back"),Object(U.jsx)(_.a,{type:"primary",loading:s[p()],onClick:this.onFinish,children:"Submit"},"submit")],children:Object(U.jsxs)(f.a,Object(I.a)(Object(I.a)({},z),{},{ref:u,name:"control-ref",onFinish:this.onFinish,children:[Object(U.jsx)(f.a.Item,{name:"package_id",label:Object(U.jsxs)("span",{children:["Package\xa0",p("edit")&&Object(U.jsx)(y.a,{title:"Changing package will inactivate old subs and create the new one!",children:Object(U.jsx)(W.a,{})})]}),rules:[{required:!0,message:"Please select the package!"}],children:Object(U.jsx)(x.a,{showSearch:!0,placeholder:"Select package",optionFilterProp:"children",filterOption:function(e,t){return t.children.toLowerCase().indexOf(e.toLowerCase())>=0},loading:s.package,allowClear:!0,children:G.a.map(c,(function(e){var t=e.id,n=e.name;return Object(U.jsx)(x.a.Option,{value:t,children:Object(U.jsx)(H.default,{name:n})})}))})}),Object(U.jsx)(f.a.Item,{name:"date",label:"Period",rules:[{required:!0,message:"Please input period!"}],children:Object(U.jsx)(h.a.RangePicker,{style:{width:"100%"},disabled:[p("edit"),!1],disabledDate:function(e){return e&&e<M()().subtract(1,"day").endOf("day")}})}),Object(U.jsx)(f.a.Item,{label:"Cut-off Date",name:"cut_off_date",children:Object(U.jsx)(O.a,{min:1,max:28,style:{width:"100%"},disabled:p("edit")&&"incoming"!==a.status})}),Object(U.jsx)(f.a.Item,{wrapperCol:{span:24},style:{marginBottom:0},shouldUpdate:!0,children:function(e){var t=(0,e.getFieldValue)("is_new");return Object(U.jsxs)(U.Fragment,{children:[Object(U.jsx)(f.a.Item,Object(I.a)(Object(I.a)({},z),{},{name:"account",label:"Account",rules:[{required:!t,message:"Please select the account!"}],extra:(p("edit"),null),children:Object(U.jsx)(x.a,{showSearch:!0,placeholder:"Select account",optionFilterProp:"children",disabled:t||p("edit"),optionLabelProp:"label",filterOption:function(e,t){return t.children.toLowerCase().indexOf(e.toLowerCase())>=0},allowClear:!0,children:G.a.map(l,(function(e){var t=e.id,n=e.fullname;return Object(U.jsx)(x.a.Option,{value:t,label:n,children:Object(U.jsx)(K.default,{name:n})})}))})})),p("create")&&Object(U.jsx)(f.a.Item,Object(I.a)(Object(I.a)({},Q),{},{name:"is_new",children:Object(U.jsx)(X,{})}))]})}}),Object(U.jsx)(f.a.Item,{name:"is_active",label:"Active",valuePropName:"checked",children:Object(U.jsx)(j.a,{checkedChildren:"Active",unCheckedChildren:"Inactive"})}),Object(U.jsx)(f.a.Item,{wrapperCol:{span:24},style:{marginBottom:0},shouldUpdate:!0,children:function(e){var t=(0,e.getFieldValue)("is_new");return Object(U.jsx)(U.Fragment,{children:t&&Object(U.jsxs)(U.Fragment,{children:[Object(U.jsx)(d.a,{}),Object(U.jsx)(f.a.Item,Object(I.a)(Object(I.a)({},z),{},{name:"fullname",label:"Fullname",rules:[{required:!0,message:"Please input fullname!"}],children:Object(U.jsx)(o.a,{})})),Object(U.jsx)(f.a.Item,Object(I.a)(Object(I.a)({},z),{},{name:"email",label:"Email",rules:[{type:"email",message:"The input is not valid email!"},{required:!0,message:"Please input email!"}],children:Object(U.jsx)(o.a,{})})),Object(U.jsx)(f.a.Item,Object(I.a)(Object(I.a)({},z),{},{name:"username",label:"Username",rules:[{required:!0,message:"Please input username!"},{min:8,message:"Username must be at least 8 characters!"}],children:Object(U.jsx)(o.a,{})})),Object(U.jsx)(f.a.Item,Object(I.a)(Object(I.a)({},Q),{},{name:"generate_password",valuePropName:"checked",children:Object(U.jsxs)(i.a,{children:["Generate Password \xa0",Object(U.jsx)(y.a,{title:"Password verification will be sent by email",children:Object(U.jsx)(W.a,{})})]})}))]})})}}),Object(U.jsx)(f.a.Item,{wrapperCol:{span:24},style:{marginBottom:0},shouldUpdate:!0,children:function(e){var t=e.getFieldValue,n=t("generate_password"),a=t("is_new");return Object(U.jsx)(U.Fragment,{children:a&&!n&&Object(U.jsxs)(U.Fragment,{children:[Object(U.jsx)(d.a,{}),Object(U.jsx)(f.a.Item,Object(I.a)(Object(I.a)({},z),{},{name:"password",label:"Password",hasFeedback:!0,rules:[{required:!0,message:"Please input password!"},{min:8,message:"Password must be at least 8 characters!"}],children:Object(U.jsx)(o.a.Password,{type:"password"})})),Object(U.jsx)(f.a.Item,Object(I.a)(Object(I.a)({},z),{},{name:"confirmPassword",label:"Confirm Password",dependencies:["password"],hasFeedback:!0,rules:[{required:!0,message:"Please input password again!"},function(e){var t=e.getFieldValue;return{validator:function(e,n){return n&&t("password")!==n?Promise.reject("The two passwords that you entered do not match!"):Promise.resolve()}}}],children:Object(U.jsx)(o.a.Password,{type:"password",placeholder:"Confirm Password"})}))]})})}})]}))})}}]),n}(P.a.Component);t.default=Object(w.c)((function(e){var t=e.subscription.status,n=t.created,a=t.edited,r=e.package.packages,s=e.user.users;return{loading:{create:Object(F.isLoading)(e,q.ADD_SUBSCRIPTION),edit:Object(F.isLoading)(e,q.EDIT_SUBSCRIPTION),package:Object(F.isLoading)(e,q.GET_PACKAGE),user:Object(F.isLoading)(e,q.GET_USER)},packages:r,users:s,created:n,edited:a}}),{addSubscription:B.addSubscription,editSubscription:B.editSubscription,getPackageByService:Y.getPackageByService,getAllUser:V.getAllUser})(J);var X=function(e){var t=e.value,n=void 0===t?{}:t,a=e.onChange,r=Object(N.useState)(!1),s=Object(T.a)(r,2),i=s[0],c=s[1];return Object(U.jsx)(_.a,{style:{padding:0},type:"link",onClick:function(e){var t,n=!i;c(n),t=n,a&&a(t)},children:n.is_new||i?"Use existing":"Register new account?"})}},225:function(e,t,n){"use strict";n.r(t);var a=n(9),r=n(2),s=(n(0),n(243));t.default=Object(s.d)((function(e){return Object(r.jsx)(s.a,Object(a.a)({},e))}),{withRef:!1})},233:function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return j})),n.d(t,"history",(function(){return o}));var a=n(227),r=n(250),s=n(624),i=n(478),c=n(623),o=Object(s.a)(),l=Object(i.a)(o),d=[c.a,l],u=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||a.d;function j(e){return Object(a.e)(Object(r.default)(o),e,u(a.a.apply(void 0,d)))}},241:function(e,t,n){"use strict";n.r(t);n(203);var a=n(128),r=n.n(a),s=n(9),i=(n(616),n(433)),c=n.n(i),o=(n(167),n(31)),l=n.n(o),d=(n(166),n(64)),u=n.n(d),j=(n(89),n(45)),p=n.n(j),O=n(35),b=n(36),h=n(38),m=n(37),f=n(2),g=n(0),x=n.n(g),v=n(40),y=n(20),S=n.n(y),_=n(42),I=n(105),T=n(5),E=n(133),A={labelCol:{span:8},wrapperCol:{span:16}},C=function(e){Object(h.a)(a,e);var t=Object(m.a)(a);function a(e){var r;return Object(O.a)(this,a),(r=t.call(this,e)).onFinish=function(){var e=r.state.formRef,t=r.props,n=t.row,a=t.addServiceGroup,s=t.editServiceGroup;e.current.validateFields().then((function(e){n?s(n.id,e):a(e)})).catch((function(e){return console.log("Validate Failed:",e)}))},r.onIconSearch=function(e){r.setState({icon:e})},r.getAvailableIcons=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return S()(n(85)).filter((function(e){return e.render&&S.a.includes(e.render.displayName,"Outlined")})).map((function(e){var t=S.a.kebabCase(S.a.replace(e.render.displayName,"Outlined",""));return{label:Object(f.jsxs)(f.Fragment,{children:[Object(f.jsx)(E.a,{type:t})," ",t]}),value:S.a.kebabCase(S.a.replace(e.render.displayName,"Outlined",""))}})).filter((function(t){var n=t.value;return S.a.includes(n,e)})).value()},r.state={formRef:x.a.createRef(),icon:""},r}return Object(b.a)(a,[{key:"componentDidUpdate",value:function(e,t,n){!e.show&&this.props.show&&(this.state.formRef.current.resetFields(),this.props.row&&this.state.formRef.current.setFieldsValue(this.props.row))}},{key:"render",value:function(){var e=this.props,t=e.show,n=e.onCancel,a=e.row,i=e.loading,o=this.state,d=o.formRef,j=o.icon;return Object(f.jsx)(r.a,{visible:t,title:"Service Group",onCancel:n,footer:[Object(f.jsx)(p.a,{onClick:n,children:"Cancel"},"back"),Object(f.jsx)(p.a,{type:"primary",loading:i[a?"edit":"create"],onClick:this.onFinish,children:"Submit"},"submit")],children:Object(f.jsxs)(l.a,Object(s.a)(Object(s.a)({},A),{},{ref:d,name:"control-ref",onFinish:this.onFinish,children:[Object(f.jsx)(l.a.Item,{name:"name",label:"Group Name",rules:[{required:!0,message:"Please input group name!"}],children:Object(f.jsx)(u.a,{})}),Object(f.jsx)(l.a.Item,{name:"description",label:"Description",children:Object(f.jsx)(u.a.TextArea,{})}),Object(f.jsx)(l.a.Item,{name:"icon",label:"Icon",children:Object(f.jsx)(c.a,{options:this.getAvailableIcons(j),onSearch:this.onIconSearch})})]}))})}}]),a}(x.a.Component);t.default=Object(v.c)((function(e){return{loading:{create:Object(_.isLoading)(e,T.ADD_SERVICE_GROUP),edit:Object(_.isLoading)(e,T.EDIT_SERVICE_GROUP)}}}),{addServiceGroup:I.addServiceGroup,editServiceGroup:I.editServiceGroup})(C)},242:function(e,t,n){"use strict";n.r(t);n(203);var a=n(128),r=n.n(a),s=(n(341),n(163)),i=n.n(s),c=(n(148),n(83)),o=n.n(c),l=(n(82),n(19)),d=n.n(l),u=(n(616),n(433)),j=n.n(u),p=(n(166),n(64)),O=n.n(p),b=(n(167),n(31)),h=n.n(b),m=(n(176),n(73)),f=n.n(m),g=(n(89),n(45)),x=n.n(g),v=n(9),y=n(79),S=n(35),_=n(36),I=n(38),T=n(37),E=n(2),A=n(0),C=n.n(A),k=n(40),R=n(20),U=n.n(R),N=n(42),P=n(105),w=n(5),D=n(133),G=n(196),L={labelCol:{span:8},wrapperCol:{span:16}},M=function(e){Object(I.a)(a,e);var t=Object(T.a)(a);function a(e){var r;return Object(S.a)(this,a),(r=t.call(this,e)).GATEWAY_URL="https://api.mysights.id/api",r.BASE_INFO="components/Service/",r.onFinish=function(){var e=r.state.formRef,t=r.props,n=t.row,a=t.addService,s=t.editService;e.current.validateFields().then((function(e){var t=e.info,i=Object(y.a)(e,["info"]),c=t?r.BASE_INFO+t:null;n.id?s(n.id,Object(v.a)({info:c},i)):a(Object(v.a)({info:c},i))})).catch((function(e){return console.log("Validate Failed:",e)}))},r.onIconSearch=function(e){r.setState({icon:e})},r.getAvailableIcons=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return U()(n(85)).filter((function(e){return e.render&&U.a.includes(e.render.displayName,"Outlined")})).map((function(e){var t=U.a.kebabCase(U.a.replace(e.render.displayName,"Outlined",""));return{label:Object(E.jsxs)(E.Fragment,{children:[Object(E.jsx)(D.a,{type:t})," ",t]}),value:U.a.kebabCase(U.a.replace(e.render.displayName,"Outlined",""))}})).filter((function(t){var n=t.value;return U.a.includes(n,e)})).value()},r.state={formRef:C.a.createRef(),icon:""},r}return Object(_.a)(a,[{key:"componentDidUpdate",value:function(e,t,n){if(!e.show&&this.props.show&&(this.state.formRef.current.resetFields(),this.props.row)){var a=this.props.row,r=a.info,s=(a.id,Object(y.a)(a,["info","id"])),i=r?U.a.replace(r,this.BASE_INFO,""):null;this.state.formRef.current.setFieldsValue(Object(v.a)(Object(v.a)(Object(v.a)({},{is_active:!0,is_public:!1}),s),{},{info:i}))}}},{key:"render",value:function(){var e=this.props,t=e.show,n=e.onCancel,a=e.row,s=e.loading,c=e.services,l=this.state,u=l.formRef,p=l.icon;return Object(E.jsx)(r.a,{visible:t,title:"Service",width:800,onCancel:n,footer:[Object(E.jsx)(x.a,{onClick:n,children:"Cancel"},"back"),Object(E.jsx)(x.a,{type:"primary",loading:s[a&&a.id?"edit":"create"],onClick:this.onFinish,children:"Submit"},"submit")],children:Object(E.jsxs)(h.a,Object(v.a)(Object(v.a)({},L),{},{ref:u,name:"control-ref",onFinish:this.onFinish,children:[Object(E.jsx)(h.a.Item,{name:"service_group_id",label:"Service Group",rules:[{required:!0,message:"Please select the service group!"}],children:Object(E.jsx)(f.a,{showSearch:!0,placeholder:"Select group",optionFilterProp:"children",filterOption:function(e,t){return t.children.toLowerCase().indexOf(e.toLowerCase())>=0},loading:s.package,allowClear:!0,children:U.a.map(c,(function(e){var t=e.id,n=e.name;return Object(E.jsx)(f.a.Option,{value:t,children:n})}))})}),Object(E.jsx)(h.a.Item,{name:"name",label:"Service Name",rules:[{required:!0,message:"Please input group name!"}],children:Object(E.jsx)(O.a,{})}),Object(E.jsx)(h.a.Item,{name:"description",label:"Description",children:Object(E.jsx)(O.a.TextArea,{})}),Object(E.jsx)(h.a.Item,{name:"icon",label:"Icon",children:Object(E.jsx)(j.a,{options:this.getAvailableIcons(p),onSearch:this.onIconSearch})}),Object(E.jsx)(h.a.Item,{name:"method",label:"Method",rules:[{required:!0,message:"Please select method!"}],children:Object(E.jsxs)(f.a,{children:[Object(E.jsx)(f.a.Option,{value:"get",children:Object(E.jsx)(d.a.Text,{strong:!0,type:"success",children:"GET"})}),Object(E.jsx)(f.a.Option,{value:"post",children:Object(E.jsx)(d.a.Text,{strong:!0,type:"warning",children:"POST"})})]})}),Object(E.jsx)(h.a.Item,{name:"mask_url",label:Object(E.jsxs)("span",{children:["Mask URL\xa0",Object(E.jsx)(o.a,{title:"URL accessed by user (published)",children:Object(E.jsx)(G.a,{})})]}),rules:[{required:!0,message:"Please input mask URL!"}],children:Object(E.jsx)(O.a,{prefix:this.GATEWAY_URL})}),Object(E.jsx)(h.a.Item,{name:"url",label:Object(E.jsxs)("span",{children:["Source URL\xa0",Object(E.jsx)(o.a,{title:"URL accessed by gateway (protected)",children:Object(E.jsx)(G.a,{})})]}),rules:[{type:"url",message:"The input is not complete URL!"},{required:!0,message:"Please input source URL!"}],children:Object(E.jsx)(O.a,{})}),Object(E.jsx)(h.a.Item,{name:"info",label:"Info Path",children:Object(E.jsx)(O.a,{prefix:this.BASE_INFO})}),Object(E.jsx)(h.a.Item,{name:"is_active",label:"Active",valuePropName:"checked",children:Object(E.jsx)(i.a,{checkedChildren:"Active",unCheckedChildren:"Inactive"})}),Object(E.jsx)(h.a.Item,{name:"is_public",label:"Public",valuePropName:"checked",children:Object(E.jsx)(i.a,{checkedChildren:"Public",unCheckedChildren:"Private"})})]}))})}}]),a}(C.a.Component);t.default=Object(k.c)((function(e){return{services:e.service.services,loading:{create:Object(N.isLoading)(e,w.ADD_SERVICE),edit:Object(N.isLoading)(e,w.EDIT_SERVICE)}}}),{addService:P.addService,editService:P.editService})(M)},250:function(e,t,n){"use strict";n.r(t);var a=n(227),r=n(315),s=n(351),i=n(352),c=n(353),o=n(354),l=n(355),d=n(356),u=n(357),j=n(358),p=n(359),O=n(360),b=n(361),h=n(362);t.default=function(e){return Object(a.c)({router:Object(r.b)(e),ui:o.default,settings:s.default,auth:i.default,verification:c.default,service:l.default,subscription:d.default,addOn:b.default,package:u.default,user:j.default,apiKey:p.default,usage:O.default,log:h.default})}},251:function(e,t,n){"use strict";n.r(t);var a=n(364),r=n(243),s={en:a.default};Object(r.c)(s.en.data),t.default=s},252:function(e,t,n){"use strict";n.r(t);n(107);var a=n(57),r=n.n(a),s=(n(682),n(484)),i=n.n(s),c=(n(82),n(19)),o=n.n(c),l=n(35),d=n(36),u=n(38),j=n(37),p=(n(183),n(80)),O=n.n(p),b=n(2),h=n(0),m=n.n(h),f=n(47),g=n(40),x=(n(530),n(55)),v=n(253),y=n(254),S=n(255),_=n(42),I=n(5),T=n(113),E=n(256),A=n(257),C=n(258),k=n(259),R=n(260),U=n(261),N=n(264),P=n(263),w=n(262),D=O.a.Content,G=function(e){Object(u.a)(n,e);var t=Object(j.a)(n);function n(){return Object(l.a)(this,n),t.apply(this,arguments)}return Object(d.a)(n,[{key:"componentDidMount",value:function(){var e=this.props,t=e.token,n=e.history,a=e.authUser,r=e.getUser;t?x.default.defaults.headers.common.Authorization="Bearer "+t:n.push("/"),t&&!a&&r()}},{key:"componentDidUpdate",value:function(e,t,n){var a=this.props,r=a.token,s=a.history;r||s.push("/")}},{key:"render",value:function(){var e=this.props,t=e.match,n=e.loading,a=e.isAllowed,s=e.authUser;return Object(b.jsx)("div",{id:"components-layout-demo-custom-trigger",children:Object(b.jsx)(r.a,{spinning:n,size:"large",children:s?Object(b.jsxs)(O.a,{children:[Object(b.jsx)(v.default,{}),Object(b.jsxs)(O.a,{className:"site-layout",style:{marginLeft:80,height:"100vh",overflow:"auto"},children:[Object(b.jsx)(y.default,{}),s&&s.change_email&&Object(b.jsx)(i.a,{message:Object(b.jsxs)("span",{children:[Object(b.jsx)(o.a.Text,{strong:!0,children:"Email Verification. "})," Please accept our email verification to ",Object(b.jsx)(o.a.Text,{strong:!0,children:s.change_email})]}),banner:!0}),Object(b.jsxs)(D,{style:{margin:"24px 16px",minHeight:280},children:[Object(b.jsxs)(f.d,{children:[Object(b.jsx)(f.a,{exact:!0,from:"".concat(t.url,"/"),to:"".concat(t.url,"/api-market")}),Object(b.jsx)(f.b,{path:"".concat(t.url,"/landing"),component:E.default}),Object(b.jsx)(f.b,{path:"".concat(t.url,"/api-market"),component:U.default}),a(I.MENU_API_KEY)&&Object(b.jsx)(f.b,{path:"".concat(t.url,"/api-key"),component:C.default}),a(I.MENU_USAGE)&&Object(b.jsx)(f.b,{path:"".concat(t.url,"/usage"),component:k.default}),a(I.MENU_SERVICE)&&Object(b.jsx)(f.b,{path:"".concat(t.url,"/service"),component:N.default}),a(I.MENU_SERVICE)&&Object(b.jsx)(f.b,{path:"".concat(t.url,"/package"),component:P.default}),a(I.MENU_SUBSCRIPTION)&&Object(b.jsx)(f.b,{path:"".concat(t.url,"/subscription"),component:A.default}),a(I.MENU_SERVICE_USAGE)&&Object(b.jsx)(f.b,{path:"".concat(t.url,"/service-usage"),component:R.default}),a(I.MENU_ACCESS_LOG)&&Object(b.jsx)(f.b,{path:"".concat(t.url,"/access-log"),component:w.default}),Object(b.jsx)(f.a,{to:"/404"})]}),Object(b.jsx)(S.default,{})]})]})]}):Object(b.jsx)("div",{style:{height:"100vh"}})})})}}]),n}(m.a.Component);t.default=Object(f.g)(Object(g.c)((function(e){var t=e.auth,n=t.token,a=t.authUser;return{loading:Object(_.isLoading)(e,I.USER_DATA),isAllowed:Object(_.isAllowed)(e),token:n,authUser:a}}),{getUser:T.getUser})(G))},253:function(e,t,n){"use strict";n.r(t);n(100);var a=n(52),r=n.n(a),s=n(35),i=n(36),c=n(38),o=n(37),l=(n(183),n(80)),d=n.n(l),u=n(2),j=n(0),p=n.n(j),O=n(40),b=n(47),h=n(366),m=n(205),f=d.a.Sider,g=function(e){Object(c.a)(n,e);var t=Object(o.a)(n);function n(){return Object(s.a)(this,n),t.apply(this,arguments)}return Object(i.a)(n,[{key:"render",value:function(){var e=this.props,t=e.authUser,n=e.navCollapsed,a=e.toggleCollapsedNav;return Object(u.jsxs)(f,{trigger:null,collapsible:!0,collapsed:n,onMouseOver:function(){return a(!1)},onMouseOut:function(){return a(!0)},style:{overflow:"auto",height:"100vh",position:"fixed",left:0,zIndex:1},children:[Object(u.jsx)(r.a,{type:"flex",style:{alignItems:"center",width:"100%"},children:n?Object(u.jsx)("img",{className:"logo",src:"/my.png",alt:"icon"}):Object(u.jsx)("img",{className:"logo",src:"/logo-mysights-white.png",alt:"icon"})}),t&&Object(u.jsx)(h.default,{})]})}}]),n}(p.a.Component);t.default=Object(b.g)(Object(O.c)((function(e){var t=e.settings,n=e.auth;return{navCollapsed:t.navCollapsed,authUser:n.authUser}}),{toggleCollapsedNav:m.toggleCollapsedNav})(g))},254:function(e,t,n){"use strict";n.r(t);n(198);var a=n(60),r=n.n(a),s=(n(547),n(481)),i=n.n(s),c=(n(100),n(52)),o=n.n(c),l=(n(102),n(34)),d=n.n(l),u=n(35),j=n(36),p=n(38),O=n(37),b=(n(120),n(53)),h=n.n(b),m=(n(183),n(80)),f=n.n(m),g=n(2),x=n(0),v=n.n(x),y=n(40),S=n(20),_=n.n(S),I=n(490),T=n(491),E=n(113),A=n(205),C=n(149),k=(n(550),f.a.Header),R=h.a.Meta,U=function(e){Object(p.a)(n,e);var t=Object(O.a)(n);function n(){return Object(u.a)(this,n),t.apply(this,arguments)}return Object(j.a)(n,[{key:"render",value:function(){var e=this.props,t=e.authUser,n=(e.navCollapsed,e.userSignOut),a=(e.toggleCollapsedNav,e.toggleSetting);return Object(g.jsx)(k,{className:"site-layout-background",style:{padding:0},children:Object(g.jsxs)(o.a,{children:[Object(g.jsx)(d.a,{flex:"auto"}),Object(g.jsx)(d.a,{children:Object(g.jsx)(r.a,{mode:"horizontal",selectable:!1,children:t&&Object(g.jsx)(r.a.Item,{style:{float:"right"},children:Object(g.jsx)(i.a,{placement:"bottomRight",content:Object(g.jsx)(N,{title:t.fullname,description:t.email,actions:[Object(g.jsx)(I.a,{onClick:function(){return a(!0)}},"setting"),Object(g.jsx)(T.a,{onClick:n},"logout")]}),trigger:"hover",overlayStyle:{padding:"0"},children:Object(g.jsx)(o.a,{type:"flex",style:{alignItems:"center",margin:"0 5px"},children:Object(g.jsx)(C.default,{name:t.fullname})})})},"1")})})]})})}}]),n}(v.a.Component);t.default=Object(y.c)((function(e){var t=e.settings,n=e.auth;return{navCollapsed:t.navCollapsed,authUser:n.authUser}}),{userSignOut:E.userSignOut,toggleCollapsedNav:A.toggleCollapsedNav,toggleSetting:A.toggleSetting})(U);var N=function(e){var t=e.title,n=e.description,a=e.actions;return Object(g.jsx)(h.a,{style:{width:300},cover:Object(g.jsx)("img",{alt:"example",src:"https://gw.alipayobjects.com/zos/rmsportal/JiqGstEfoWAOHiTxclqi.png"}),actions:a,children:Object(g.jsx)(R,{avatar:Object(g.jsx)(C.default,{name:t,only:!0}),title:_.a.startCase(t),description:n})})}},255:function(e,t,n){"use strict";n.r(t);n(203);var a=n(128),r=n.n(a),s=(n(183),n(80)),i=n.n(s),c=(n(198),n(60)),o=n.n(c),l=n(35),d=n(36),u=n(38),j=n(37),p=n(2),O=n(0),b=n.n(O),h=n(40),m=n(292),f=n(230),g=n(205),x=n(367),v=n(368),y=function(e){Object(u.a)(n,e);var t=Object(j.a)(n);function n(e){var a;return Object(l.a)(this,n),(a=t.call(this,e)).onSelectMenu=function(e){var t=e.key;return a.setState({selectedMenu:t})},a.state={selectedMenu:"profile"},a}return Object(d.a)(n,[{key:"render",value:function(){var e=this.props,t=e.openSetting,n=e.toggleSetting,a=this.state.selectedMenu;return Object(p.jsx)(r.a,{visible:t,title:"Setting",onCancel:function(){return n(!1)},width:800,bodyStyle:{padding:0},footer:null,children:Object(p.jsxs)(i.a,{children:[Object(p.jsx)(i.a.Sider,{className:"site-layout-background",width:200,children:Object(p.jsxs)(o.a,{mode:"inline",defaultSelectedKeys:[a],onSelect:this.onSelectMenu,style:{height:"100%"},children:[Object(p.jsx)(o.a.Item,{icon:Object(p.jsx)(m.a,{}),children:"Profile"},"profile"),Object(p.jsx)(o.a.Item,{icon:Object(p.jsx)(f.a,{}),children:"Security"},"security")]})}),Object(p.jsxs)(i.a.Content,{style:{margin:"16px"},children:[Object(p.jsx)(S,{value:a,menu:"profile",component:Object(p.jsx)(x.default,{})}),Object(p.jsx)(S,{value:a,menu:"security",component:Object(p.jsx)(v.default,{})})]})]})})}}]),n}(b.a.Component);t.default=Object(h.c)((function(e){return{openSetting:e.settings.openSetting}}),{toggleSetting:g.toggleSetting})(y);var S=function(e){var t=e.menu,n=e.value,a=e.component;return t===n?a:null}},256:function(e,t,n){"use strict";n.r(t),t.default=function(){return"Welcome to portal app"}},257:function(e,t,n){"use strict";n.r(t);var a=n(2),r=(n(0),n(47)),s=n(369),i=n(372);t.default=Object(r.g)((function(e){var t=e.match;return Object(a.jsxs)(r.d,{children:[Object(a.jsx)(r.b,{path:"".concat(t.url,"/:subs"),component:i.default}),Object(a.jsx)(r.b,{path:"".concat(t.url,"/"),component:s.default})]})}))},258:function(e,t,n){"use strict";n.r(t);n(120);var a=n(53),r=n.n(a),s=(n(107),n(57)),i=n.n(s),c=(n(174),n(65)),o=n.n(c),l=(n(82),n(19)),d=n.n(l),u=(n(91),n(32)),j=n.n(u),p=(n(148),n(83)),O=n.n(p),b=(n(89),n(45)),h=n.n(b),m=n(35),f=n(36),g=n(38),x=n(37),v=n(2),y=n(0),S=n.n(y),_=n(40),I=n(42),T=n(5),E=n(314),A=n(74),C=n(505),k=n(214),R=function(e){Object(g.a)(n,e);var t=Object(x.a)(n);function n(e){var a;return Object(m.a)(this,n),(a=t.call(this,e)).onAdd=function(){return a.props.addAPIKey()},a.onCopy=function(e){var t=document.createElement("textarea");document.body.appendChild(t),t.value=e,t.select(),document.execCommand("copy"),document.body.removeChild(t),a.setState({copied:e})},a.state={copied:null,column:[{title:"API Key",dataIndex:"api_key",key:"api_key",render:function(e){return Object(v.jsxs)(j.a,{children:[e,Object(v.jsx)(O.a,{title:a.state.copied===e?"Copied":"Copy",children:Object(v.jsx)(h.a,{type:"link",icon:Object(v.jsx)(C.a,{}),onClick:function(){return a.onCopy(e)}})})]})}}]},a}return Object(f.a)(n,[{key:"componentDidMount",value:function(){this.props.getAPIKey()}},{key:"componentDidUpdate",value:function(e,t,n){!e.created&&this.props.created&&(this.props.getAPIKey(),this.props.onResetStatus())}},{key:"componentWillUnmount",value:function(){this.props.onResetDataState()}},{key:"render",value:function(){var e=this.props,t=e.loading,n=e.keys,a=this.state.column;return Object(v.jsxs)(j.a,{direction:"vertical",style:{width:"100%"},children:[Object(v.jsx)(d.a.Title,{level:4,children:"API Key"}),Object(v.jsx)(r.a,{bordered:!1,style:{minHeight:600},children:Object(v.jsx)(i.a,{spinning:t.get,children:Object(v.jsxs)(j.a,{direction:"vertical",style:{width:"100%"},children:[Object(v.jsx)(h.a,{type:"primary",style:{float:"right"},icon:Object(v.jsx)(k.a,{}),loading:t.add,onClick:this.onAdd,children:"Add"}),Object(v.jsx)(o.a,{columns:a,dataSource:n,rowKey:"id",style:{width:"100%"}})]})})})]})}}]),n}(S.a.Component);t.default=Object(_.c)((function(e){var t=e.apiKey,n=t.keys,a=t.status.created;return{loading:{get:Object(I.isLoading)(e,T.GET_API_KEY),add:Object(I.isLoading)(e,T.ADD_API_KEY)},keys:n,created:a}}),{getAPIKey:E.getAPIKey,addAPIKey:E.addAPIKey,onResetStatus:A.onResetStatus,onResetDataState:A.onResetDataState})(R)},259:function(e,t,n){"use strict";n.r(t);var a=n(2),r=(n(0),n(47)),s=n(396),i=n(400);t.default=Object(r.g)((function(e){var t=e.match;return Object(a.jsxs)(r.d,{children:[Object(a.jsx)(r.b,{path:"".concat(t.url,"/:service"),component:s.default}),Object(a.jsx)(r.b,{path:"".concat(t.url,"/"),component:i.default})]})}))},260:function(e,t,n){"use strict";n.r(t);var a=n(2),r=(n(0),n(47)),s=n(401),i=n(405);t.default=Object(r.g)((function(e){var t=e.match;return Object(a.jsxs)(r.d,{children:[Object(a.jsx)(r.b,{path:"".concat(t.url,"/:service/:user"),component:s.default}),Object(a.jsx)(r.b,{path:"".concat(t.url,"/"),component:i.default})]})}))},261:function(e,t,n){"use strict";n.r(t);var a=n(2),r=(n(0),n(47)),s=n(406),i=n(407);t.default=Object(r.g)((function(e){var t=e.match;return Object(a.jsxs)(r.d,{children:[Object(a.jsx)(r.b,{path:"".concat(t.url,"/:id"),component:i.default}),Object(a.jsx)(r.b,{path:"".concat(t.url,"/"),component:s.default})]})}))},262:function(e,t,n){"use strict";n.r(t);n(120);var a=n(53),r=n.n(a),s=(n(107),n(57)),i=n.n(s),c=(n(203),n(128)),o=n.n(c),l=(n(100),n(52)),d=n.n(l),u=(n(102),n(34)),j=n.n(u),p=(n(89),n(45)),O=n.n(p),b=(n(91),n(32)),h=n.n(b),m=(n(174),n(65)),f=n.n(m),g=(n(176),n(73)),x=n.n(g),v=(n(183),n(80)),y=n.n(v),S=(n(175),n(87)),_=n.n(S),I=(n(198),n(60)),T=n.n(I),E=n(79),A=(n(82),n(19)),C=n.n(A),k=(n(248),n(93)),R=n.n(k),U=n(66),N=n(35),P=n(36),w=n(38),D=n(37),G=n(2),L=n(0),M=n.n(L),F=n(40),B=n(20),Y=n.n(B),V=n(27),q=n.n(V),H=n(42),K=n(5),W=n(105),z=n(168),Q=n(408),J=n(74),X=n(149),Z=(n(115),n(231)),$=n(432),ee=n(229),te=n(133),ne=n(439);Z.a.registerLanguage("json",$.a);var ae=function(e){Object(w.a)(n,e);var t=Object(D.a)(n);function n(e){var a;return Object(N.a)(this,n),(a=t.call(this,e)).onSelectMenu=function(e){var t=e.key,n=Y.a.split(t,"-"),r=Object(U.a)(n,3),s=(r[0],r[1],r[2]);a.props.getAllUser(),a.setState({service:parseInt(s)}),a.state.account&&a.props.getAccessLog(parseInt(s),a.state.account)},a.onSelectChange=function(e){a.props.getAccessLog(a.state.service,e),a.setState({account:parseInt(e)})},a.onShowDetail=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;a.setState({show:!0,row:e})},a.onHideForm=function(){a.setState({show:!1,row:null})},a.renderJSON=function(e){return JSON.stringify(JSON.parse(e),null,"\t")},a.state={service:null,account:null,show:!1,row:null},a}return Object(P.a)(n,[{key:"componentDidMount",value:function(){this.props.getAllService()}},{key:"componentWillUnmount",value:function(){this.props.onResetDataState()}},{key:"render",value:function(){var e=this,t=this.props,n=t.services,a=t.loading,s=t.logs,c=t.users,l=[{title:"Status",dataIndex:"status_code",key:"status_code",filters:[{text:Object(G.jsx)(R.a,{color:"cyan",children:"1xx"}),value:100},{text:Object(G.jsx)(R.a,{color:"green",children:"2xx"}),value:200},{text:Object(G.jsx)(R.a,{color:"geekblue",children:"3xx"}),value:300},{text:Object(G.jsx)(R.a,{color:"volcano",children:"4xx"}),value:400},{text:Object(G.jsx)(R.a,{color:"purple",children:"5xx"}),value:500},{text:"-",value:null}],onFilter:function(e,t){var n=t.status_code;return e?n/e>=1&&n/e<2:e===n},render:function(e){return e>=500?Object(G.jsx)(R.a,{color:"purple",children:e}):e>=400?Object(G.jsx)(R.a,{color:"volcano",children:e}):e>=300?Object(G.jsx)(R.a,{color:"geekblue",children:e}):e>=200?Object(G.jsx)(R.a,{color:"green",children:e}):e>=100?Object(G.jsx)(R.a,{color:"cyan",children:e}):"-"}},{title:"Account",dataIndex:"api_key",key:"api_key",render:function(t){return Object(G.jsxs)("div",{children:[Object(G.jsx)(C.a.Text,{strong:!0,children:e.state.account?Y.a.find(c,{id:e.state.account}).fullname:"-"}),Object(G.jsx)("br",{}),Object(G.jsx)(C.a.Text,{type:"secondary",style:{width:100},ellipsis:{tooltip:t},children:t})]})}},{title:"Subscription",dataIndex:"usage",key:"usage",filters:Y()(s).map((function(e){var t=e.usage;return t?{text:t.subscription.code,value:t.subscription.code}:{text:"-",value:null}})).uniqBy("value").value(),onFilter:function(e,t){var n=t.usage;return e?n&&n.subscription.code.includes(e):n===e},render:function(e){return e?e.subscription.code:"-"}},{title:"IP Address",dataIndex:"ip",key:"ip"},{title:"Agent",dataIndex:"user_agent",key:"user_agent"},{title:"Date",dataIndex:"request_timestamp",key:"request_timestamp",sorter:function(e,t){return q()(e.request_timestamp)-q()(t.request_timestamp)},render:function(e){return q()(e).subtract(7,"hours").format("lll")}},{title:"Timing",dataIndex:"response_timestamp",key:"response_timestamp",render:function(e,t){var n=t.request_timestamp;if(e){var a=q.a.duration(q()(e).diff(n)),r=Math.floor(a.asMinutes()),s=a.asSeconds()-60*r;return"".concat(r," m ").concat(s," s")}return"-"}},{title:"Req",key:"action",render:function(t,n){n.usage;var a=Object(E.a)(n,["usage"]);return Object(G.jsx)(C.a.Link,{onClick:function(){return e.onShowDetail(a)},children:Object(G.jsx)(ne.a,{})})}}];return Object(G.jsxs)(h.a,{direction:"vertical",style:{width:"100%"},children:[Object(G.jsx)(C.a.Title,{level:4,children:"Access Log"}),Object(G.jsx)(r.a,{bordered:!1,children:Object(G.jsx)(i.a,{spinning:a.service,children:Object(G.jsxs)(y.a,{style:{minHeight:600,border:"1px solid #f0f0f0"},children:[Object(G.jsx)(y.a.Sider,{className:"site-layout-background",width:200,children:n.length?Object(G.jsx)(T.a,{mode:"inline",defaultOpenKeys:["submenu-0"],style:{height:"100%"},onSelect:this.onSelectMenu,children:Y.a.map(n,(function(e,t){e.id;var n=e.name,a=e.icon,r=e.services;return Object(G.jsx)(T.a.SubMenu,{icon:Object(G.jsx)(te.a,{type:a}),title:n,children:Y.a.map(r,(function(e,n){var a=e.id,r=e.name,s=e.icon;return Object(G.jsx)(T.a.Item,{icon:Object(G.jsx)(te.a,{type:s}),children:r},"item-"+t+"-"+a)}))},"submenu-"+t)}))}):Object(G.jsx)(_.a,{})}),Object(G.jsx)(y.a.Content,{style:{padding:"0 24px"},children:Object(G.jsxs)(i.a,{spinning:a.log,children:[this.state.service?Object(G.jsxs)(h.a,{direction:"vertical",style:{margin:"24px 0",width:"100%"},children:[Object(G.jsx)(x.a,{showSearch:!0,placeholder:"Select account",optionFilterProp:"children",onChange:this.onSelectChange,optionLabelProp:"label",filterOption:function(e,t){return t.children.toLowerCase().indexOf(e.toLowerCase())>=0},loading:a.user,style:{width:200},children:Y.a.map(c,(function(e){var t=e.id,n=e.fullname;return Object(G.jsx)(x.a.Option,{value:t,label:n,children:Object(G.jsx)(X.default,{name:n})})}))}),s.length?Object(G.jsx)(f.a,{columns:l,dataSource:s,rowKey:"id",style:{width:"100%"},size:"small",scroll:{x:"100%"}}):Object(G.jsx)(_.a,{image:_.a.PRESENTED_IMAGE_SIMPLE})]}):Object(G.jsx)(_.a,{image:_.a.PRESENTED_IMAGE_SIMPLE}),Object(G.jsx)(o.a,{visible:this.state.show,title:"Request Log",width:1e3,onCancel:this.onHideForm,footer:[Object(G.jsx)(O.a,{type:"primary",onClick:this.onHideForm,children:"Cancel"},"back")],children:Object(G.jsx)(d.a,{gutter:[16],children:Object(G.jsx)(j.a,{flex:"auto",children:Object(G.jsxs)(h.a,{direction:"vertical",style:{width:"100%"},children:[Object(G.jsx)(C.a.Title,{id:"#request-param",level:5,children:"Request Param"}),Object(G.jsx)(Z.a,{language:"json",style:ee.a,children:this.renderJSON(this.state.row?this.state.row.request_query:"{}")}),Object(G.jsx)(C.a.Title,{id:"#request-body",level:5,children:"Request Body"}),Object(G.jsx)(Z.a,{language:"json",style:ee.a,children:this.renderJSON(this.state.row?this.state.row.request_body:"{}")}),Object(G.jsx)(C.a.Title,{id:"#response-body",level:5,children:"Response Body"}),Object(G.jsx)(Z.a,{language:"json",style:ee.a,children:this.renderJSON(this.state.row?this.state.row.response_body:"{}")}),Object(G.jsx)(C.a.Title,{id:"#response-error",level:5,children:"Response Error"}),Object(G.jsx)(Z.a,{language:"json",style:ee.a,children:this.renderJSON(this.state.row?this.state.row.response_error:"{}")})]})})})})]})})]})})})]})}}]),n}(M.a.Component);t.default=Object(F.c)((function(e){var t=e.service.services,n=e.log.logs,a=e.user.users;return{loading:{service:Object(H.isLoading)(e,K.GET_ALL_SERVICE),user:Object(H.isLoading)(e,K.GET_USER),log:Object(H.isLoading)(e,K.GET_ACCESS_LOG)},services:t,logs:n,users:a}}),{getAllService:W.getAllService,getAllUser:z.getAllUser,getAccessLog:Q.getAccessLog,onResetDataState:J.onResetDataState})(ae)},263:function(e,t,n){"use strict";n.r(t);n(91);var a=n(32),r=n.n(a),s=(n(107),n(57)),i=n.n(s),c=(n(100),n(52)),o=n.n(c),l=(n(89),n(45)),d=n.n(l),u=n(9),j=(n(102),n(34)),p=n.n(j),O=(n(120),n(53)),b=n.n(O),h=(n(183),n(80)),m=n.n(h),f=(n(175),n(87)),g=n.n(f),x=(n(198),n(60)),v=n.n(x),y=(n(82),n(19)),S=n.n(y),_=n(66),I=n(35),T=n(36),E=n(38),A=n(37),C=n(2),k=n(0),R=n.n(k),U=n(40),N=n(20),P=n.n(N),w=n(42),D=n(5),G=n(105),L=n(160),M=n(74),F=n(178),B=n(133),Y=n(213),V=n(214),q=n(410),H=function(e){Object(E.a)(n,e);var t=Object(A.a)(n);function n(e){var a;return Object(I.a)(this,n),(a=t.call(this,e)).onSelectMenu=function(e){var t=e.key,n=P.a.split(t,"-"),r=Object(_.a)(n,3),s=(r[0],r[1],r[2]);a.props.getPackageByService(s),a.setState({selectedService:s})},a.onShowForm=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;a.setState({show:!0,row:e})},a.onHideForm=function(){a.setState({show:null,row:null})},a.state={selectedService:null,show:null,row:null},a}return Object(T.a)(n,[{key:"componentDidMount",value:function(){this.props.getAllService()}},{key:"componentWillUnmount",value:function(){this.props.onResetDataState()}},{key:"componentDidUpdate",value:function(e,t,n){!e.created&&this.props.created&&(this.onHideForm(),this.props.getPackageByService(this.state.selectedService),this.props.onResetStatus()),!e.edited&&this.props.edited&&(this.onHideForm(),this.props.getPackageByService(this.state.selectedService),this.props.onResetStatus())}},{key:"render",value:function(){var e=this,t=this.props,n=t.services,a=t.loading,s=t.packages,c=this.state,l=c.selectedService,j=c.show,O=c.row;return Object(C.jsxs)(r.a,{direction:"vertical",style:{width:"100%"},children:[Object(C.jsx)(S.a.Title,{level:4,children:"Service"}),Object(C.jsx)(b.a,{bordered:!1,children:Object(C.jsx)(i.a,{spinning:a.service,children:Object(C.jsxs)(m.a,{style:{minHeight:600,border:"1px solid #f0f0f0"},children:[Object(C.jsx)(m.a.Sider,{className:"site-layout-background",width:200,children:n.length?Object(C.jsx)(v.a,{mode:"inline",defaultOpenKeys:["submenu-0"],style:{height:"100%"},onSelect:this.onSelectMenu,children:P.a.map(n,(function(e,t){e.id;var n=e.name,a=e.icon,r=e.services;return Object(C.jsx)(v.a.SubMenu,{icon:Object(C.jsx)(B.a,{type:a}),title:n,children:P.a.map(r,(function(e,n){var a=e.id,r=e.name,s=e.icon;return Object(C.jsx)(v.a.Item,{icon:Object(C.jsx)(B.a,{type:s}),children:r},"item-"+t+"-"+a)}))},"submenu-"+t)}))}):Object(C.jsx)(g.a,{})}),Object(C.jsx)(m.a.Content,{style:{padding:"24px"},children:Object(C.jsxs)(i.a,{spinning:a._package,children:[s.length?Object(C.jsxs)(o.a,{gutter:[16],children:[P.a.map(s,(function(t){return Object(C.jsx)(p.a,Object(u.a)(Object(u.a)({},{xxl:6,xl:8,lg:12,sm:24}),{},{children:Object(C.jsx)(b.a,{className:"service-box",actions:[Object(C.jsx)(Y.a,{onClick:function(){return e.onShowForm(t)}})],children:Object(C.jsx)(F.default,{package:t})})}))})),Object(C.jsx)(p.a,Object(u.a)(Object(u.a)({},{xxl:6,xl:8,lg:12,sm:24}),{},{children:Object(C.jsx)(d.a,{style:{height:"100%",minHeight:180},type:"dashed",icon:Object(C.jsx)(V.a,{}),block:!0,onClick:function(){return e.onShowForm({service_id:parseInt(l)})},children:"Add Package"})}))]}):Object(C.jsx)(g.a,{image:g.a.PRESENTED_IMAGE_SIMPLE}),Object(C.jsx)(q.default,{show:j,onCancel:this.onHideForm,row:O})]})})]})})})]})}}]),n}(R.a.Component);t.default=Object(U.c)((function(e){var t=e.service.services,n=e.package,a=n.packages,r=n.status,s=r.created,i=r.edited;return{loading:{service:Object(w.isLoading)(e,D.GET_ALL_SERVICE),_package:Object(w.isLoading)(e,D.GET_PACKAGE)},services:t,packages:a,created:s,edited:i}}),{getAllService:G.getAllService,getPackageByService:L.getPackageByService,onResetStatus:M.onResetStatus,onResetDataState:M.onResetDataState})(H)},264:function(e,t,n){"use strict";n.r(t);n(107);var a=n(57),r=n.n(a),s=(n(91),n(32)),i=n.n(s),c=(n(100),n(52)),o=n.n(c),l=(n(102),n(34)),d=n.n(l),u=(n(120),n(53)),j=n.n(u),p=(n(232),n(151)),O=n.n(p),b=n(9),h=(n(89),n(45)),m=n.n(h),f=(n(183),n(80)),g=n.n(f),x=(n(175),n(87)),v=n.n(x),y=(n(198),n(60)),S=n.n(y),_=(n(82),n(19)),I=n.n(_),T=n(66),E=n(35),A=n(36),C=n(38),k=n(37),R=n(2),U=n(0),N=n.n(U),P=n(40),w=n(20),D=n.n(w),G=n(42),L=n(5),M=n(105),F=n(74),B=n(133),Y=n(214),V=n(213),q=n(245),H=n(241),K=n(242),W=n(411),z=function(e){Object(C.a)(n,e);var t=Object(k.a)(n);function n(e){var a;return Object(E.a)(this,n),(a=t.call(this,e)).ADD_SERVICE_GROUP="add-service-group",a.onSelectMenu=function(e){var t=e.key;if(t!==a.ADD_SERVICE_GROUP){var n=D.a.split(t,"-"),r=Object(T.a)(n,3),s=(r[0],r[1],r[2]);a.setState({selected:parseInt(s)})}},a.onShowForm=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;a.setState({show:e,row:t})},a.onHideForm=function(){a.setState({show:null,row:null})},a.state={selected:null,show:null,row:null},a}return Object(A.a)(n,[{key:"componentDidMount",value:function(){this.props.getAllService()}},{key:"componentWillUnmount",value:function(){this.props.onResetDataState()}},{key:"componentDidUpdate",value:function(e,t,n){!e.created&&this.props.created&&(this.onHideForm(),this.props.getAllService(),this.props.onResetStatus()),!e.edited&&this.props.edited&&(this.onHideForm(),this.props.getAllService(),this.props.onResetStatus())}},{key:"render",value:function(){var e=this,t=this.props,n=t.services,a=t.loading,s=this.state,c=s.selected,l=s.show,u=s.row,p=c?D.a.find(n,{id:c}):null;return Object(R.jsxs)(i.a,{direction:"vertical",style:{width:"100%"},children:[Object(R.jsx)(I.a.Title,{level:4,children:"Service Management"}),Object(R.jsx)(j.a,{bordered:!1,children:Object(R.jsx)(r.a,{spinning:a.service,children:Object(R.jsxs)(g.a,{style:{minHeight:600,border:"1px solid #f0f0f0"},children:[Object(R.jsx)(g.a.Sider,{className:"site-layout-background",width:200,children:n.length?Object(R.jsxs)(S.a,{mode:"inline",defaultOpenKeys:["submenu-0"],style:{height:"100%"},onSelect:this.onSelectMenu,children:[Object(R.jsx)(S.a.Item,{icon:Object(R.jsx)(Y.a,{}),onClick:function(){return e.onShowForm(H.default.type.displayName)},children:"Add Service Group"},this.ADD_SERVICE_GROUP),Object(R.jsx)(S.a.Divider,{}),D.a.map(n,(function(e,t){var n=e.id,a=e.name,r=e.icon;return Object(R.jsx)(S.a.Item,{icon:Object(R.jsx)(B.a,{type:r}),children:a},"item-"+t+"-"+n)}))]}):Object(R.jsx)(v.a,{})}),Object(R.jsxs)(g.a.Content,{style:{padding:"0 24px"},children:[p?Object(R.jsxs)(i.a,{direction:"vertical",style:{margin:"24px 0",width:"100%"},children:[Object(R.jsx)(m.a,{type:"primary",icon:Object(R.jsx)(V.a,{}),onClick:function(){return e.onShowForm(H.default.type.displayName,p)},children:"Edit Group"}),Object(R.jsxs)(o.a,{gutter:[16],children:[D.a.map(p.services,(function(t){return Object(R.jsx)(d.a,Object(b.a)(Object(b.a)({},{xxl:6,xl:8,lg:12,sm:24}),{},{children:Object(R.jsxs)(j.a,{className:"service-box",actions:[Object(R.jsx)(V.a,{onClick:function(){return e.onShowForm(K.default.type.displayName,t)}}),Object(R.jsx)(q.a,{onClick:function(){return e.onShowForm("detail-service",Object(b.a)({service_group:p.name},t))}})],children:[Object(R.jsx)(j.a.Meta,{avatar:Object(R.jsx)(O.a,{style:{color:"#f56a00",backgroundColor:"#fde3cf"},icon:Object(R.jsx)(B.a,{type:t.icon})}),title:t.name,description:p.name,style:{marginBottom:16}}),Object(R.jsx)(I.a.Paragraph,{ellipsis:{rows:2},style:{margin:0},children:t.description})]})}))})),Object(R.jsx)(d.a,Object(b.a)(Object(b.a)({},{xxl:6,xl:8,lg:12,sm:24}),{},{children:Object(R.jsx)(m.a,{style:{height:"100%",minHeight:180},type:"dashed",icon:Object(R.jsx)(Y.a,{}),block:!0,onClick:function(){return e.onShowForm(K.default.type.displayName,{service_group_id:p.id})},children:"Add Service"})}))]})]}):Object(R.jsx)(v.a,{image:v.a.PRESENTED_IMAGE_SIMPLE}),Object(R.jsx)(H.default,{show:l===H.default.type.displayName,onCancel:this.onHideForm,row:u}),Object(R.jsx)(K.default,{show:l===K.default.type.displayName,onCancel:this.onHideForm,row:u}),Object(R.jsx)(W.default,{show:"detail-service"===l,onCancel:this.onHideForm,row:u})]})]})})})]})}}]),n}(N.a.Component);t.default=Object(P.c)((function(e){var t=e.service,n=t.services,a=t.status,r=a.created,s=a.edited;return{loading:{service:Object(G.isLoading)(e,L.GET_ALL_SERVICE)},services:n,created:r,edited:s}}),{getAllService:M.getAllService,onResetStatus:F.onResetStatus,onResetDataState:F.onResetDataState})(z)},265:function(e,t,n){"use strict";n.r(t);n(100);var a=n(52),r=n.n(a),s=(n(102),n(34)),i=n.n(s),c=(n(346),n(194)),o=n.n(c),l=(n(89),n(45)),d=n.n(l),u=n(2),j=(n(0),n(84)),p=n(225);t.default=function(){return Object(u.jsx)(r.a,{type:"flex",justify:"center",align:"middle",style:{minHeight:"100vh"},children:Object(u.jsx)(i.a,{children:Object(u.jsx)(o.a,{status:"403",title:"403",subTitle:Object(u.jsx)(p.default,{id:"extraPages.403Msg"}),extra:Object(u.jsx)(j.a,{to:"/",children:Object(u.jsx)(d.a,{type:"primary",children:Object(u.jsx)(p.default,{id:"extraPages.goHome"})})})})})})}},266:function(e,t,n){"use strict";n.r(t);n(100);var a=n(52),r=n.n(a),s=(n(102),n(34)),i=n.n(s),c=(n(346),n(194)),o=n.n(c),l=(n(89),n(45)),d=n.n(l),u=n(2),j=(n(0),n(84)),p=n(225);t.default=function(){return Object(u.jsx)(r.a,{type:"flex",justify:"center",align:"middle",style:{minHeight:"100vh"},children:Object(u.jsx)(i.a,{children:Object(u.jsx)(o.a,{status:"404",title:"404",subTitle:Object(u.jsx)(p.default,{id:"extraPages.404Msg"}),extra:Object(u.jsx)(j.a,{to:"/",children:Object(u.jsx)(d.a,{type:"primary",children:Object(u.jsx)(p.default,{id:"extraPages.goHome"})})})})})})}},267:function(e,t,n){"use strict";n.r(t);n(1069);var a=n(480),r=n.n(a),s=n(35),i=n(36),c=n(38),o=n(37),l=n(0),d=n.n(l),u=n(40),j=n(409),p=function(e){Object(c.a)(n,e);var t=Object(o.a)(n);function n(){return Object(s.a)(this,n),t.apply(this,arguments)}return Object(i.a)(n,[{key:"componentDidUpdate",value:function(e,t,n){var a=this,s=this.props,i=s.title,c=s.message,o=s.severity;o&&r.a[o]({message:i,description:c,onClose:function(){a.props.onResetNotification()}})}},{key:"render",value:function(){return null}}]),n}(d.a.Component);t.default=Object(u.c)((function(e){var t=e.ui.notification;return{title:t.title,message:t.message,severity:t.severity}}),{onResetNotification:j.onResetNotification})(p)},276:function(e,t,n){"use strict";n.r(t),n.d(t,"getUsage",(function(){return c})),n.d(t,"getServiceUsage",(function(){return o}));var a=n(5),r=n(55),s=n(27),i=n.n(s),c=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:i()().startOf("month"),n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:i()().endOf("month");return function(s){s({type:a.UI_START_ACTION,name:a.GET_USAGE}),r.default.get("service/user/".concat(e),{params:{start:t.format("YYYY-MM-DD"),end:n.format("YYYY-MM-DD")}}).then((function(e){var t=e.data;s({type:a.UI_STOP_ACTION,name:a.GET_USAGE}),s({type:a.GET_USAGE,payload:t.data})})).catch((function(e){var t=e.response;s({type:a.UI_STOP_ACTION,name:a.GET_USAGE}),t&&(console.log("Error****:",t.message),s({type:a.SHOW_MESSAGE,title:"Service error.",message:t.data.message,severity:a.NOTIFICATION_ERROR}))}))}},o=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:i()().startOf("month"),s=arguments.length>3&&void 0!==arguments[3]?arguments[3]:i()().endOf("month");return function(i){i({type:a.UI_START_ACTION,name:a.GET_USAGE}),r.default.get("service/usage/".concat(e,"/").concat(t),{params:{start:n.format("YYYY-MM-DD"),end:s.format("YYYY-MM-DD")}}).then((function(e){var t=e.data;i({type:a.UI_STOP_ACTION,name:a.GET_USAGE}),i({type:a.GET_USAGE,payload:t.data})})).catch((function(e){var t=e.response;i({type:a.UI_STOP_ACTION,name:a.GET_USAGE}),t&&(console.log("Error****:",t.message),i({type:a.SHOW_MESSAGE,title:"Service error.",message:t.data.message,severity:a.NOTIFICATION_ERROR}))}))}}},277:function(e,t,n){"use strict";n.r(t),n.d(t,"verifyEmail",(function(){return s})),n.d(t,"verifyPassword",(function(){return i}));var a=n(5),r=n(55),s=function(e){return function(t){e?(t({type:a.UI_START_ACTION,name:a.VERIFY_EMAIL}),r.default.post("user/verify/email",{},{params:{token:e}}).then((function(){t({type:a.UI_STOP_ACTION,name:a.VERIFY_EMAIL}),t({type:a.VERIFY_EMAIL,success:!0})})).catch((function(e){var n=e.response;t({type:a.UI_STOP_ACTION,name:a.VERIFY_EMAIL}),n&&(console.log("Error****:",n.message),404===n.status?t({type:a.VERIFY_EMAIL,success:!1}):t({type:a.SHOW_MESSAGE,title:"Verification error.",message:n.data.message,severity:a.NOTIFICATION_ERROR}))}))):t({type:a.VERIFY_EMAIL,success:!1})}},i=function(e,t){return function(n){e?(n({type:a.UI_START_ACTION,name:a.VERIFY_PASSWORD}),r.default.post("user/verify/password",{password:t},{params:{token:e}}).then((function(){n({type:a.UI_STOP_ACTION,name:a.VERIFY_PASSWORD}),n({type:a.VERIFY_PASSWORD,success:!0})})).catch((function(e){var t=e.response;n({type:a.UI_STOP_ACTION,name:a.VERIFY_PASSWORD}),t&&(console.log("Error****:",t.message),404===t.status?n({type:a.VERIFY_PASSWORD,success:!1}):n({type:a.SHOW_MESSAGE,title:"Verification error.",message:t.data.message,severity:a.NOTIFICATION_ERROR}))}))):n({type:a.VERIFY_PASSWORD,success:!1})}}},310:function(e,t,n){"use strict";n.r(t),n.d(t,"addAddOn",(function(){return s})),n.d(t,"editAddOn",(function(){return i}));var a=n(5),r=n(55),s=function(e){return function(t){t({type:a.UI_START_ACTION,name:a.ADD_ADD_ON}),r.default.post("add-on",e).then((function(e){e.data;t({type:a.UI_STOP_ACTION,name:a.ADD_ADD_ON}),t({type:a.ADD_ADD_ON})})).catch((function(e){var n=e.response;t({type:a.UI_STOP_ACTION,name:a.ADD_ADD_ON}),n&&(console.log("Error****:",n.message),t({type:a.SHOW_MESSAGE,title:"Service error.",message:n.data.message,severity:a.NOTIFICATION_ERROR}))}))}},i=function(e,t){return function(n){n({type:a.UI_START_ACTION,name:a.EDIT_ADD_ON}),r.default.post("add-on/".concat(e),t).then((function(e){e.data;n({type:a.UI_STOP_ACTION,name:a.EDIT_ADD_ON}),n({type:a.EDIT_ADD_ON})})).catch((function(e){var t=e.response;n({type:a.UI_STOP_ACTION,name:a.EDIT_ADD_ON}),t&&(console.log("Error****:",t.message),n({type:a.SHOW_MESSAGE,title:"Service error.",message:t.data.message,severity:a.NOTIFICATION_ERROR}))}))}}},314:function(e,t,n){"use strict";n.r(t),n.d(t,"getAPIKey",(function(){return s})),n.d(t,"addAPIKey",(function(){return i}));var a=n(5),r=n(55),s=function(){return function(e){e({type:a.UI_START_ACTION,name:a.GET_API_KEY}),r.default.get("api-key").then((function(t){var n=t.data;e({type:a.UI_STOP_ACTION,name:a.GET_API_KEY}),e({type:a.GET_API_KEY,payload:n.data})})).catch((function(t){var n=t.response;e({type:a.UI_STOP_ACTION,name:a.GET_API_KEY}),n&&(console.log("Error****:",n.message),e({type:a.SHOW_MESSAGE,title:"API key error.",message:n.data.message,severity:a.NOTIFICATION_ERROR}))}))}},i=function(){return function(e){e({type:a.UI_START_ACTION,name:a.ADD_API_KEY}),r.default.post("api-key").then((function(t){t.data;e({type:a.UI_STOP_ACTION,name:a.ADD_API_KEY}),e({type:a.ADD_API_KEY})})).catch((function(t){var n=t.response;e({type:a.UI_STOP_ACTION,name:a.ADD_API_KEY}),n&&(console.log("Error****:",n.message),e({type:a.SHOW_MESSAGE,title:"API key error.",message:n.data.message,severity:a.NOTIFICATION_ERROR}))}))}}},323:function(e,t,n){"use strict";n.r(t);var a=n(2),r=(n(0),n(90)),s=n.n(r),i=(n(519),n(350)),c=document.getElementById("app-site");Object(i.default)(),function(){var e=n(441).default;s.a.render(Object(a.jsx)(e,{}),c)}()},347:function(e,t,n){"use strict";n.r(t);var a=n(348);n.d(t,"Docs",(function(){return a.default}));var r=n(349);n.d(t,"Overview",(function(){return r.default}))},348:function(e,t,n){"use strict";n.r(t);n(100);var a=n(52),r=n.n(a),s=(n(345),n(101)),i=n.n(s),c=(n(102),n(34)),o=n.n(c),l=(n(91),n(32)),d=n.n(l),u=(n(174),n(65)),j=n.n(u),p=(n(148),n(83)),O=n.n(p),b=(n(82),n(19)),h=n.n(b),m=n(2),f=(n(0),n(115)),g=n(68),x=n(231),v=n(432),y=n(229);x.a.registerLanguage("json",v.a);t.default=function(){var e="https://api.mysights.id/api",t=[{title:"Property",dataIndex:"property",key:"propery",render:function(e,t){var n=t.required;return Object(m.jsxs)(h.a.Text,{strong:!0,children:[e," ",n&&Object(m.jsx)(O.a,{title:"required",children:Object(m.jsx)(h.a.Text,{type:"danger",children:"*"})})]})}},{title:"Description",dataIndex:"description",key:"description"},{title:"Type",dataIndex:"type",key:"type",render:function(e){return Object(m.jsx)(h.a.Text,{style:{color:g.magenta[6]},children:e})}},{title:"Default",dataIndex:"default",key:"default",render:function(e){return Object(m.jsx)(m.Fragment,{children:e||"-"})}}];return Object(m.jsxs)(r.a,{wrap:!1,gutter:[16],children:[Object(m.jsx)(o.a,{flex:"auto",children:Object(m.jsxs)(d.a,{direction:"vertical",style:{width:"100%"},children:[Object(m.jsx)(f.default,{level:3,text:"API Request",link:"#request"}),Object(m.jsx)(f.default,{level:4,text:"URL",link:"#request-url"}),Object(m.jsxs)(h.a.Text,{code:!0,copyable:{text:"".concat(e,"/soap/route/route-optimization?[params]")},children:[Object(m.jsx)(h.a.Text,{strong:!0,type:"warning",children:"POST"})," ",e,"/soap/route/route-optimization?[params]"]}),Object(m.jsx)(f.default,{level:4,text:"Params",link:"#request-params"}),Object(m.jsx)(j.a,{bordered:!0,pagination:!1,columns:t,dataSource:[{property:"api_key",description:"Your api key provided by mysights portal",type:"string",required:!0},{property:"routing_type",description:Object(m.jsxs)("ul",{children:[Object(m.jsxs)("li",{children:[Object(m.jsx)(h.a.Text,{code:!0,children:"point"})," : route use exact latlong to determine pool-to-point distance"]}),Object(m.jsxs)("li",{children:[Object(m.jsx)(h.a.Text,{code:!0,children:"realtime"})," : route use realtime actual pool-to-point distance using distance-matrix service"]}),Object(m.jsxs)("li",{children:[Object(m.jsx)(h.a.Text,{code:!0,children:"historical"})," : route use pre-registered pool-to-point distance using distance-matrix service, unregistered point will be rejected"]}),Object(m.jsxs)("li",{children:[Object(m.jsx)(h.a.Text,{code:!0,children:"historicalplus"})," : route use pre-registered pool-to-point distance using distance-matrix service, unregistered point will be accepted (+additional charge)"]})]}),type:Object(m.jsxs)(m.Fragment,{children:[Object(m.jsx)(h.a.Text,{code:!0,children:"point"})," | ",Object(m.jsx)(h.a.Text,{code:!0,children:"realtime"})," | ",Object(m.jsx)(h.a.Text,{code:!0,children:"historical"})," | ",Object(m.jsx)(h.a.Text,{code:!0,children:"historicalplus"})]}),default:Object(m.jsx)(h.a.Text,{code:!0,children:"point"})},{property:"multiple_days",description:"Routing with multiple days timeframe.",type:"boolean",default:Object(m.jsx)(h.a.Text,{code:!0,children:"false"})}]}),Object(m.jsx)(f.default,{level:4,text:"Body",link:"#request-body"}),Object(m.jsx)(j.a,{bordered:!0,pagination:!1,columns:t,dataSource:[{property:"deliveries",description:"Specification of point and goods to be delivered",type:Object(m.jsxs)(m.Fragment,{children:[Object(m.jsx)(h.a.Link,{href:"#request-body-delivery",children:"Delivery"}),"[]"]}),required:!0},{property:"vehicles",description:"Specification of vehicle used to deliver good",type:Object(m.jsxs)(m.Fragment,{children:[Object(m.jsx)(h.a.Link,{href:"#request-body-vehicle",children:"Vehicle"}),"[]"]}),required:!0},{property:"depot",description:"Specification of depot/pool for delivery central",type:Object(m.jsx)(m.Fragment,{children:Object(m.jsx)(h.a.Link,{href:"#request-body-depot",children:"Depot"})}),required:!0}]}),Object(m.jsx)(f.default,{level:5,text:"Delivery",link:"#request-body-delivery"}),Object(m.jsxs)(h.a.Text,{children:["One of the ",Object(m.jsx)(h.a.Text,{code:!0,children:"deliveries"})," prop for describing the customer point."]}),Object(m.jsx)(j.a,{bordered:!0,pagination:!1,columns:t,dataSource:[{property:"customer_id",description:"Key of customer point / customer name",type:"string",required:!0},{property:"delivery_id",description:"Unique key of delivery",type:"string",required:!0},{property:"delivery_date",description:"Date of delivery",type:"string",required:!0},{property:"weight_total",description:"Total weight of goods to be delivered, unit must be the same as the unit weight used on the vehicle",type:"float",required:!0},{property:"volume_total",description:"Total volume of goods to be delivered, unit must be the same as the unit volume used on the vehicle",type:"float",required:!0},{property:"latitude",description:"Geographic coordinate that specifies the north\u2013south position of customer point",type:"float",required:!0},{property:"longitude",description:"Geographic coordinate that specifies the east-west position of customer point",type:"float",required:!0},{property:"open",description:"Time window / time visit for the customer point open time (e.g. 08:00)",type:"string",required:!0},{property:"close",description:"Time window / time visit for the customer point close time (e.g. 17:00)",type:"string",required:!0},{property:"vehicle_type",description:"Restrictions on the types of vehicles allowed to access the delivery point",type:"string[]",required:!0}]}),Object(m.jsx)(f.default,{level:5,text:"Vehicle",link:"#request-body-vehicle"}),Object(m.jsxs)(h.a.Text,{children:["One of the ",Object(m.jsx)(h.a.Text,{code:!0,children:"vehicles"})," prop for describing the vehicle used."]}),Object(m.jsx)(j.a,{bordered:!0,pagination:!1,columns:t,dataSource:[{property:"id",description:"Unique key of vehicle / license plate",type:"string",required:!0},{property:"type",description:"Vehicle type (e.g. truck, box)",type:"string",required:!0},{property:"supir",description:"Driver name",type:"string",required:!0},{property:"kenek",description:"Co-driver name",type:"float",required:!0},{property:"volume",description:"Vehicle volume (delivery volume constraint)",type:"float",required:!0},{property:"weight",description:"Vehicle weight (delivery weight constraint)",type:"float",required:!0}]}),Object(m.jsx)(f.default,{level:5,text:"Depot",link:"#request-body-depot"}),Object(m.jsxs)(h.a.Text,{children:[Object(m.jsx)(h.a.Text,{code:!0,children:"depot"})," prop for describing the depot."]}),Object(m.jsx)(j.a,{bordered:!0,pagination:!1,columns:t,dataSource:[{property:"depot_id",description:"Unique key of depot/pool",type:"string",required:!0},{property:"latitude",description:"Geographic coordinate that specifies the north\u2013south position of depot/pool",type:"float",required:!0},{property:"longitude",description:"Geographic coordinate that specifies the east-west position of depot/pool",type:"float",required:!0},{property:"open",description:"Time window / time visit for the depot open time (e.g. 08:00)",type:"string",required:!0},{property:"close",description:"Time window / time visit for the depot close time (e.g. 17:00)",type:"string",required:!0}]}),Object(m.jsx)(f.default,{level:5,text:"Request Example",link:"#request-body-example"}),Object(m.jsx)(x.a,{language:"json",style:y.a,children:JSON.stringify(n(476),null,"\t")}),Object(m.jsx)(f.default,{level:3,text:"API Response",link:"#response"}),Object(m.jsx)(f.default,{level:4,text:"Body",link:"#response-body"}),Object(m.jsx)(j.a,{bordered:!0,pagination:!1,columns:t,dataSource:[{property:"status_code",description:"Response status code",type:"number"},{property:"message",description:"Response message",type:"string"},{property:"data",description:"Response data result",type:Object(m.jsx)(m.Fragment,{children:Object(m.jsx)(h.a.Link,{href:"#response-body-data",children:"Data"})})}]}),Object(m.jsx)(f.default,{level:5,text:"Response Data",link:"#response-body-data"}),Object(m.jsx)(j.a,{bordered:!0,pagination:!1,columns:t,dataSource:[{property:"depot_id",description:"Unique key of depot/pool result",type:"string"},{property:"detail",description:"Route result of related depot",type:Object(m.jsxs)(m.Fragment,{children:[Object(m.jsx)(h.a.Link,{href:"#response-body-route",children:"Route"}),"[]"]})}]}),Object(m.jsx)(f.default,{level:5,text:"Route",link:"#response-body-route"}),Object(m.jsxs)(h.a.Text,{children:["One of the",Object(m.jsx)(h.a.Text,{code:!0,children:"route"})," prop for describing the route optimization result."]}),Object(m.jsx)(j.a,{bordered:!0,pagination:!1,columns:t,dataSource:[{property:"SJ_id",description:"Unique key of route (generated)",type:"string"},{property:"date",description:"Date of route result",type:"string"},{property:"vehicle_id",description:"Unique key of selected vehicle / license plate",type:"string"},{property:"distance",description:"Total distance of one route (meters)",type:"number"},{property:"duration",description:"Duration estimation needed of one route (minutes)",type:"number"},{property:"weight",description:"Total load weight in one vehicle",type:"float"},{property:"trip",description:"Detail of trip / point visited",type:Object(m.jsxs)(m.Fragment,{children:[Object(m.jsx)(h.a.Link,{href:"#response-body-trip",children:"Trip"}),"[]"]})}]}),Object(m.jsx)(f.default,{level:5,text:"Trip",link:"#response-body-trip"}),Object(m.jsxs)(h.a.Text,{children:["One of the",Object(m.jsx)(h.a.Text,{code:!0,children:"trip"})," prop for describing the trip / point visited."]}),Object(m.jsx)(j.a,{bordered:!0,pagination:!1,columns:t,dataSource:[{property:"delivery_id",description:"Unique key of delivery",type:"string"},{property:"customer_id",description:"Key of customer point / customer name",type:"string"},{property:"sequence",description:"Order of visit points",type:"number"}]}),Object(m.jsx)(f.default,{level:5,text:"Response Example",link:"#response-body-example"}),Object(m.jsx)(x.a,{language:"json",style:y.a,children:JSON.stringify(n(477),null,"\t")})]})}),Object(m.jsx)(o.a,{flex:"none",children:Object(m.jsxs)(i.a,{targetOffset:200,children:[Object(m.jsxs)(i.a.Link,{href:"#request",title:"Request",children:[Object(m.jsx)(i.a.Link,{href:"#request-url",title:"URL"}),Object(m.jsx)(i.a.Link,{href:"#request-params",title:"Params"}),Object(m.jsxs)(i.a.Link,{href:"#request-body",title:"Body",children:[Object(m.jsx)(i.a.Link,{href:"#request-body-delivery",title:"Delivery"}),Object(m.jsx)(i.a.Link,{href:"#request-body-vehicle",title:"Vehicle"}),Object(m.jsx)(i.a.Link,{href:"#request-body-depot",title:"Depot"})]}),Object(m.jsx)(i.a.Link,{href:"#request-body-example",title:"Request Example"})]}),Object(m.jsxs)(i.a.Link,{href:"#request",title:"Response",children:[Object(m.jsxs)(i.a.Link,{href:"#response-body",title:"Body",children:[Object(m.jsx)(i.a.Link,{href:"#response-body-data",title:"Data"}),Object(m.jsx)(i.a.Link,{href:"#response-body-route",title:"Route"}),Object(m.jsx)(i.a.Link,{href:"#response-body-trip",title:"Trip"})]}),Object(m.jsx)(i.a.Link,{href:"#response-body-example",title:"Response Example"})]})]})})]})}},349:function(e,t,n){"use strict";n.r(t);n(345);var a=n(101),r=n.n(a),s=(n(91),n(32)),i=n.n(s),c=(n(100),n(52)),o=n.n(c),l=(n(1071),n(633)),d=n.n(l),u=(n(102),n(34)),j=n.n(u),p=(n(82),n(19)),O=n.n(p),b=n(2),h=(n(0),n(115)),m=n(483);t.default=function(){return Object(b.jsxs)(o.a,{wrap:!1,gutter:[16],children:[Object(b.jsx)(j.a,{flex:"auto",children:Object(b.jsx)(i.a,{direction:"vertical",style:{width:"100%"},children:Object(b.jsxs)(o.a,{wrap:!1,gutter:[16],children:[Object(b.jsxs)(j.a,{flex:"auto",children:[Object(b.jsx)(h.default,{level:4,text:"Overview",link:"#overview"}),Object(b.jsx)(O.a.Paragraph,{children:"Route Optimizer (Service Optimization Analytic Platform/SOAP) service used to optimize the delivery of goods which includes vehicle selection, goods-vehicles mapping, and optimal route search to reduce shipping costs. This service is suitable for logistic, wholesale, retail, manufacture, and other related service."}),Object(b.jsx)(h.default,{level:4,text:"Features",link:"#features"}),Object(b.jsxs)("ul",{children:[Object(b.jsx)("li",{children:"Route Optimization"}),Object(b.jsx)("li",{children:"Recurring Routes"}),Object(b.jsx)("li",{children:"Vehicle Choices"}),Object(b.jsx)("li",{children:"Vehicle Capacity Optimization"}),Object(b.jsx)("li",{children:"Customer Time Window"}),Object(b.jsx)("li",{children:"Customer Loading Time"}),Object(b.jsx)("li",{children:"Customer Point Duration"})]})]}),Object(b.jsx)(j.a,{flex:"none",children:Object(b.jsx)(d.a,{width:300,src:m.default})})]})})}),Object(b.jsx)(j.a,{flex:"none",children:Object(b.jsxs)(r.a,{targetOffset:200,children:[Object(b.jsx)(r.a.Link,{href:"#overview",title:"Overview"}),Object(b.jsx)(r.a.Link,{href:"#features",title:"Features"})]})})]})}},350:function(e,t,n){"use strict";n.r(t);t.default=function(e){e&&e instanceof Function&&n.e(7).then(n.bind(null,1092)).then((function(t){var n=t.getCLS,a=t.getFID,r=t.getFCP,s=t.getLCP,i=t.getTTFB;n(e),a(e),r(e),s(e),i(e)}))}},351:function(e,t,n){"use strict";n.r(t);var a=n(9),r=n(5),s={openSetting:!1,navCollapsed:!0,locale:{languageId:"english",locale:"en",name:"English",icon:"us"}};t.default=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:s,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case r.TOGGLE_COLLAPSED_NAV:return Object(a.a)(Object(a.a)({},e),{},{navCollapsed:t.isNavCollapsed});case r.SWITCH_LANGUAGE:return Object(a.a)(Object(a.a)({},e),{},{locale:t.payload});case r.TOGGLE_SETTING:return Object(a.a)(Object(a.a)({},e),{},{openSetting:t.isSettingOpened});default:return e}}},352:function(e,t,n){"use strict";n.r(t);var a=n(9),r=n(5),s={token:localStorage.getItem("token"),initURL:"",authUser:null,menu:[],status:{signedUp:null,loggedIn:null,forgot:null}};t.default=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:s,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case r.INIT_URL:return Object(a.a)(Object(a.a)({},e),{},{initURL:t.payload});case r.SIGN_UP:return Object(a.a)(Object(a.a)({},e),{},{status:Object(a.a)(Object(a.a)({},e.status),{},{signedUp:!0})});case r.LOG_IN:return Object(a.a)(Object(a.a)({},e),{},{status:Object(a.a)(Object(a.a)({},e.status),{},{loggedIn:!0})});case r.FORGOT:return Object(a.a)(Object(a.a)({},e),{},{status:Object(a.a)(Object(a.a)({},e.status),{},{forgot:!0})});case r.LOG_OUT:return Object(a.a)(Object(a.a)({},e),{},{token:null,authUser:null,menu:[],initURL:""});case r.USER_DATA:return Object(a.a)(Object(a.a)({},e),{},{authUser:t.payload,menu:t.menu});case r.USER_TOKEN_SET:return Object(a.a)(Object(a.a)({},e),{},{token:t.payload});case r.RESET_STATUS:return Object(a.a)(Object(a.a)({},e),{},{status:s.status});default:return e}}},353:function(e,t,n){"use strict";n.r(t);var a=n(9),r=n(5),s={status:{email:null,password:null}};t.default=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:s,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case r.VERIFY_EMAIL:return Object(a.a)(Object(a.a)({},e),{},{status:Object(a.a)(Object(a.a)({},e.status),{},{email:t.success})});case r.VERIFY_PASSWORD:return Object(a.a)(Object(a.a)({},e),{},{status:Object(a.a)(Object(a.a)({},e.status),{},{password:t.success})});case r.RESET_STATUS:return Object(a.a)(Object(a.a)({},e),{},{status:s.status});default:return e}}},354:function(e,t,n){"use strict";n.r(t);var a=n(226),r=n(9),s=n(5),i={loader:{actions:[]},notification:{title:null,message:null,severity:null}};t.default=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:i,t=arguments.length>1?arguments[1]:void 0,n=e.loader,c=n.actions;switch(t.type){case s.UI_START_ACTION:return Object(r.a)(Object(r.a)({},e),{},{loader:Object(r.a)(Object(r.a)({},n),{},{actions:[].concat(Object(a.a)(c),[{name:t.name,param:t.param}])})});case s.UI_STOP_ACTION:return Object(r.a)(Object(r.a)({},e),{},{loader:Object(r.a)(Object(r.a)({},n),{},{actions:c.filter((function(e){return e.name!==t.name}))})});case s.SHOW_MESSAGE:return Object(r.a)(Object(r.a)({},e),{},{notification:{title:t.title,message:t.message,severity:t.severity?t.severity:s.NOTIFICATION_INFO}});case s.HIDE_MESSAGE:return Object(r.a)(Object(r.a)({},e),{},{notification:i.notification});default:return e}}},355:function(e,t,n){"use strict";n.r(t);var a=n(9),r=n(5),s={services:[],service:null,status:{created:null,edited:null}};t.default=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:s,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case r.GET_ALL_SERVICE:return Object(a.a)(Object(a.a)({},e),{},{services:t.payload});case r.GET_ONE_SERVICE:return Object(a.a)(Object(a.a)({},e),{},{service:t.payload});case r.GET_SUBSCRIBED_SERVICE:return Object(a.a)(Object(a.a)({},e),{},{services:t.payload});case r.ADD_SERVICE:case r.ADD_SERVICE_GROUP:return Object(a.a)(Object(a.a)({},e),{},{status:Object(a.a)(Object(a.a)({},e.status),{},{created:!0})});case r.EDIT_SERVICE:case r.EDIT_SERVICE_GROUP:return Object(a.a)(Object(a.a)({},e),{},{status:Object(a.a)(Object(a.a)({},e.status),{},{edited:!0})});case r.RESET_STATUS:return Object(a.a)(Object(a.a)({},e),{},{status:s.status});case r.RESET_DATA_STATE:return s;default:return e}}},356:function(e,t,n){"use strict";n.r(t);var a=n(9),r=n(5),s={subscriptions:[],subscription:null,summary:null,addOns:[],timeline:[],dailyUsage:{},quota:{},status:{created:null,edited:null}};t.default=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:s,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case r.GET_SUBSCRIPTION:return Object(a.a)(Object(a.a)({},e),{},{subscriptions:t.payload});case r.GET_ONE_SUBSCRIPTION:return Object(a.a)(Object(a.a)({},e),{},{subscription:t.payload});case r.GET_SUBSCRIPTION_SUMMARY:return Object(a.a)(Object(a.a)({},e),{},{summary:t.payload,subscription:Object(a.a)(Object(a.a)({},t.payload),{},{account:e.subscription.account})});case r.GET_SUBSCRIPTION_ADD_ONS:return Object(a.a)(Object(a.a)({},e),{},{addOns:t.payload});case r.GET_SUBSCRIPTION_TIMELINE:return Object(a.a)(Object(a.a)({},e),{},{timeline:t.payload});case r.GET_SUBSCRIPTION_DAILY_USAGE:return Object(a.a)(Object(a.a)({},e),{},{dailyUsage:t.payload});case r.GET_SUBSCRIPTION_QUOTA:return Object(a.a)(Object(a.a)({},e),{},{quota:t.payload});case r.ADD_SUBSCRIPTION:return Object(a.a)(Object(a.a)({},e),{},{status:Object(a.a)(Object(a.a)({},e.status),{},{created:!0})});case r.EDIT_SUBSCRIPTION:return Object(a.a)(Object(a.a)({},e),{},{status:Object(a.a)(Object(a.a)({},e.status),{},{edited:!0})});case r.RESET_STATUS:return Object(a.a)(Object(a.a)({},e),{},{status:s.status});case r.RESET_DATA_STATE:return s;default:return e}}},357:function(e,t,n){"use strict";n.r(t);var a=n(9),r=n(5),s={packages:[],package:null,status:{created:null,edited:null}};t.default=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:s,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case r.GET_PACKAGE:return Object(a.a)(Object(a.a)({},e),{},{packages:t.payload});case r.GET_ONE_PACKAGE:return Object(a.a)(Object(a.a)({},e),{},{package:t.payload});case r.ADD_PACKAGE:return Object(a.a)(Object(a.a)({},e),{},{status:Object(a.a)(Object(a.a)({},e.status),{},{created:!0})});case r.EDIT_PACKAGE:return Object(a.a)(Object(a.a)({},e),{},{status:Object(a.a)(Object(a.a)({},e.status),{},{edited:!0})});case r.RESET_STATUS:return Object(a.a)(Object(a.a)({},e),{},{status:s.status});case r.RESET_DATA_STATE:return s;default:return e}}},358:function(e,t,n){"use strict";n.r(t);var a=n(9),r=n(5),s={user:null,users:[],status:{edited:null}};t.default=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:s,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case r.GET_USER:return Object(a.a)(Object(a.a)({},e),{},{users:t.payload});case r.GET_SINGLE_USER:return Object(a.a)(Object(a.a)({},e),{},{user:t.payload});case r.EDIT_USER:return Object(a.a)(Object(a.a)({},e),{},{status:Object(a.a)(Object(a.a)({},e.status),{},{edited:!0})});case r.RESET_STATUS:return Object(a.a)(Object(a.a)({},e),{},{status:s.status});case r.RESET_DATA_STATE:return s;default:return e}}},359:function(e,t,n){"use strict";n.r(t);var a=n(9),r=n(5),s={keys:[],status:{created:null}};t.default=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:s,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case r.GET_API_KEY:return Object(a.a)(Object(a.a)({},e),{},{keys:t.payload});case r.ADD_API_KEY:return Object(a.a)(Object(a.a)({},e),{},{status:Object(a.a)(Object(a.a)({},e.status),{},{created:!0})});case r.RESET_STATUS:return Object(a.a)(Object(a.a)({},e),{},{status:s.status});case r.RESET_DATA_STATE:return s;default:return e}}},360:function(e,t,n){"use strict";n.r(t);var a=n(9),r=n(5),s={service:null};t.default=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:s,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case r.GET_USAGE:return Object(a.a)(Object(a.a)({},e),{},{service:t.payload});case r.RESET_DATA_STATE:return s;default:return e}}},361:function(e,t,n){"use strict";n.r(t);var a=n(9),r=n(5),s={addOns:[],status:{created:null,edited:null}};t.default=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:s,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case r.GET_ADD_ON:return Object(a.a)(Object(a.a)({},e),{},{addOns:t.payload});case r.ADD_ADD_ON:return Object(a.a)(Object(a.a)({},e),{},{status:Object(a.a)(Object(a.a)({},e.status),{},{created:!0})});case r.EDIT_ADD_ON:return Object(a.a)(Object(a.a)({},e),{},{status:Object(a.a)(Object(a.a)({},e.status),{},{edited:!0})});case r.RESET_STATUS:return Object(a.a)(Object(a.a)({},e),{},{status:s.status});case r.RESET_DATA_STATE:return s;default:return e}}},362:function(e,t,n){"use strict";n.r(t);var a=n(9),r=n(5),s={logs:[]};t.default=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:s,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case r.GET_ACCESS_LOG:return Object(a.a)(Object(a.a)({},e),{},{logs:t.payload});case r.RESET_DATA_STATE:return s;default:return e}}},363:function(e,t,n){"use strict";n.r(t);var a=n(35),r=n(36),s=n(38),i=n(37),c=n(9),o=n(79),l=n(2),d=n(0),u=n(47),j=n(40),p=n(243),O=n(251),b=n(113),h=n(252),m=n(412),f=n(415),g=n(416),x=n(417),v=n(266),y=n(265),S=n(267),_=function(e){var t=e.component,n=e.token,a=Object(o.a)(e,["component","token"]);return Object(l.jsx)(u.b,Object(c.a)(Object(c.a)({},a),{},{render:function(e){return n?Object(l.jsx)(t,Object(c.a)({},e)):Object(l.jsx)(u.a,{to:{pathname:"/login",state:{from:e.location}}})}}))},I=function(e){Object(s.a)(n,e);var t=Object(i.a)(n);function n(){return Object(a.a)(this,n),t.apply(this,arguments)}return Object(r.a)(n,[{key:"componentWillMount",value:function(){var e=this.props,t=e.initURL,n=e.history,a=e.setInitUrl;""===t&&a(n.location.pathname)}},{key:"render",value:function(){var e=this.props,t=e.match,n=e.location,a=e.locale,r=e.token,s=e.initURL;if("/"===n.pathname)return null===r?Object(l.jsx)(u.a,{to:"/login"}):""===s||"/"===s||"/login"===s?Object(l.jsx)(u.a,{to:"/app"}):Object(l.jsx)(u.a,{to:s});var i=O.default[a.locale];return Object(l.jsx)(p.b,{locale:i.locale,messages:i.messages,children:Object(l.jsxs)("div",{className:"app-main",children:[Object(l.jsxs)(u.d,{children:[Object(l.jsx)(_,{path:"".concat(t.url,"app"),token:r,component:h.default}),Object(l.jsx)(u.b,{path:"/login",component:m.default}),Object(l.jsx)(u.b,{path:"/forgot",component:f.default}),Object(l.jsx)(u.b,{path:"/verify/email",component:g.default}),Object(l.jsx)(u.b,{path:"/verify/password",component:x.default}),Object(l.jsx)(u.b,{path:"/404",component:v.default}),Object(l.jsx)(u.b,{path:"/403",component:y.default})]}),Object(l.jsx)(S.default,{})]})})}}]),n}(d.Component);t.default=Object(j.c)((function(e){var t=e.settings,n=e.auth,a=t.locale;return{token:n.token,locale:a,initURL:n.initURL}}),{setInitUrl:b.setInitUrl})(I)},364:function(e,t,n){"use strict";n.r(t);var a=n(9),r=n(626),s=n.n(r),i=n(365),c={messages:Object(a.a)({},i),locale:"en-US",data:s.a};t.default=c},365:function(e){e.exports=JSON.parse('{"extraPages.404Msg":"Sorry, the page you visited does not exist.","extraPages.403Msg":"Sorry, the page you visited is prohibited.","extraPages.goHome":"Back Home"}')},366:function(e,t,n){"use strict";n.r(t);n(215);var a=n(129),r=n.n(a),s=(n(198),n(60)),i=n.n(s),c=n(35),o=n(36),l=n(38),d=n(37),u=n(2),j=n(0),p=n(40),O=n(84),b=n(47),h=n(20),m=n.n(h),f=n(492),g=n(504),x=n(493),v=n(494),y=n(511),S=n(512),_=n(438),I=n(439),T=n(487),E=n(488),A=n(489),C=n(42),k=n(5),R=function(e){Object(l.a)(n,e);var t=Object(d.a)(n);function n(){return Object(c.a)(this,n),t.apply(this,arguments)}return Object(o.a)(n,[{key:"render",value:function(){var e=this.props,t=e.isAllowed,n=e.location,a="".concat(n.pathname),s=m.a.join(m.a.split(a,"/",3),"/");return Object(u.jsxs)(i.a,{theme:"dark",mode:"inline",defaultSelectedKeys:["/app/landing"],selectedKeys:[s],children:[Object(u.jsx)(i.a.Item,{icon:Object(u.jsx)(f.a,{}),children:Object(u.jsx)(O.b,{to:"/app/api-market",children:"API Market"})},"/app/api-market"),t(k.MENU_API_KEY)&&Object(u.jsx)(i.a.Item,{icon:Object(u.jsx)(g.a,{}),children:Object(u.jsx)(O.b,{to:"/app/api-key",children:"API Key"})},"/app/api-key"),t(k.MENU_USAGE)&&Object(u.jsx)(i.a.Item,{icon:Object(u.jsx)(x.a,{}),children:Object(u.jsx)(O.b,{to:"/app/usage",children:"Subs & Usage"})},"/app/usage"),Object(u.jsxs)(i.a.ItemGroup,{title:Object(u.jsx)(r.a,{style:{margin:0}}),children:[t(k.MENU_SERVICE)&&Object(u.jsx)(i.a.Item,{icon:Object(u.jsx)(v.a,{}),children:Object(u.jsx)(O.b,{to:"/app/service",children:"Service"})},"/app/service"),t(k.MENU_SERVICE)&&Object(u.jsx)(i.a.Item,{icon:Object(u.jsx)(y.a,{}),children:Object(u.jsx)(O.b,{to:"/app/package",children:"Package"})},"/app/package"),t(k.MENU_SUBSCRIPTION)&&Object(u.jsx)(i.a.Item,{icon:Object(u.jsx)(S.a,{}),children:Object(u.jsx)(O.b,{to:"/app/subscription",children:"Subscription"})},"/app/subscription"),t(k.MENU_SERVICE_USAGE)&&Object(u.jsx)(i.a.Item,{icon:Object(u.jsx)(_.a,{}),children:Object(u.jsx)(O.b,{to:"/app/service-usage",children:"Service Usage"})},"/app/service-usage"),t(k.MENU_ACCESS_LOG)&&Object(u.jsx)(i.a.Item,{icon:Object(u.jsx)(I.a,{}),children:Object(u.jsx)(O.b,{to:"/app/access-log",children:"Access Log"})},"/app/access-log")]},"service"),Object(u.jsxs)(i.a.ItemGroup,{title:Object(u.jsx)(r.a,{style:{margin:0}}),children:[t(k.MENU_SUBSCRIPTION)&&Object(u.jsx)(i.a.Item,{icon:Object(u.jsx)(T.a,{}),children:Object(u.jsx)(O.b,{to:"/app/customer",children:"Customer"})},"/app/customer"),t(k.MENU_SUBSCRIPTION)&&Object(u.jsx)(i.a.Item,{icon:Object(u.jsx)(E.a,{}),children:Object(u.jsx)(O.b,{to:"/app/invoice",children:"Invoice"})},"/app/invoice"),t(k.MENU_SUBSCRIPTION)&&Object(u.jsx)(i.a.Item,{icon:Object(u.jsx)(A.a,{}),children:Object(u.jsx)(O.b,{to:"/app/payment",children:"Payment"})},"/app/payment")]},"customer")]})}}]),n}(j.Component);t.default=Object(b.g)(Object(p.c)((function(e){return{isAllowed:Object(C.isAllowed)(e)}}),{})(R))},367:function(e,t,n){"use strict";n.r(t);n(120);var a=n(53),r=n.n(a),s=(n(331),n(81)),i=n.n(s),c=n(9),o=(n(91),n(32)),l=n.n(o),d=(n(89),n(45)),u=n.n(d),j=(n(167),n(31)),p=n.n(j),O=(n(166),n(64)),b=n.n(O),h=(n(148),n(83)),m=n.n(h),f=(n(82),n(19)),g=n.n(f),x=n(79),v=n(35),y=n(36),S=n(38),_=n(37),I=n(2),T=n(0),E=n.n(T),A=n(40),C=n(168),k=n(113),R=n(74),U=n(42),N=n(5),P=n(213),w=n(196),D={labelCol:{span:8},wrapperCol:{span:16}},G={wrapperCol:{offset:8,span:16}},L={padding:0},M=function(e){Object(S.a)(n,e);var t=Object(_.a)(n);function n(e){var a;return Object(v.a)(this,n),(a=t.call(this,e)).toggleEditMode=function(e){return a.setState({editMode:e})},a.onSubmit=function(){a.state.form.current.validateFields().then((function(e){var t=e.fullname,n=e.email;Object(x.a)(e,["fullname","email"]);a.props.editUser({fullname:t,email:n})})).catch((function(e){return console.log("Validate Failed:",e)}))},a.state={editMode:!1,form:E.a.createRef()},a}return Object(y.a)(n,[{key:"componentDidUpdate",value:function(e,t,n){if(!e.edited&&this.props.edited&&(this.state.form.current.resetFields(),this.setState({editMode:!1}),this.props.getUser(),this.props.onResetStatus()),!t.editMode&&this.state.editMode){var a=this.props.authUser,r=a.mysights_id,s=a.fullname,i=a.username,c=a.email;this.state.form.current.setFieldsValue({mysights_id:r,fullname:s,username:i,email:c})}}},{key:"render",value:function(){var e=this,t=this.props,n=t.authUser,a=t.loading,s=this.state,o=s.editMode,d=s.form,j=n.mysights_id,O=n.fullname,h=n.username,f=n.email,x=n.change_email;return Object(I.jsxs)(l.a,{direction:"vertical",style:{width:"100%"},children:[Object(I.jsxs)(g.a.Title,{level:5,children:["Profile ",Object(I.jsx)(m.a,{title:"Edit",children:Object(I.jsx)(g.a.Link,{children:Object(I.jsx)(P.a,{onClick:function(){return e.toggleEditMode(!o)}})})})]}),Object(I.jsx)(r.a,{bordered:!1,bodyStyle:o?{}:L,children:o?Object(I.jsxs)(p.a,Object(c.a)(Object(c.a)({},D),{},{ref:d,name:"control-ref",onFinish:this.onSubmit,children:[Object(I.jsx)(p.a.Item,{name:"mysights_id",label:"Mysights-ID",children:Object(I.jsx)(b.a,{disabled:!0})}),Object(I.jsx)(p.a.Item,{name:"fullname",label:"Fullname",rules:[{required:!0,message:"Please input fullname!"}],children:Object(I.jsx)(b.a,{})}),Object(I.jsx)(p.a.Item,{name:"username",label:"Username",children:Object(I.jsx)(b.a,{disabled:!0})}),Object(I.jsx)(p.a.Item,{name:"email",label:"Email",rules:[{type:"email",message:"The input is not valid email!"},{required:!0,message:"Please input email!"}],children:Object(I.jsx)(b.a,{})}),Object(I.jsx)(p.a.Item,Object(c.a)(Object(c.a)({},G),{},{children:Object(I.jsxs)(l.a,{children:[Object(I.jsx)(u.a,{htmlType:"button",onClick:function(){return e.toggleEditMode(!1)},children:"Cancel"}),Object(I.jsx)(u.a,{type:"primary",htmlType:"submit",loading:a,children:"Submit"})]})}))]})):Object(I.jsxs)(i.a,{column:1,bordered:!0,children:[Object(I.jsx)(i.a.Item,{label:Object(I.jsx)(g.a.Text,{strong:!0,children:"Mysights-ID"}),children:j}),Object(I.jsx)(i.a.Item,{label:Object(I.jsx)(g.a.Text,{strong:!0,children:"Fullname"}),children:O}),Object(I.jsx)(i.a.Item,{label:Object(I.jsx)(g.a.Text,{strong:!0,children:"Username"}),children:h}),Object(I.jsx)(i.a.Item,{label:Object(I.jsx)(g.a.Text,{strong:!0,children:"Email"}),children:Object(I.jsxs)(l.a,{children:[f,x&&Object(I.jsx)(m.a,{title:"Email changed to ".concat(x,", please verify your email!"),children:Object(I.jsx)(g.a.Text,{type:"warning",children:Object(I.jsx)(w.a,{})})})]})})]})})]})}}]),n}(E.a.Component);t.default=Object(A.c)((function(e){return{authUser:e.auth.authUser,edited:e.user.status.edited,loading:Object(U.isLoading)(e,N.EDIT_USER)}}),{editUser:C.editUser,getUser:k.getUser,onResetStatus:R.onResetStatus})(M)},368:function(e,t,n){"use strict";n.r(t);n(120);var a=n(53),r=n.n(a),s=n(9),i=(n(91),n(32)),c=n.n(i),o=(n(89),n(45)),l=n.n(o),d=(n(167),n(31)),u=n.n(d),j=(n(166),n(64)),p=n.n(j),O=(n(82),n(19)),b=n.n(O),h=n(79),m=n(35),f=n(36),g=n(38),x=n(37),v=n(2),y=n(0),S=n.n(y),_=n(40),I=n(168),T=n(74),E=n(42),A=n(5),C={labelCol:{span:8},wrapperCol:{span:16}},k={wrapperCol:{offset:8,span:16}},R=function(e){Object(g.a)(n,e);var t=Object(x.a)(n);function n(e){var a;return Object(m.a)(this,n),(a=t.call(this,e)).toggleEditMode=function(e){return a.setState({editMode:e})},a.onSubmit=function(){a.state.form.current.validateFields().then((function(e){var t=e.old_password,n=e.new_password;Object(h.a)(e,["old_password","new_password"]);a.props.editPassword({old_password:t,new_password:n})})).catch((function(e){return console.log("Validate Failed:",e)}))},a.state={editMode:!1,form:S.a.createRef()},a}return Object(f.a)(n,[{key:"componentDidUpdate",value:function(e,t,n){!e.edited&&this.props.edited&&(this.state.form.current.resetFields(),this.setState({editMode:!1}),this.props.onResetStatus()),!t.editMode&&this.state.editMode&&this.state.form.current.resetFields()}},{key:"render",value:function(){var e=this,t=this.props.loading,n=this.state,a=n.editMode,i=n.form;return Object(v.jsxs)(c.a,{direction:"vertical",style:{width:"100%"},children:[Object(v.jsx)(b.a.Title,{level:5,children:"Security"}),Object(v.jsx)(r.a,{bordered:!1,children:a?Object(v.jsxs)(u.a,Object(s.a)(Object(s.a)({},C),{},{ref:i,name:"control-ref",onFinish:this.onSubmit,children:[Object(v.jsx)(u.a.Item,{name:"old_password",label:"Old Password",hasFeedback:!0,rules:[{required:!0,message:"Please input password!"},{min:8,message:"Password must be at least 8 characters!"}],children:Object(v.jsx)(p.a.Password,{type:"password"})}),Object(v.jsx)(u.a.Item,{name:"new_password",label:"New Password",hasFeedback:!0,rules:[{required:!0,message:"Please input password!"},{min:8,message:"Password must be at least 8 characters!"}],children:Object(v.jsx)(p.a.Password,{type:"password"})}),Object(v.jsx)(u.a.Item,{name:"confirmPassword",label:"Confirm Password",dependencies:["new_password"],hasFeedback:!0,rules:[{required:!0,message:"Please input password again!"},function(e){var t=e.getFieldValue;return{validator:function(e,n){return n&&t("new_password")!==n?Promise.reject("The two passwords that you entered do not match!"):Promise.resolve()}}}],children:Object(v.jsx)(p.a.Password,{type:"password"})}),Object(v.jsx)(u.a.Item,Object(s.a)(Object(s.a)({},k),{},{children:Object(v.jsxs)(c.a,{children:[Object(v.jsx)(l.a,{htmlType:"button",onClick:function(){return e.toggleEditMode(!1)},children:"Cancel"}),Object(v.jsx)(l.a,{type:"primary",htmlType:"submit",loading:t,children:"Submit"})]})}))]})):Object(v.jsx)(b.a.Link,{onClick:function(){return e.toggleEditMode(!0)},children:"Change Password"})})]})}}]),n}(S.a.Component);t.default=Object(_.c)((function(e){return{edited:e.user.status.edited,loading:Object(E.isLoading)(e,A.EDIT_USER)}}),{editPassword:I.editPassword,onResetStatus:T.onResetStatus})(R)},369:function(e,t,n){"use strict";n.r(t);n(120);var a=n(53),r=n.n(a),s=(n(107),n(57)),i=n.n(s),c=(n(174),n(65)),o=n.n(c),l=(n(89),n(45)),d=n.n(l),u=(n(183),n(80)),j=n.n(u),p=(n(175),n(87)),O=n.n(p),b=(n(198),n(60)),h=n.n(b),m=(n(91),n(32)),f=n.n(m),g=(n(148),n(83)),x=n.n(g),v=n(9),y=n(79),S=(n(82),n(19)),_=n.n(S),I=n(66),T=n(35),E=n(36),A=n(38),C=n(37),k=n(2),R=n(0),U=n.n(R),N=n(40),P=n(20),w=n.n(P),D=n(27),G=n.n(D),L=n(42),M=n(5),F=n(105),B=n(103),Y=n(74),V=n(159),q=n(108),H=n(133),K=n(213),W=n(496),z=n(214),Q=n(208),J=function(e){Object(A.a)(n,e);var t=Object(C.a)(n);function n(e){var a;return Object(T.a)(this,n),(a=t.call(this,e)).onSelectMenu=function(e){var t=e.key,n=w.a.split(t,"-"),r=Object(I.a)(n,3),s=(r[0],r[1],r[2]);a.props.getSubscriptionByService(s),a.setState({selected:parseInt(s)})},a.onShowForm=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;a.setState({show:e,row:t})},a.onHideForm=function(){a.setState({show:null,row:null})},a.state={selected:null,show:null,row:null},a}return Object(E.a)(n,[{key:"componentDidMount",value:function(){this.props.getAllService()}},{key:"componentDidUpdate",value:function(e,t,n){!e.created&&this.props.created&&(this.onHideForm(),this.props.getSubscriptionByService(this.state.selected),this.props.onResetStatus()),!e.edited&&this.props.edited&&(this.onHideForm(),this.props.getSubscriptionByService(this.state.selected),this.props.onResetStatus())}},{key:"componentWillUnmount",value:function(){this.props.onResetDataState()}},{key:"render",value:function(){var e=this,t=this.props,n=t.services,a=t.loading,s=t.subscriptions,c=this.state,l=c.selected,u=c.show,p=c.row,b=[{title:"Status",dataIndex:"status",key:"status",render:function(e){return e&&Object(k.jsx)(V.default,{status:e})},sorter:function(e,t){var n=["active","incoming","expired","inactive"];return n.indexOf(e.status)-n.indexOf(t.status)},defaultSortOrder:"ascend"},{title:"Account",dataIndex:"account",key:"account",filters:w()(s).map((function(e){var t=e.account;return{text:t.fullname,value:t.fullname}})).uniqBy("value").value(),onFilter:function(e,t){return t.account.fullname.includes(e)},render:function(e){var t=e.fullname,n=e.email;return Object(k.jsxs)("div",{children:[Object(k.jsx)(_.a.Text,{strong:!0,children:t}),Object(k.jsx)("br",{}),Object(k.jsx)(_.a.Text,{type:"secondary",children:n})]})}},{title:"Subs ID",dataIndex:"code",key:"code"},{title:"Package",dataIndex:"package",key:"package",render:function(e){return e&&Object(k.jsx)(q.default,{name:e.name})}},{title:"Period",dataIndex:"period",key:"period",render:function(e,t){var n=t.start_date,a=t.end_date;return G()(n).format("ll")+" - "+G()(a).format("ll")}},{title:"Recent Usage",dataIndex:"lastUsage",key:"lastUsage",render:function(e){return e?G()(e.request_timestamp).fromNow():"-"}},{title:"Action",key:"action",render:function(t,n){var a=n.account,r=Object(y.a)(n,["account"]);return Object(k.jsxs)(f.a,{children:[Object(k.jsx)(x.a,{title:"Edit",children:Object(k.jsx)(_.a.Link,{onClick:function(){return e.onShowForm(Q.default.type.displayName,Object(v.a)(Object(v.a)({},r),{},{account:a.id}))},children:Object(k.jsx)(K.a,{})})}),Object(k.jsx)(x.a,{title:"Detail",children:Object(k.jsx)(_.a.Link,{onClick:function(){return e.props.history.push("".concat(e.props.match.url,"/").concat(r.id))},children:Object(k.jsx)(W.a,{})})})]})}}];return Object(k.jsxs)(f.a,{direction:"vertical",style:{width:"100%"},children:[Object(k.jsx)(_.a.Title,{level:4,children:"Subscription"}),Object(k.jsx)(r.a,{bordered:!1,children:Object(k.jsx)(i.a,{spinning:a.service,children:Object(k.jsxs)(j.a,{style:{minHeight:600,border:"1px solid #f0f0f0"},children:[Object(k.jsx)(j.a.Sider,{className:"site-layout-background",width:200,children:n.length?Object(k.jsx)(h.a,{mode:"inline",defaultOpenKeys:["submenu-0"],style:{height:"100%"},onSelect:this.onSelectMenu,children:w.a.map(n,(function(e,t){e.id;var n=e.name,a=e.icon,r=e.services;return Object(k.jsx)(h.a.SubMenu,{icon:Object(k.jsx)(H.a,{type:a}),title:n,children:w.a.map(r,(function(e,n){var a=e.id,r=e.name,s=e.icon;return Object(k.jsx)(h.a.Item,{icon:Object(k.jsx)(H.a,{type:s}),children:r},"item-"+t+"-"+a)}))},"submenu-"+t)}))}):Object(k.jsx)(O.a,{})}),Object(k.jsx)(j.a.Content,{style:{padding:"0 24px"},children:Object(k.jsxs)(i.a,{spinning:a.subs,children:[s.length?Object(k.jsxs)(f.a,{direction:"vertical",style:{margin:"24px 0",width:"100%"},children:[Object(k.jsx)(d.a,{type:"primary",style:{float:"right"},icon:Object(k.jsx)(z.a,{}),onClick:function(){return e.onShowForm(Q.default.type.displayName,{service_id:parseInt(l)})},children:"Add Subscription"}),Object(k.jsx)(o.a,{columns:b,dataSource:s,rowKey:"id",style:{width:"100%"}})]}):Object(k.jsx)(O.a,{image:O.a.PRESENTED_IMAGE_SIMPLE}),Object(k.jsx)(Q.default,{show:u===Q.default.type.displayName,onCancel:this.onHideForm,row:p})]})})]})})})]})}}]),n}(U.a.Component);t.default=Object(N.c)((function(e){var t=e.service.services,n=e.subscription,a=n.subscriptions,r=n.status,s=r.created,i=r.edited;return{loading:{service:Object(L.isLoading)(e,M.GET_ALL_SERVICE),subs:Object(L.isLoading)(e,M.GET_SUBSCRIPTION)},services:t,subscriptions:a,created:s,edited:i}}),{getAllService:F.getAllService,getSubscriptionByService:B.getSubscriptionByService,onResetStatus:Y.onResetStatus,onResetDataState:Y.onResetDataState})(J)},372:function(e,t,n){"use strict";n.r(t);n(107);var a=n(57),r=n.n(a),s=(n(183),n(80)),i=n.n(s),c=(n(198),n(60)),o=n.n(c),l=(n(91),n(32)),d=n.n(l),u=(n(82),n(19)),j=n.n(u),p=n(35),O=n(36),b=n(38),h=n(37),m=n(2),f=n(0),g=n.n(f),x=n(40),v=n(42),y=n(5),S=n(103),_=n(74),I=n(373),T=n(374),E=n(376),A=n(377),C=n(378),k=n(68),R=n(506),U=n(172),N=n(500),P=n(293),w=n(319),D=function(e){Object(b.a)(n,e);var t=Object(h.a)(n);function n(e){var a;return Object(p.a)(this,n),(a=t.call(this,e)).onMenuChange=function(e){var t=e.key;return a.setState({menu:t})},a.onShowForm=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return a.setState({show:e,row:t})},a.onHideForm=function(){return a.setState({show:null,row:null})},a.renderContent=function(){var e=a.props.subscription.id;switch(a.state.menu){case"summary":return Object(m.jsx)(I.default,{subs:e});case"add-on":return Object(m.jsx)(T.default,{subs:e});case"timeline":return Object(m.jsx)(E.default,{subs:e});case"daily-usage":return Object(m.jsx)(A.default,{subs:e});case"quota":return Object(m.jsx)(C.default,{subs:e});default:return null}},a.state={menu:"summary",show:null,row:null},a}return Object(O.a)(n,[{key:"componentDidMount",value:function(){var e=this.props.match.params;e.subs&&this.props.getSubscription(e.subs)}},{key:"componentWillUnmount",value:function(){this.props.onResetDataState()}},{key:"render",value:function(){var e=this.props,t=e.loading,n=e.subscription;return Object(m.jsxs)(d.a,{direction:"vertical",style:{width:"100%"},children:[Object(m.jsx)(j.a.Title,{level:4,children:"Subscription Detail"}),Object(m.jsx)(r.a,{spinning:t,children:n&&Object(m.jsxs)(i.a,{className:"site-layout-background",style:{padding:"24px 0",minHeight:600},children:[Object(m.jsxs)(i.a.Sider,{className:"site-layout-background",width:200,children:[Object(m.jsxs)(d.a,{direction:"vertical",style:{width:"100%",padding:"0 24px",borderRight:"1px solid #f0f0f0",marginBottom:8},children:[Object(m.jsx)(j.a.Title,{level:5,style:{margin:0,color:k.blue.primary},children:n.account.fullname}),Object(m.jsx)(j.a.Text,{type:"secondary",children:n.account.email}),Object(m.jsxs)(j.a.Text,{children:["ID : ",n.code]})]}),Object(m.jsxs)(o.a,{mode:"inline",defaultSelectedKeys:[this.state.menu],onSelect:this.onMenuChange,children:[Object(m.jsx)(o.a.Item,{icon:Object(m.jsx)(R.a,{}),children:"Summary"},"summary"),Object(m.jsx)(o.a.Item,{icon:Object(m.jsx)(U.a,{}),children:"Add-ons"},"add-on"),Object(m.jsx)(o.a.Item,{icon:Object(m.jsx)(N.a,{}),children:"Timeline"},"timeline"),Object(m.jsx)(o.a.Item,{icon:Object(m.jsx)(P.a,{}),children:"Quota"},"quota"),Object(m.jsx)(o.a.Item,{icon:Object(m.jsx)(w.a,{}),children:"Daily Usage"},"daily-usage")]})]}),Object(m.jsx)(i.a.Content,{style:{padding:"0 24px",minHeight:280},children:this.renderContent()})]})})]})}}]),n}(g.a.Component);t.default=Object(x.c)((function(e){var t=e.subscription.subscription;return{loading:Object(v.isLoading)(e,y.GET_ONE_SUBSCRIPTION),subscription:t}}),{getSubscription:S.getSubscription,onResetStatus:_.onResetStatus,onResetDataState:_.onResetDataState})(D)},373:function(e,t,n){"use strict";n.r(t);n(107);var a=n(57),r=n.n(a),s=(n(91),n(32)),i=n.n(s),c=(n(331),n(81)),o=n.n(c),l=(n(100),n(52)),d=n.n(l),u=n(9),j=(n(102),n(34)),p=n.n(j),O=(n(82),n(19)),b=n.n(O),h=(n(343),n(126)),m=n.n(h),f=(n(89),n(45)),g=n.n(f),x=n(35),v=n(36),y=n(38),S=n(37),_=n(2),I=n(0),T=n.n(I),E=n(40),A=n(27),C=n.n(A),k=n(42),R=n(5),U=n(103),N=n(74),P=n(159),w=n(108),D=n(208),G=n(213),L=n(498),M=n(172),F=function(e){Object(y.a)(n,e);var t=Object(S.a)(n);function n(e){var a;return Object(x.a)(this,n),(a=t.call(this,e)).onShowForm=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;return a.setState({show:!0,row:e})},a.onHideForm=function(){return a.setState({show:null,row:null})},a.state={show:null,row:null},a}return Object(v.a)(n,[{key:"componentDidMount",value:function(){this.props.getSubscriptionSummary(this.props.subs)}},{key:"componentDidUpdate",value:function(e,t,n){!e.edited&&this.props.edited&&(this.onHideForm(),this.props.getSubscriptionSummary(this.props.subs),this.props.onResetStatus())}},{key:"render",value:function(){var e=this,t=this.props,n=t.loading,a=t.summary;return Object(_.jsx)(r.a,{spinning:n,children:a&&Object(_.jsxs)(_.Fragment,{children:[Object(_.jsxs)(i.a,{size:"middle",direction:"vertical",style:{width:"100%"},children:[Object(_.jsx)(g.a,{type:"primary",style:{float:"right"},icon:Object(_.jsx)(G.a,{}),onClick:function(){return e.onShowForm(null)},children:"Edit Subscription"}),Object(_.jsxs)(d.a,{gutter:16,children:[Object(_.jsxs)(p.a,Object(u.a)(Object(u.a)({},{lg:6,sm:12}),{},{children:[Object(_.jsx)(m.a,{title:"Valid Until",value:C()(a.end_date).format("ll")}),C()().isSameOrAfter(C()(a.end_date).subtract(7,"day"))&&Object(_.jsxs)(b.a.Text,{type:"danger",children:[Object(_.jsx)(L.a,{})," ends ",C()(a.end_date).add(1,"day").fromNow()]})]})),Object(_.jsx)(p.a,Object(u.a)(Object(u.a)({},{lg:6,sm:12}),{},{children:a.activeAddOns.length?Object(_.jsx)(m.a,{title:"Active Add-ons (today)",value:"".concat(a.activeAddOns.length," add-ons"),prefix:Object(_.jsx)(M.a,{})}):Object(_.jsx)(m.a,{title:"Active Add-ons (Today)",value:"No add-on",prefix:Object(_.jsx)(M.a,{})})}))]}),Object(_.jsxs)(o.a,{bordered:!0,size:"middle",column:1,children:[Object(_.jsx)(o.a.Item,{label:Object(_.jsx)("div",{style:{textAlign:"right"},children:"Subscription Status"}),children:Object(_.jsx)(P.default,{status:a.status})}),Object(_.jsxs)(o.a.Item,{label:Object(_.jsx)("div",{style:{textAlign:"right"},children:"Subscription ID"}),children:[a.code," ",Object(_.jsx)(b.a.Text,{type:"secondary",children:"(generated)"})]}),Object(_.jsxs)(o.a.Item,{label:Object(_.jsx)("div",{style:{textAlign:"right"},children:"Service"}),children:[a.service.name," ",Object(_.jsx)(b.a.Text,{type:"secondary",children:a.service.service_group.name})]}),Object(_.jsx)(o.a.Item,{label:Object(_.jsx)("div",{style:{textAlign:"right"},children:"Package"}),children:Object(_.jsx)(w.default,{name:a.package.name})}),Object(_.jsx)(o.a.Item,{label:Object(_.jsx)("div",{style:{textAlign:"right"},children:"Start Subscription"}),children:C()(a.start_date).format("ll")}),Object(_.jsx)(o.a.Item,{label:Object(_.jsx)("div",{style:{textAlign:"right"},children:"End Subscription"}),children:C()(a.end_date).format("ll")}),Object(_.jsx)(o.a.Item,{label:Object(_.jsx)("div",{style:{textAlign:"right"},children:"Cut-off Date"}),children:a.cut_off_date?"".concat(a.cut_off_date," per month"):"lifetime"}),Object(_.jsx)(o.a.Item,{label:Object(_.jsx)("div",{style:{textAlign:"right"},children:"Registered Add-on"}),children:a.addOns.length?Object(_.jsxs)(_.Fragment,{children:[Object(_.jsx)(M.a,{})," ",a.addOns.length," add-ons"]}):"No add-on"}),Object(_.jsx)(o.a.Item,{label:Object(_.jsx)("div",{style:{textAlign:"right"},children:"Active Add-on (today)"}),children:a.activeAddOns.length?Object(_.jsxs)(_.Fragment,{children:[Object(_.jsx)(M.a,{})," ",a.activeAddOns.length," add-ons"]}):"No add-on"})]})]}),Object(_.jsx)(D.default,{show:this.state.show,onCancel:this.onHideForm,row:a})]})})}}]),n}(T.a.Component);t.default=Object(E.c)((function(e){var t=e.subscription,n=t.summary,a=t.status.edited;return{loading:Object(k.isLoading)(e,R.GET_SUBSCRIPTION_SUMMARY),summary:n,edited:a}}),{getSubscriptionSummary:U.getSubscriptionSummary,onResetStatus:N.onResetStatus})(F)},374:function(e,t,n){"use strict";n.r(t);n(107);var a=n(57),r=n.n(a),s=(n(174),n(65)),i=n.n(s),c=(n(91),n(32)),o=n.n(c),l=(n(148),n(83)),d=n.n(l),u=(n(89),n(45)),j=n.n(u),p=n(9),O=(n(82),n(19)),b=n.n(O),h=n(35),m=n(36),f=n(38),g=n(37),x=n(2),v=n(0),y=n.n(v),S=n(40),_=n(20),I=n.n(_),T=n(27),E=n.n(T),A=n(42),C=n(5),k=n(103),R=n(74),U=n(159),N=n(375),P=n(434),w=n(213),D=n(214),G=function(e){Object(f.a)(n,e);var t=Object(g.a)(n);function n(e){var a;return Object(h.a)(this,n),(a=t.call(this,e)).onShowForm=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;return a.setState({show:!0,row:e})},a.onHideForm=function(){return a.setState({show:null,row:null})},a.state={show:null,row:null},a}return Object(m.a)(n,[{key:"componentDidMount",value:function(){this.props.getSubscriptionAddOns(this.props.subs)}},{key:"componentDidUpdate",value:function(e,t,n){!e.created&&this.props.created&&(this.onHideForm(),this.props.getSubscriptionAddOns(this.props.subs),this.props.onResetStatus()),!e.edited&&this.props.edited&&(this.onHideForm(),this.props.getSubscriptionAddOns(this.props.subs),this.props.onResetStatus())}},{key:"render",value:function(){var e=this,t=this.props,n=t.loading,a=t.subscription,s=t.addOns,c=[{title:"Status",dataIndex:"status",key:"status",render:function(e){return e&&Object(x.jsx)(U.default,{status:e})},sorter:function(e,t){var n=["active","incoming","expired"];return n.indexOf(e.status)-n.indexOf(t.status)},defaultSortOrder:"ascend"},{title:"Limit",dataIndex:"limit",key:"limit",render:function(e){var t=e.code,n=e.reset;return Object(x.jsxs)("div",{children:[Object(x.jsx)(b.a.Text,{strong:!0,children:I.a.capitalize(t)}),Object(x.jsx)("br",{}),Object(x.jsx)(b.a.Text,{type:"secondary",children:n})]})}},{title:"Start Date",dataIndex:"start_date",key:"start_date",render:function(e){return e?E()(e).format("LL"):null},sorter:function(e,t){return e.start_date-t.start_date}},{title:"End Date",dataIndex:"end_date",key:"end_date",render:function(e){return e?E()(e).format("LL"):null},sorter:function(e,t){return e.end_date-t.end_date}},{title:"Amount changes",key:"amount_changes",render:function(e,t){var n=t.amount,a=t.is_unlimited,r=t.limit,s=r.limit,i=r.is_unlimited,c=function(e){var t=e.limit,n=e.limitUnlimited,a=e.amount,r=e.addOnUnlimited;return n||r?Object(x.jsx)(b.a.Text,{type:"success",strong:!0,children:"Unlimited"}):I.a.isNull(t)&&a?a:I.a.isNull(t)?Object(x.jsx)(b.a.Text,{type:"danger",strong:!0,children:"Locked"}):a?t+a:t};return Object(x.jsxs)(x.Fragment,{children:[c({limit:s,limitUnlimited:i})," ",Object(x.jsx)(P.a,{})," ",c({amount:n,limit:s,addOnUnlimited:a})]})}},{title:"Action",key:"action",render:function(t,n){return Object(x.jsx)(o.a,{children:Object(x.jsx)(d.a,{title:"Edit",children:Object(x.jsx)(j.a,{type:"link",icon:Object(x.jsx)(w.a,{}),disabled:"active"!==a.status,onClick:function(){return e.onShowForm(Object(p.a)({subscription:a},n))}})})})}}];return Object(x.jsxs)(r.a,{spinning:n,children:[Object(x.jsxs)(o.a,{size:"middle",direction:"vertical",style:{width:"100%"},children:[Object(x.jsx)(j.a,{type:"primary",style:{float:"right"},icon:Object(x.jsx)(D.a,{}),disabled:"active"!==a.status,onClick:function(){return e.onShowForm({subscription:a})},children:"Add-ons"}),Object(x.jsx)(i.a,{columns:c,dataSource:s,rowKey:"id",style:{width:"100%"}})]}),Object(x.jsx)(N.default,{show:this.state.show,onCancel:this.onHideForm,row:this.state.row})]})}}]),n}(y.a.Component);t.default=Object(S.c)((function(e){var t=e.subscription,n=t.subscription,a=t.addOns,r=e.addOn.status,s=r.created,i=r.edited;return{loading:Object(A.isLoading)(e,C.GET_SUBSCRIPTION_ADD_ONS),subscription:n,addOns:a,created:s,edited:i}}),{getSubscriptionAddOns:k.getSubscriptionAddOns,onResetStatus:R.onResetStatus})(G)},375:function(e,t,n){"use strict";n.r(t);n(203);var a=n(128),r=n.n(a),s=(n(341),n(163)),i=n.n(s),c=(n(460),n(288)),o=n.n(c),l=(n(574),n(429)),d=n.n(l),u=(n(167),n(31)),j=n.n(u),p=(n(176),n(73)),O=n.n(p),b=(n(89),n(45)),h=n.n(b),m=n(9),f=n(66),g=n(79),x=n(35),v=n(36),y=n(38),S=n(37),_=n(2),I=n(0),T=n.n(I),E=n(40),A=n(20),C=n.n(A),k=n(27),R=n.n(k),U=n(42),N=n(310),P=n(160),w=n(5),D={labelCol:{span:8},wrapperCol:{span:16}},G=function(e){Object(y.a)(n,e);var t=Object(S.a)(n);function n(e){var a;return Object(x.a)(this,n),(a=t.call(this,e)).onFinish=function(){var e=a.state.formRef,t=a.props,n=t.row,r=t.addAddOn,s=t.editAddOn;e.current.validateFields().then((function(e){var t=e.date,a=Object(g.a)(e,["date"]),i=Object(f.a)(t,2),c=i[0],o=i[1],l=n.id,d=n.subscription,u=Object(g.a)(n,["id","subscription"]);l?s(l,Object(m.a)({start_date:c.format("YYYY-MM-DD"),end_date:o.format("YYYY-MM-DD")},a)):r(Object(m.a)(Object(m.a)({},u),{},{subscription_id:d.id,start_date:c.format("YYYY-MM-DD"),end_date:o.format("YYYY-MM-DD")},a))})).catch((function(e){return console.log("Validate Failed:",e)}))},a.state={formRef:T.a.createRef()},a}return Object(v.a)(n,[{key:"componentDidUpdate",value:function(e,t,n){if(!e.show&&this.props.show&&(this.state.formRef.current.resetFields(),this.props.row)){var a=this.props.row,r=a.subscription,s=a.start_date,i=a.end_date,c=Object(g.a)(a,["subscription","start_date","end_date"]),o=r.package_id,l=s?[R()(s),R()(i)]:null;this.state.formRef.current.setFieldsValue(Object(m.a)(Object(m.a)({},{is_unlimited:!1}),{},{date:l},c)),this.props.getPackage(o)}}},{key:"render",value:function(){var e=this.props,t=e.show,n=e.onCancel,a=e.row,s=e.loading,c=e._package,l=(a||{}).subscription,u=(l||{}).end_date,p=(c||{limits:[]}).limits,b=this.state.formRef;return Object(_.jsx)(r.a,{visible:t,title:"Add On",onCancel:n,footer:[Object(_.jsx)(h.a,{onClick:n,children:"Cancel"},"back"),Object(_.jsx)(h.a,{type:"primary",loading:s[a&&a.id?"edit":"create"],onClick:this.onFinish,children:"Submit"},"submit")],children:Object(_.jsxs)(j.a,Object(m.a)(Object(m.a)({},D),{},{ref:b,name:"control-ref",onFinish:this.onFinish,children:[Object(_.jsx)(j.a.Item,{name:"limit_id",label:"Limit",rules:[{required:!0,message:"Please select the package!"}],children:Object(_.jsx)(O.a,{showSearch:!0,placeholder:"Select Limit",optionFilterProp:"children",filterOption:function(e,t){return t.children.toLowerCase().indexOf(e.toLowerCase())>=0},loading:s.package,allowClear:!0,children:C.a.map(p,(function(e){var t=e.id,n=e.code;return Object(_.jsx)(O.a.Option,{value:t,children:n})}))})}),Object(_.jsx)(j.a.Item,{name:"date",label:"Period",rules:[{required:!0,message:"Please input period!"}],children:Object(_.jsx)(d.a.RangePicker,{style:{width:"100%"},disabledDate:function(e){return u&&e&&(R()(e).isBefore(R()().subtract(1,"day"))||R()(e).isAfter(R()(u).add(1,"day")))}})}),Object(_.jsx)(j.a.Item,{label:"Amount",name:"amount",rules:[{required:!0,message:"Please input amount!"}],children:Object(_.jsx)(o.a,{min:0})}),Object(_.jsx)(j.a.Item,{label:"Unlimited",valuePropName:"checked",name:"is_unlimited",children:Object(_.jsx)(i.a,{checkedChildren:"Unlimited",unCheckedChildren:"Limited"})})]}))})}}]),n}(T.a.Component);t.default=Object(E.c)((function(e){var t=e.addOn.status,n=t.created,a=t.edited,r=e.package.package;return{loading:{create:Object(U.isLoading)(e,w.ADD_ADD_ON),edit:Object(U.isLoading)(e,w.EDIT_ADD_ON)},created:n,edited:a,_package:r}}),{addAddOn:N.addAddOn,editAddOn:N.editAddOn,getPackage:P.getPackage})(G)},376:function(e,t,n){"use strict";n.r(t);n(107);var a=n(57),r=n.n(a),s=(n(1005),n(321)),i=n.n(s),c=(n(100),n(52)),o=n.n(c),l=(n(604),n(182)),d=n.n(l),u=(n(102),n(34)),j=n.n(u),p=(n(120),n(53)),O=n.n(p),b=(n(91),n(32)),h=n.n(b),m=(n(248),n(93)),f=n.n(m),g=(n(82),n(19)),x=n.n(g),v=n(35),y=n(36),S=n(38),_=n(37),I=n(2),T=n(0),E=n.n(T),A=n(40),C=n(20),k=n.n(C),R=n(27),U=n.n(R),N=n(42),P=n(5),w=n(103),D=n(178),G=n(495),L=n(172),M=n(502),F=function(e){Object(S.a)(n,e);var t=Object(_.a)(n);function n(){return Object(v.a)(this,n),t.apply(this,arguments)}return Object(y.a)(n,[{key:"componentDidMount",value:function(){this.props.getSubscriptionTimeline(this.props.subs)}},{key:"render",value:function(){var e=this.props,t=e.loading,n=e.timeline,a=e.subscription,s=a.start_date,c=a.end_date,l=a.package;return Object(I.jsx)(r.a,{spinning:t,children:Object(I.jsxs)(i.a,{style:{marginTop:8},children:[Object(I.jsx)(i.a.Item,{dot:Object(I.jsx)(G.a,{style:{fontSize:"16px"}}),color:"green",children:Object(I.jsxs)(h.a,{direction:"vertical",style:{width:"100%"},children:[Object(I.jsxs)(h.a,{children:[Object(I.jsxs)(x.a.Text,{children:["Subscription start (",U()(s).format("ll"),")"]}),U()().isSame(U()(s),"day")&&Object(I.jsx)(f.a,{color:"blue",children:"NOW"})]}),Object(I.jsxs)(o.a,{gutter:[16],children:[Object(I.jsx)(j.a,{flex:"400px",children:Object(I.jsx)(O.a,{className:"service-box",children:Object(I.jsx)(D.default,{package:l})})}),Object(I.jsx)(j.a,{flex:"auto",children:Object(I.jsx)(d.a,{itemLayout:"horizontal",dataSource:[],header:Object(I.jsxs)("div",{children:[Object(I.jsx)(L.a,{})," Add-ons"]}),renderItem:function(e){var t=e.limit,n=t.code,a=t.reset,r=e.amount,s=e.is_unlimited;return Object(I.jsxs)(d.a.Item,{children:[Object(I.jsx)(d.a.Item.Meta,{title:Object(I.jsx)(x.a.Text,{strong:!0,children:k.a.capitalize(n)}),description:a}),Object(I.jsx)("div",{children:s?Object(I.jsx)(x.a.Text,{strong:!0,type:"success",children:"Unlimited"}):r})]})}})})]})]})}),k.a.map(n,(function(e){var t=e.start_date,n=e.end_date,a=e.package,r=e.addOns;return Object(I.jsx)(i.a.Item,{children:Object(I.jsxs)(h.a,{direction:"vertical",style:{width:"100%"},children:[Object(I.jsxs)(h.a,{children:[Object(I.jsx)(x.a.Text,{children:U()(t).isSame(U()(n),"day")?U()(t).format("ll"):U()(t).format("ll")+" - "+U()(n).format("ll")}),U()().isBetween(U()(t),U()(n),"day","[]")&&Object(I.jsx)(f.a,{color:"blue",children:"NOW"})]}),Object(I.jsxs)(o.a,{gutter:[16],children:[Object(I.jsx)(j.a,{flex:"400px",children:Object(I.jsx)(O.a,{className:"service-box",children:Object(I.jsx)(D.default,{package:a})})}),Object(I.jsx)(j.a,{flex:"auto",children:Object(I.jsx)(d.a,{itemLayout:"horizontal",dataSource:r,header:Object(I.jsxs)("div",{children:[Object(I.jsx)(L.a,{})," Add-ons"]}),renderItem:function(e){var t=e.limit,n=t.code,a=t.reset,r=e.amount,s=e.is_unlimited;return Object(I.jsxs)(d.a.Item,{children:[Object(I.jsx)(d.a.Item.Meta,{title:Object(I.jsx)(x.a.Text,{strong:!0,children:k.a.capitalize(n)}),description:a}),Object(I.jsx)("div",{children:s?Object(I.jsx)(x.a.Text,{strong:!0,type:"success",children:"Unlimited"}):"+"+r})]})}})})]})]})})})),Object(I.jsx)(i.a.Item,{dot:Object(I.jsx)(M.a,{style:{fontSize:"16px"}}),color:"grey",children:Object(I.jsxs)(h.a,{children:[Object(I.jsxs)(x.a.Text,{children:["Subscription end (",U()(c).format("ll"),")"]}),U()().isSame(U()(c),"day")&&Object(I.jsx)(f.a,{color:"blue",children:"NOW"})]})})]})})}}]),n}(E.a.Component);t.default=Object(A.c)((function(e){var t=e.subscription,n=t.subscription,a=t.timeline;return{loading:Object(N.isLoading)(e,P.GET_SUBSCRIPTION_TIMELINE),subscription:n,timeline:a}}),{getSubscriptionTimeline:w.getSubscriptionTimeline})(F)},377:function(e,t,n){"use strict";n.r(t);n(107);var a=n(57),r=n.n(a),s=(n(91),n(32)),i=n.n(s),c=(n(174),n(65)),o=n.n(c),l=n(226),d=(n(176),n(73)),u=n.n(d),j=(n(82),n(19)),p=n.n(j),O=n(9),b=n(79),h=n(66),m=n(35),f=n(36),g=n(38),x=n(37),v=n(2),y=n(0),S=n.n(y),_=n(40),I=n(20),T=n.n(I),E=n(27),A=n.n(E),C=n(42),k=n(5),R=n(103),U=n(172),N=function(e){Object(g.a)(n,e);var t=Object(x.a)(n);function n(){var e;Object(m.a)(this,n);for(var a=arguments.length,r=new Array(a),s=0;s<a;s++)r[s]=arguments[s];return(e=t.call.apply(t,[this].concat(r))).handleDateChange=function(t){var n=T.a.split(t,";"),a=Object(h.a)(n,2),r=a[0],s=a[1];e.props.getSubscriptionDailyUsage(e.props.subs,{start:r,end:s})},e}return Object(f.a)(n,[{key:"componentDidMount",value:function(){this.props.getSubscriptionDailyUsage(this.props.subs)}},{key:"render",value:function(){var e=this.props,t=e.loading,n=e.dailyUsage,a=n.periods?n.periods:[],s=n.columns?n.columns:[],c=n.data?n.data:[],d=function(e){var t=Object(h.a)(e,2),n=t[0],a=t[1];return A()(n).format("YYYY-MM-DD")+";"+A()(a).format("YYYY-MM-DD")},j=[{title:"Date",dataIndex:"date",key:"date",sorter:function(e,t){return A()(e.date)-A()(t.date)},defaultSortOrder:"descend",render:function(e){return e?A()(e).format("LL"):null}}],m=T.a.map(s,(function(e){var t=e.key,n=Object(b.a)(e,["key"]);return Object(O.a)(Object(O.a)({},n),{},{key:t,sorter:function(e,n){return e[t]-n[t]},render:function(e){return e?Object(v.jsx)(p.a.Text,{mark:!0,children:e}):e}})})),f=T.a.find(a,(function(e){var t=Object(h.a)(e,2),n=t[0],a=t[1];return A()().isBetween(A()(n),A()(a),"day","[]")}))?T.a.find(a,(function(e){var t=Object(h.a)(e,2),n=t[0],a=t[1];return A()().isBetween(A()(n),A()(a),"day","[]")})):T.a.last(a);return Object(v.jsx)(r.a,{spinning:t,children:Object(v.jsxs)(i.a,{direction:"vertical",style:{width:"100%"},children:[a.length&&Object(v.jsx)(u.a,{showSearch:!0,defaultValue:d(f),onChange:this.handleDateChange,loading:t,style:{float:"right"},children:T.a.map(a,(function(e){var t=Object(h.a)(e,2),n=t[0],a=t[1];return Object(v.jsxs)(u.a.Option,{value:d([n,a]),children:[A()(n).format("DD MMMM YYYY")," - ",A()(a).format("DD MMMM YYYY")]})}))}),Object(v.jsx)(o.a,{columns:[].concat(j,Object(l.a)(m)),dataSource:c,pagination:!1,style:{scrollBehavior:"smooth"},summary:function(e){return Object(v.jsxs)(o.a.Summary.Row,{id:"summary",children:[Object(v.jsx)(o.a.Summary.Cell,{children:Object(v.jsx)(p.a.Text,{strong:!0,children:"Total Usage"})}),T.a.map(s,(function(t){var n=t.dataIndex,a=t._limit,r=t._addOn,s=function(){return r?Object(v.jsx)(U.a,{}):null};return"unlimited"===a?Object(v.jsx)(o.a.Summary.Cell,{children:Object(v.jsxs)(p.a.Text,{strong:!0,type:"success",children:[T.a.sumBy(e,n)," / ",a," ",s()]})}):parseInt(a)?Object(v.jsx)(o.a.Summary.Cell,{children:Object(v.jsxs)(p.a.Text,{strong:!0,children:[T.a.sumBy(e,n)," / ",a," ",s()]})}):T.a.isNull(a)?Object(v.jsx)(o.a.Summary.Cell,{children:Object(v.jsx)(p.a.Text,{strong:!0,type:"danger",children:"Locked"})}):Object(v.jsx)(o.a.Summary.Cell,{})}))]})}})]})})}}]),n}(S.a.Component);t.default=Object(_.c)((function(e){var t=e.subscription,n=t.subscription,a=t.dailyUsage;return{loading:Object(C.isLoading)(e,k.GET_SUBSCRIPTION_DAILY_USAGE),subscription:n,dailyUsage:a}}),{getSubscriptionDailyUsage:R.getSubscriptionDailyUsage})(N)},378:function(e,t,n){"use strict";n.r(t);n(107);var a=n(57),r=n.n(a),s=(n(471),n(212)),i=n.n(s),c=(n(100),n(52)),o=n.n(c),l=(n(215),n(129)),d=n.n(l),u=(n(102),n(34)),j=n.n(u),p=(n(176),n(73)),O=n.n(p),b=(n(91),n(32)),h=n.n(b),m=(n(472),n(76)),f=n.n(m),g=(n(82),n(19)),x=n.n(g),v=(n(343),n(126)),y=n.n(v),S=n(66),_=n(35),I=n(36),T=n(38),E=n(37),A=n(2),C=n(0),k=n.n(C),R=n(40),U=n(20),N=n.n(U),P=n(27),w=n.n(P),D=(n(606),n(42)),G=n(5),L=n(103),M=n(172),F=n(68),B=n(379),Y=function(e){Object(T.a)(n,e);var t=Object(E.a)(n);function n(){var e;Object(_.a)(this,n);for(var a=arguments.length,r=new Array(a),s=0;s<a;s++)r[s]=arguments[s];return(e=t.call.apply(t,[this].concat(r))).handleDateChange=function(t){var n=N.a.split(t,";"),a=Object(S.a)(n,2),r=a[0],s=a[1];e.props.getSubscriptionQuota(e.props.subs,{start:r,end:s})},e.renderLimit=function(e,t,n,a){return e?Object(A.jsx)(y.a,{title:"Limit",value:"\u221e",suffix:a.length?Object(A.jsx)(M.a,{}):null,valueStyle:{color:F.green.primary}}):N.a.isNull(t)?Object(A.jsx)(y.a,{title:"Limit",value:"Locked",valueStyle:{color:F.red.primary}}):Object(A.jsxs)(A.Fragment,{children:[Object(A.jsx)(y.a,{title:"Limit",value:t,suffix:a.length?Object(A.jsx)(M.a,{}):null}),n&&"never"!==n&&Object(A.jsx)(x.a.Text,{type:"secondary",children:n})]})},e.renderMiniProgress=function(e,t,n){if(e)return Object(A.jsxs)(h.a,{children:[Object(A.jsx)(x.a.Text,{strong:!0,type:"success",children:"Unlimited"}),Object(A.jsx)("div",{style:{width:170},children:Object(A.jsx)(f.a,{percent:100})})]});if(N.a.isNull(t))return Object(A.jsxs)(h.a,{children:[Object(A.jsx)(x.a.Text,{strong:!0,type:"danger",children:"Locked"}),Object(A.jsx)("div",{style:{width:170},children:Object(A.jsx)(f.a,{percent:100,status:"exception"})})]});var a=n/t*100;return a>=100?Object(A.jsxs)(h.a,{children:[Object(A.jsx)(x.a.Text,{strong:!0,type:"danger",children:"Limit Reached"}),Object(A.jsx)("div",{style:{width:170},children:Object(A.jsx)(f.a,{percent:100,status:"exception"})})]}):a>=95?Object(A.jsx)("div",{style:{width:170},children:Object(A.jsx)(f.a,{percent:Math.round(a),strokeColor:{"0%":F.red.primary,"100%":F.red.primary}})}):a>=80?Object(A.jsx)("div",{style:{width:170},children:Object(A.jsx)(f.a,{percent:Math.round(a),strokeColor:{"0%":F.orange.primary,"100%":F.orange.primary}})}):Object(A.jsx)("div",{style:{width:170},children:Object(A.jsx)(f.a,{percent:Math.round(a)})})},e.renderProgress=function(e,t,n){if(e)return Object(A.jsx)(f.a,{type:"circle",percent:100,format:function(){return"\u221e"}});if(N.a.isNull(t))return Object(A.jsx)(f.a,{type:"circle",percent:100,status:"exception",format:function(){return"Locked"}});var a=n/t*100;return a>=100?Object(A.jsx)(f.a,{type:"circle",percent:100,status:"exception",format:function(){return"Reached"}}):a>=95?Object(A.jsx)(f.a,{type:"circle",percent:Math.round(a),strokeColor:{"0%":F.red.primary,"100%":F.red.primary}}):a>=80?Object(A.jsx)(f.a,{type:"circle",percent:Math.round(a),strokeColor:{"0%":F.orange.primary,"100%":F.orange.primary}}):Object(A.jsx)(f.a,{type:"circle",percent:Math.round(a)})},e}return Object(I.a)(n,[{key:"componentDidMount",value:function(){this.props.getSubscriptionQuota(this.props.subs)}},{key:"render",value:function(){var e=this,t=this.props,n=t.loading,a=t.quota,s=a.periods?a.periods:[],c=a.quotas?a.quotas:[],l=function(e){var t=Object(S.a)(e,2),n=t[0],a=t[1];return w()(n).format("YYYY-MM-DD")+";"+w()(a).format("YYYY-MM-DD")},u=N.a.find(s,(function(e){var t=Object(S.a)(e,2),n=t[0],a=t[1];return w()().isBetween(w()(n),w()(a),"day","[]")}))?N.a.find(s,(function(e){var t=Object(S.a)(e,2),n=t[0],a=t[1];return w()().isBetween(w()(n),w()(a),"day","[]")})):N.a.last(s);return Object(A.jsx)(r.a,{spinning:n,children:Object(A.jsxs)(h.a,{direction:"vertical",style:{width:"100%"},children:[s.length&&Object(A.jsx)(O.a,{showSearch:!0,defaultValue:l(u),onChange:this.handleDateChange,loading:n,style:{float:"right"},children:N.a.map(s,(function(e){var t=Object(S.a)(e,2),n=t[0],a=t[1];return Object(A.jsxs)(O.a.Option,{value:l([n,a]),children:[w()(n).format("DD MMMM YYYY")," - ",w()(a).format("DD MMMM YYYY")]})}))}),Object(A.jsx)(i.a,{accordion:!0,defaultActiveKey:["1"],bordered:!1,className:"site-collapse-custom-collapse",children:N.a.map(c,(function(t,n){t.id;var a=t.code,r=t.usage,s=t.limit,c=t.reset,l=t.is_unlimited,u=t.chart,p=t.addOns;return Object(A.jsx)(i.a.Panel,{header:Object(A.jsx)(x.a.Text,{children:N.a.capitalize(a)}),extra:e.renderMiniProgress(l,s,N.a.sumBy(u,"usages")),className:"site-collapse-custom-panel",children:Object(A.jsxs)(o.a,{gutter:[16,24],children:[Object(A.jsx)(j.a,{span:6,children:Object(A.jsxs)(o.a,{gutter:[16,24],children:[Object(A.jsx)(j.a,{span:11,children:Object(A.jsx)(y.a,{title:"Usage",value:r})}),Object(A.jsx)(j.a,{span:2,children:Object(A.jsx)(d.a,{type:"vertical",style:{height:"100%"}})}),Object(A.jsx)(j.a,{span:11,children:e.renderLimit(l,s,c,p)}),Object(A.jsx)(j.a,{span:24,style:{padding:"45px 8px"},children:Object(A.jsx)(h.a,{direction:"horizontal",style:{width:"100%",justifyContent:"center"},children:e.renderProgress(l,s,N.a.sumBy(u,"usages"))})})]})}),Object(A.jsx)(j.a,{span:18,children:Object(A.jsx)(B.default,{identifier:"usage-chart-".concat(n),data:u})})]})},n+1+"")}))})]})})}}]),n}(k.a.Component);t.default=Object(R.c)((function(e){var t=e.subscription,n=t.subscription,a=t.quota;return{loading:Object(D.isLoading)(e,G.GET_SUBSCRIPTION_QUOTA),subscription:n,quota:a}}),{getSubscriptionQuota:L.getSubscriptionQuota})(Y)},379:function(e,t,n){"use strict";n.r(t);var a=n(35),r=n(36),s=n(38),i=n(37),c=n(2),o=n(0),l=n.n(o),d=n(157),u=n(132),j=n(290);n(27),n(20);d.d(j.a);var p=function(e){Object(s.a)(n,e);var t=Object(i.a)(n);function n(){var e;Object(a.a)(this,n);for(var r=arguments.length,s=new Array(r),i=0;i<r;i++)s[i]=arguments[i];return(e=t.call.apply(t,[this].concat(s))).createDateArray=function(e,t){for(var n=[],a=e;a<=t;)n.push(a.toDate()),a=a.clone().add(1,"day");return n},e}return Object(r.a)(n,[{key:"componentDidMount",value:function(){this.renderChart()}},{key:"componentDidUpdate",value:function(e,t,n){this.chart&&this.chart.dispose(),this.renderChart()}},{key:"componentWillUnmount",value:function(){this.chart&&this.chart.dispose()}},{key:"renderChart",value:function(){var e=this.props,t=e.identifier,n=e.data,a=d.c(t,u.d);a.data=n;var r=a.xAxes.push(new u.a);r.startLocation=.5,r.endLocation=.5,a.yAxes.push(new u.c).min=0;var s=a.series.push(new u.b);s.dataFields.valueY="usages",s.dataFields.dateX="date",s.strokeWidth=3,s.tooltipText="{valueY.value}",s.fillOpacity=.1,a.cursor=new u.e,a.cursor.xAxis=r,a.scrollbarX=new d.a,s.tooltip.getFillFromObject=!1,s.tooltip.adapter.add("x",(function(e,t){return s.tooltip.tooltipDataItem.valueY<0?s.tooltip.background.fill=a.colors.getIndex(4):s.tooltip.background.fill=a.colors.getIndex(0),e})),this.chart=a}},{key:"render",value:function(){var e=this.props.identifier;return Object(c.jsx)("div",{id:e,style:{width:"100%",height:"300px"}})}}]),n}(l.a.Component);t.default=p},396:function(e,t,n){"use strict";n.r(t);n(91);var a=n(32),r=n.n(a),s=(n(301),n(140)),i=n.n(s),c=(n(100),n(52)),o=n.n(c),l=(n(174),n(65)),d=n.n(l),u=(n(102),n(34)),j=n.n(u),p=(n(232),n(151)),O=n.n(p),b=(n(120),n(53)),h=n.n(b),m=(n(107),n(57)),f=n.n(m),g=(n(176),n(73)),x=n.n(g),v=(n(82),n(19)),y=n.n(v),S=n(66),_=n(35),I=n(36),T=n(38),E=n(37),A=n(2),C=n(0),k=n.n(C),R=n(40),U=n(20),N=n.n(U),P=n(27),w=n.n(P),D=n(42),G=n(5),L=n(149),M=n(276),F=n(74),B=n(133),Y=n(245),V=n(293),q=n(319),H=n(159),K=n(108),W=n(397),z=n(398),Q=function(e){Object(T.a)(n,e);var t=Object(E.a)(n);function n(e){var a;return Object(_.a)(this,n),(a=t.call(this,e)).createDateRangeArray=function(e,t){for(var n=[],a=e;w()(a).isSameOrBefore(t,"month");)n.push([a.startOf("month").toDate(),a.endOf("month").toDate()]),a=a.clone().add(1,"month");return n},a.handleDateChange=function(e){var t=a.props.match.params,n=N.a.split(e,";"),r=Object(S.a)(n,2),s=r[0],i=r[1];a.setState({date:[w()(s),w()(i)]}),t.service&&a.props.getUsage(t.service,w()(s),w()(i))},a.state={date:[w()().startOf("month"),w()().endOf("month")],column:[{title:"Package",dataIndex:"package",key:"package",render:function(e){return e&&Object(A.jsx)(K.default,{name:e.name})}},{title:"Start Date",dataIndex:"start_date",key:"start_date",render:function(e){return e?w()(e).format("LL"):null}},{title:"End Date",dataIndex:"end_date",key:"end_date",render:function(e){return e?w()(e).format("LL"):null}},{title:"Status",dataIndex:"status",key:"status",render:function(e){return e&&Object(A.jsx)(H.default,{status:e})}}]},a}return Object(I.a)(n,[{key:"componentDidMount",value:function(){var e=this.props.match.params;e.service&&this.props.getUsage(e.service)}},{key:"componentWillUnmount",value:function(){this.props.onResetDataState()}},{key:"render",value:function(){var e=this.props,t=e.loading,n=e.service,a=this.state,s=a.date,c=a.column,l=function(e){var t=Object(S.a)(e,2),n=t[0],a=t[1];return w()(n).format("YYYY-MM-DD")+";"+w()(a).format("YYYY-MM-DD")},u=n&&n.subscription?this.createDateRangeArray(w()(n.subscription.start_date),w()()):[s];return Object(A.jsxs)(r.a,{direction:"vertical",size:"middle",style:{width:"100%"},children:[Object(A.jsx)(y.a.Title,{level:4,children:"Service Usage"}),Object(A.jsx)(h.a,{bordered:!1,title:"Period",bodyStyle:{padding:0},extra:[Object(A.jsx)(f.a,{spinning:t,children:Object(A.jsx)(x.a,{showSearch:!0,defaultValue:l(s),onChange:this.handleDateChange,loading:t,children:N.a.map(u,(function(e){var t=Object(S.a)(e,2),n=t[0],a=t[1];return Object(A.jsx)(x.a.Option,{value:l([n,a]),children:w()().isBetween(n,a)?"This month":w()(n).format("MMMM YYYY")})}))})})]}),Object(A.jsxs)(o.a,{gutter:[16],children:[Object(A.jsx)(j.a,{span:6,children:Object(A.jsx)(f.a,{spinning:t,children:Object(A.jsx)(h.a,{bordered:!1,title:"Service Information",actions:[Object(A.jsx)(y.a.Link,{href:"/app/api-market/".concat(n?n.id:""),target:"_blank",children:Object(A.jsx)(Y.a,{})})],bodyStyle:{minHeight:120},children:n&&Object(A.jsx)(h.a.Meta,{avatar:Object(A.jsx)(O.a,{style:{color:"#f56a00",backgroundColor:"#fde3cf"},icon:Object(A.jsx)(B.a,{type:n.icon})}),title:n.name,description:n.service_group.name})})})}),Object(A.jsx)(j.a,{span:6,children:Object(A.jsx)(h.a,{bordered:!1,title:"Customer",bodyStyle:{minHeight:168},children:Object(A.jsx)(f.a,{spinning:t,children:n&&Object(A.jsx)(h.a.Meta,{avatar:Object(A.jsx)(L.default,{only:!0,name:n.user.fullname}),title:Object(A.jsxs)(A.Fragment,{children:[n.user.fullname,Object(A.jsx)("br",{}),Object(A.jsx)(y.a.Text,{type:"secondary",children:n.user.email})]}),description:"ID : "+n.user.mysights_id})})})}),Object(A.jsx)(j.a,{span:12,children:Object(A.jsx)(h.a,{bordered:!1,title:"Subscription",children:Object(A.jsx)(f.a,{spinning:t,children:n&&Object(A.jsx)(d.a,{columns:c,dataSource:n.subscriptions,pagination:!1,size:"small"})})})})]}),Object(A.jsx)(h.a,{bordered:!1,children:Object(A.jsx)(f.a,{spinning:t,children:n&&Object(A.jsxs)(i.a,{defaultActiveKey:"1",children:[Object(A.jsx)(i.a.TabPane,{tab:Object(A.jsxs)("span",{children:[Object(A.jsx)(V.a,{})," Quota"]}),children:Object(A.jsx)(z.default,{period:s})},"1"),Object(A.jsx)(i.a.TabPane,{tab:Object(A.jsxs)("span",{children:[Object(A.jsx)(q.a,{})," Daily Usage"]}),children:Object(A.jsx)(W.default,{period:s})},"2")]})})})]})}}]),n}(k.a.Component);t.default=Object(R.c)((function(e){var t=e.usage.service;return{loading:Object(D.isLoading)(e,G.GET_USAGE),service:t}}),{getUsage:M.getUsage,onResetDataState:F.onResetDataState})(Q)},397:function(e,t,n){"use strict";n.r(t);n(174);var a=n(65),r=n.n(a),s=n(226),i=(n(345),n(101)),c=n.n(i),o=(n(89),n(45)),l=n.n(o),d=n(9),u=(n(82),n(19)),j=n.n(u),p=(n(91),n(32)),O=n.n(p),b=n(79),h=n(66),m=n(35),f=n(36),g=n(38),x=n(37),v=n(2),y=n(0),S=n.n(y),_=n(40),I=n(20),T=n.n(I),E=n(27),A=n.n(E),C=n(108),k=function(e){Object(g.a)(n,e);var t=Object(x.a)(n);function n(){var e;Object(m.a)(this,n);for(var a=arguments.length,r=new Array(a),s=0;s<a;s++)r[s]=arguments[s];return(e=t.call.apply(t,[this].concat(r))).createDateArray=function(e,t){for(var n=[],a=e;a<=t;)n.push(a.toDate()),a=a.clone().add(1,"day");return n},e}return Object(f.a)(n,[{key:"render",value:function(){var e=this.props,t=e.service,n=e.period,a=Object(h.a)(n,2),i=a[0],o=a[1],u=[{title:"Date",dataIndex:"date",key:"date",sorter:function(e,t){return e.date-t.date},defaultSortOrder:"descend",render:function(e){return e?A()(e).format("LL"):null}}],p=T()(t.subscriptions).map((function(e){var t=e.package,n=Object(b.a)(e,["package"]);return T.a.map(t.limits,(function(e){var a=e.id,r=e.code,s=e.limit,i=e.is_unlimited,c="".concat(n.id,"-").concat(a,"-").concat(r);return{title:function(){return Object(v.jsxs)(O.a,{children:[T.a.capitalize(r),Object(v.jsx)(C.default,{name:t.name})]})},dataIndex:c,key:c,sorter:function(e,t){return e[c]-t[c]},render:function(e){return e?Object(v.jsx)(j.a.Text,{mark:!0,children:e}):e},_limit:i?"unlimited":s}}))})).flatten().value(),m=T.a.map(this.createDateArray(i,A()().isSameOrAfter(o)?o:A()()),(function(e){var n=T.a.map(p,(function(n){var a=n.key,r=T.a.split(a,"-"),s=Object(h.a)(r,2),i=s[0],c=s[1],o=T.a.find(t.subscriptions,{id:parseInt(i)}),l=T.a.find(o.package.limits,{id:parseInt(c)}),d=T.a.filter(l.usages,(function(t){var n=t.request_timestamp;return A()(n).isSame(e,"date")}));return{key:a,value:T.a.sumBy(d,"amount")}}));return Object(d.a)({date:e},T()(n).keyBy("key").mapValues("value").value())}));return Object(v.jsxs)(O.a,{direction:"vertical",style:{width:"100%"},children:[Object(v.jsx)(c.a,{affix:!1,style:{float:"right"},children:Object(v.jsx)(c.a.Link,{href:"#summary",title:Object(v.jsx)(l.a,{type:"primary",children:"Total"})})}),Object(v.jsx)(r.a,{columns:[].concat(u,Object(s.a)(p)),dataSource:m,pagination:!1,style:{scrollBehavior:"smooth"},summary:function(e){return Object(v.jsxs)(r.a.Summary.Row,{id:"summary",children:[Object(v.jsx)(r.a.Summary.Cell,{children:Object(v.jsx)(j.a.Text,{strong:!0,children:"Total Usage"})}),T.a.map(p,(function(t){var n=t.dataIndex,a=t._limit;return"unlimited"===a?Object(v.jsx)(r.a.Summary.Cell,{children:Object(v.jsxs)(j.a.Text,{strong:!0,type:"success",children:[T.a.sumBy(e,n)," / ",a]})}):parseInt(a)?Object(v.jsx)(r.a.Summary.Cell,{children:Object(v.jsxs)(j.a.Text,{strong:!0,children:[T.a.sumBy(e,n)," / ",a]})}):T.a.isNull(a)?Object(v.jsx)(r.a.Summary.Cell,{children:Object(v.jsx)(j.a.Text,{strong:!0,type:"danger",children:"Locked"})}):Object(v.jsx)(r.a.Summary.Cell,{})}))]})}})]})}}]),n}(S.a.Component);t.default=Object(_.c)((function(e){return{service:e.usage.service}}),{})(k)},398:function(e,t,n){"use strict";n.r(t);n(471);var a=n(212),r=n.n(a),s=(n(100),n(52)),i=n.n(s),c=(n(215),n(129)),o=n.n(c),l=(n(102),n(34)),d=n.n(l),u=n(9),j=n(79),p=n(66),O=(n(91),n(32)),b=n.n(O),h=(n(472),n(76)),m=n.n(h),f=(n(82),n(19)),g=n.n(f),x=(n(343),n(126)),v=n.n(x),y=n(35),S=n(36),_=n(38),I=n(37),T=n(2),E=n(0),A=n.n(E),C=n(40),k=n(20),R=n.n(k),U=(n(608),n(68)),N=n(108),P=n(399),w=function(e){Object(_.a)(n,e);var t=Object(I.a)(n);function n(){var e;Object(y.a)(this,n);for(var a=arguments.length,r=new Array(a),s=0;s<a;s++)r[s]=arguments[s];return(e=t.call.apply(t,[this].concat(r))).renderLimit=function(e,t,n){return e?Object(T.jsx)(v.a,{title:"Limit",value:"Unlimited",valueStyle:{color:U.green.primary}}):R.a.isNull(t)?Object(T.jsx)(v.a,{title:"Limit",value:"Locked",valueStyle:{color:U.red.primary}}):Object(T.jsxs)(T.Fragment,{children:[Object(T.jsx)(v.a,{title:"Limit",value:t}),n&&"never"!==n&&Object(T.jsx)(g.a.Text,{type:"secondary",children:n})]})},e.renderMiniProgress=function(e,t,n){if(e)return Object(T.jsxs)(b.a,{children:[Object(T.jsx)(g.a.Text,{strong:!0,type:"success",children:"Unlimited"}),Object(T.jsx)("div",{style:{width:170},children:Object(T.jsx)(m.a,{percent:100})})]});if(R.a.isNull(t))return Object(T.jsxs)(b.a,{children:[Object(T.jsx)(g.a.Text,{strong:!0,type:"danger",children:"Locked"}),Object(T.jsx)("div",{style:{width:170},children:Object(T.jsx)(m.a,{percent:100,status:"exception"})})]});var a=n/t*100;return a>=100?Object(T.jsxs)(b.a,{children:[Object(T.jsx)(g.a.Text,{strong:!0,type:"danger",children:"Limit Reached"}),Object(T.jsx)("div",{style:{width:170},children:Object(T.jsx)(m.a,{percent:100,status:"exception"})})]}):a>=95?Object(T.jsx)("div",{style:{width:170},children:Object(T.jsx)(m.a,{percent:Math.round(a),strokeColor:{"0%":U.red.primary,"100%":U.red.primary}})}):a>=80?Object(T.jsx)("div",{style:{width:170},children:Object(T.jsx)(m.a,{percent:Math.round(a),strokeColor:{"0%":U.orange.primary,"100%":U.orange.primary}})}):Object(T.jsx)("div",{style:{width:170},children:Object(T.jsx)(m.a,{percent:Math.round(a)})})},e.renderProgress=function(e,t,n){if(e)return Object(T.jsx)(m.a,{type:"circle",percent:100,format:function(){return"Unlimited"}});if(R.a.isNull(t))return Object(T.jsx)(m.a,{type:"circle",percent:100,status:"exception",format:function(){return"Locked"}});var a=n/t*100;return a>=100?Object(T.jsx)(m.a,{type:"circle",percent:100,status:"exception",format:function(){return"Reached"}}):a>=95?Object(T.jsx)(m.a,{type:"circle",percent:Math.round(a),strokeColor:{"0%":U.red.primary,"100%":U.red.primary}}):a>=80?Object(T.jsx)(m.a,{type:"circle",percent:Math.round(a),strokeColor:{"0%":U.orange.primary,"100%":U.orange.primary}}):Object(T.jsx)(m.a,{type:"circle",percent:Math.round(a)})},e}return Object(S.a)(n,[{key:"render",value:function(){var e=this,t=this.props,n=t.service,a=t.period,s=Object(p.a)(a,2),c=s[0],l=s[1],O=R()(n.subscriptions).map((function(e){var t=e.package;Object(j.a)(e,["package"]);return R.a.map(t.limits,(function(e){return Object(u.a)(Object(u.a)({},e),{},{package:t.name})}))})).flatten().value();return Object(T.jsx)(r.a,{accordion:!0,defaultActiveKey:["1"],bordered:!1,className:"site-collapse-custom-collapse",children:R.a.map(O,(function(t,n){t.id;var a=t.code,s=t.limit,u=t.reset,j=t.is_unlimited,p=t.usages,O=t.package;return Object(T.jsx)(r.a.Panel,{header:Object(T.jsxs)(b.a,{children:[Object(T.jsx)(g.a.Text,{children:R.a.capitalize(a)}),Object(T.jsx)(N.default,{name:O})]}),extra:e.renderMiniProgress(j,s,R.a.sumBy(p,"amount")),className:"site-collapse-custom-panel",children:Object(T.jsxs)(i.a,{gutter:[16,24],children:[Object(T.jsx)(d.a,{span:6,children:Object(T.jsxs)(i.a,{gutter:[16,24],children:[Object(T.jsx)(d.a,{span:11,children:Object(T.jsx)(v.a,{title:"Usage",value:R.a.sumBy(p,"amount")})}),Object(T.jsx)(d.a,{span:2,children:Object(T.jsx)(o.a,{type:"vertical",style:{height:"100%"}})}),Object(T.jsx)(d.a,{span:11,children:e.renderLimit(j,s,u)}),Object(T.jsx)(d.a,{span:24,style:{padding:"45px 8px"},children:Object(T.jsx)(b.a,{direction:"horizontal",style:{width:"100%",justifyContent:"center"},children:e.renderProgress(j,s,R.a.sumBy(p,"amount"))})})]})}),Object(T.jsx)(d.a,{span:18,children:Object(T.jsx)(P.default,{identifier:"usage-chart-".concat(n),data:p,start:c,end:l,limit:j?null:s||0})})]})},n+1+"")}))})}}]),n}(A.a.Component);t.default=Object(C.c)((function(e){return{service:e.usage.service}}),{})(w)},399:function(e,t,n){"use strict";n.r(t);var a=n(35),r=n(36),s=n(38),i=n(37),c=n(2),o=n(0),l=n.n(o),d=n(157),u=n(132),j=n(290),p=n(27),O=n.n(p),b=n(20),h=n.n(b);d.d(j.a);var m=function(e){Object(s.a)(n,e);var t=Object(i.a)(n);function n(){var e;Object(a.a)(this,n);for(var r=arguments.length,s=new Array(r),i=0;i<r;i++)s[i]=arguments[i];return(e=t.call.apply(t,[this].concat(s))).createDateArray=function(e,t){for(var n=[],a=e;a<=t;)n.push(a.toDate()),a=a.clone().add(1,"day");return n},e}return Object(r.a)(n,[{key:"componentDidMount",value:function(){this.renderChart()}},{key:"componentDidUpdate",value:function(e,t,n){this.chart&&this.chart.dispose(),this.renderChart()}},{key:"componentWillUnmount",value:function(){this.chart&&this.chart.dispose()}},{key:"renderChart",value:function(){var e=this.props,t=e.identifier,n=e.data,a=e.limit,r=e.start,s=e.end,i=d.c(t,u.d);i.data=h.a.map(this.createDateArray(r,s),(function(e){var t=h.a.filter(n,(function(t){var n=t.request_timestamp;return O()(n).isSame(e,"date")}));return{date:e,usages:h.a.sumBy(t,"amount")}}));var c=i.xAxes.push(new u.a);c.startLocation=.5,c.endLocation=.5;var o=i.yAxes.push(new u.c);o.min=0,h.a.isNull(a)||(o.max=a);var l=i.series.push(new u.b);if(l.dataFields.valueY="usages",l.dataFields.dateX="date",l.strokeWidth=3,l.tooltipText="{valueY.value}",l.fillOpacity=.1,i.cursor=new u.e,i.cursor.xAxis=c,i.scrollbarX=new d.a,l.tooltip.getFillFromObject=!1,l.tooltip.adapter.add("x",(function(e,t){return l.tooltip.tooltipDataItem.valueY<0?l.tooltip.background.fill=i.colors.getIndex(4):l.tooltip.background.fill=i.colors.getIndex(0),e})),!h.a.isNull(a)){var j=o.axisRanges.create();j.value=a,j.grid.stroke=d.b("#396478"),j.grid.strokeWidth=1,j.grid.strokeOpacity=1,j.grid.strokeDasharray="3,3",j.label.inside=!0,j.label.text="Limit",j.label.fill=j.grid.stroke,j.label.verticalCenter="top"}this.chart=i}},{key:"render",value:function(){var e=this.props.identifier;return Object(c.jsx)("div",{id:e,style:{width:"100%",height:"300px"}})}}]),n}(l.a.Component);t.default=m},400:function(e,t,n){"use strict";n.r(t);n(91);var a=n(32),r=n.n(a),s=(n(107),n(57)),i=n.n(s),c=(n(100),n(52)),o=n.n(c),l=(n(175),n(87)),d=n.n(l),u=(n(102),n(34)),j=n.n(u),p=(n(120),n(53)),O=n.n(p),b=(n(232),n(151)),h=n.n(b),m=(n(148),n(83)),f=n.n(m),g=(n(82),n(19)),x=n.n(g),v=n(35),y=n(36),S=n(38),_=n(37),I=n(2),T=n(0),E=n.n(T),A=n(40),C=n(20),k=n.n(C),R=n(42),U=n(5),N=n(105),P=n(74),w=n(133),D=n(434),G=(n(609),function(e){Object(S.a)(n,e);var t=Object(_.a)(n);function n(){return Object(v.a)(this,n),t.apply(this,arguments)}return Object(y.a)(n,[{key:"componentDidMount",value:function(){this.props.getSubscribedService()}},{key:"componentWillUnmount",value:function(){this.props.onResetDataState()}},{key:"render",value:function(){var e=this.props,t=e.loading,n=e.services,a=e.history,s=e.match;return Object(I.jsxs)(r.a,{direction:"vertical",style:{width:"100%"},children:[Object(I.jsx)(x.a.Title,{level:4,children:"Subscription & Usage"}),Object(I.jsx)(O.a,{bordered:!1,title:"Subscribed Service",children:Object(I.jsx)(i.a,{spinning:t,children:Object(I.jsx)(o.a,{gutter:[16,24],children:n.length?k.a.map(n,(function(e){var t=e.code,n=e.icon,r=e.name,i=e.service_group;return Object(I.jsx)(j.a,{span:6,children:Object(I.jsx)("div",{children:Object(I.jsx)(O.a,{className:"service-box",actions:[Object(I.jsx)(f.a,{title:"See usages",children:Object(I.jsx)(D.a,{onClick:function(){return a.push("".concat(s.url,"/").concat(t))}})})],children:Object(I.jsx)(O.a.Meta,{avatar:Object(I.jsx)(h.a,{style:{color:"#f56a00",backgroundColor:"#fde3cf"},icon:Object(I.jsx)(w.a,{type:n})}),title:r,description:i?i.name:""})})})})})):Object(I.jsx)(j.a,{span:24,style:{margin:"24px 8px"},children:Object(I.jsx)(d.a,{})})})})})]})}}]),n}(E.a.Component));t.default=Object(A.c)((function(e){var t=e.service.services;return{loading:Object(R.isLoading)(e,U.GET_SUBSCRIBED_SERVICE),services:t}}),{getSubscribedService:N.getSubscribedService,onResetDataState:P.onResetDataState})(G)},401:function(e,t,n){"use strict";n.r(t);n(91);var a=n(32),r=n.n(a),s=(n(301),n(140)),i=n.n(s),c=(n(100),n(52)),o=n.n(c),l=(n(174),n(65)),d=n.n(l),u=(n(102),n(34)),j=n.n(u),p=(n(232),n(151)),O=n.n(p),b=(n(120),n(53)),h=n.n(b),m=(n(107),n(57)),f=n.n(m),g=(n(176),n(73)),x=n.n(g),v=(n(82),n(19)),y=n.n(v),S=n(66),_=n(35),I=n(36),T=n(38),E=n(37),A=n(2),C=n(0),k=n.n(C),R=n(40),U=n(20),N=n.n(U),P=n(27),w=n.n(P),D=n(42),G=n(5),L=n(149),M=n(276),F=n(74),B=n(133),Y=n(245),V=n(293),q=n(319),H=n(159),K=n(108),W=n(402),z=n(403),Q=function(e){Object(T.a)(n,e);var t=Object(E.a)(n);function n(e){var a;return Object(_.a)(this,n),(a=t.call(this,e)).createDateRangeArray=function(e,t){for(var n=[],a=e;w()(a).isSameOrBefore(t,"month");)n.push([a.startOf("month").toDate(),a.endOf("month").toDate()]),a=a.clone().add(1,"month");return n},a.handleDateChange=function(e){var t=a.props.match.params,n=N.a.split(e,";"),r=Object(S.a)(n,2),s=r[0],i=r[1];a.setState({date:[w()(s),w()(i)]}),t.service&&a.props.getServiceUsage(t.service,t.user,w()(s),w()(i))},a.state={date:[w()().startOf("month"),w()().endOf("month")],column:[{title:"Package",dataIndex:"package",key:"package",render:function(e){return e&&Object(A.jsx)(K.default,{name:e.name})}},{title:"Start Date",dataIndex:"start_date",key:"start_date",render:function(e){return e?w()(e).format("LL"):null}},{title:"End Date",dataIndex:"end_date",key:"end_date",render:function(e){return e?w()(e).format("LL"):null}},{title:"Status",dataIndex:"status",key:"status",render:function(e){return e&&Object(A.jsx)(H.default,{status:e})}}]},a}return Object(I.a)(n,[{key:"componentDidMount",value:function(){var e=this.props.match.params;e.service&&this.props.getServiceUsage(e.service,e.user)}},{key:"componentWillUnmount",value:function(){this.props.onResetDataState()}},{key:"render",value:function(){var e=this.props,t=e.loading,n=e.service,a=this.state,s=a.date,c=a.column,l=function(e){var t=Object(S.a)(e,2),n=t[0],a=t[1];return w()(n).format("YYYY-MM-DD")+";"+w()(a).format("YYYY-MM-DD")},u=n&&n.subscription?this.createDateRangeArray(w()(n.subscription.start_date),w()()):[s];return Object(A.jsxs)(r.a,{direction:"vertical",size:"middle",style:{width:"100%"},children:[Object(A.jsx)(y.a.Title,{level:4,children:"Service Usage"}),Object(A.jsx)(h.a,{bordered:!1,title:"Period",bodyStyle:{padding:0},extra:[Object(A.jsx)(f.a,{spinning:t,children:Object(A.jsx)(x.a,{showSearch:!0,defaultValue:l(s),onChange:this.handleDateChange,loading:t,children:N.a.map(u,(function(e){var t=Object(S.a)(e,2),n=t[0],a=t[1];return Object(A.jsx)(x.a.Option,{value:l([n,a]),children:w()().isBetween(n,a)?"This month":w()(n).format("MMMM YYYY")})}))})})]}),Object(A.jsxs)(o.a,{gutter:[16],children:[Object(A.jsx)(j.a,{span:6,children:Object(A.jsx)(f.a,{spinning:t,children:Object(A.jsx)(h.a,{bordered:!1,title:"Service Information",actions:[Object(A.jsx)(y.a.Link,{href:"/app/api-market/".concat(n?n.id:""),target:"_blank",children:Object(A.jsx)(Y.a,{})})],bodyStyle:{minHeight:120},children:n&&Object(A.jsx)(h.a.Meta,{avatar:Object(A.jsx)(O.a,{style:{color:"#f56a00",backgroundColor:"#fde3cf"},icon:Object(A.jsx)(B.a,{type:n.icon})}),title:n.name,description:n.service_group.name})})})}),Object(A.jsx)(j.a,{span:6,children:Object(A.jsx)(h.a,{bordered:!1,title:"Customer",bodyStyle:{minHeight:168},children:Object(A.jsx)(f.a,{spinning:t,children:n&&Object(A.jsx)(h.a.Meta,{avatar:Object(A.jsx)(L.default,{only:!0,name:n.user.fullname}),title:Object(A.jsxs)(A.Fragment,{children:[n.user.fullname,Object(A.jsx)("br",{}),Object(A.jsx)(y.a.Text,{type:"secondary",children:n.user.email})]}),description:"ID : "+n.user.mysights_id})})})}),Object(A.jsx)(j.a,{span:12,children:Object(A.jsx)(h.a,{bordered:!1,title:"Subscription",children:Object(A.jsx)(f.a,{spinning:t,children:n&&Object(A.jsx)(d.a,{columns:c,dataSource:n.subscriptions,pagination:!1,size:"small"})})})})]}),Object(A.jsx)(h.a,{bordered:!1,children:Object(A.jsx)(f.a,{spinning:t,children:n&&Object(A.jsxs)(i.a,{defaultActiveKey:"1",children:[Object(A.jsx)(i.a.TabPane,{tab:Object(A.jsxs)("span",{children:[Object(A.jsx)(V.a,{})," Quota"]}),children:Object(A.jsx)(z.default,{period:s})},"1"),Object(A.jsx)(i.a.TabPane,{tab:Object(A.jsxs)("span",{children:[Object(A.jsx)(q.a,{})," Daily Usage"]}),children:Object(A.jsx)(W.default,{period:s})},"2")]})})})]})}}]),n}(k.a.Component);t.default=Object(R.c)((function(e){var t=e.usage.service;return{loading:Object(D.isLoading)(e,G.GET_USAGE),service:t}}),{getServiceUsage:M.getServiceUsage,onResetDataState:F.onResetDataState})(Q)},402:function(e,t,n){"use strict";n.r(t);n(174);var a=n(65),r=n.n(a),s=n(226),i=(n(345),n(101)),c=n.n(i),o=(n(89),n(45)),l=n.n(o),d=n(9),u=(n(82),n(19)),j=n.n(u),p=(n(91),n(32)),O=n.n(p),b=n(79),h=n(66),m=n(35),f=n(36),g=n(38),x=n(37),v=n(2),y=n(0),S=n.n(y),_=n(40),I=n(20),T=n.n(I),E=n(27),A=n.n(E),C=n(108),k=function(e){Object(g.a)(n,e);var t=Object(x.a)(n);function n(){var e;Object(m.a)(this,n);for(var a=arguments.length,r=new Array(a),s=0;s<a;s++)r[s]=arguments[s];return(e=t.call.apply(t,[this].concat(r))).createDateArray=function(e,t){for(var n=[],a=e;a<=t;)n.push(a.toDate()),a=a.clone().add(1,"day");return n},e}return Object(f.a)(n,[{key:"render",value:function(){var e=this.props,t=e.service,n=e.period,a=Object(h.a)(n,2),i=a[0],o=a[1],u=[{title:"Date",dataIndex:"date",key:"date",sorter:function(e,t){return e.date-t.date},defaultSortOrder:"descend",render:function(e){return e?A()(e).format("LL"):null}}],p=T()(t.subscriptions).map((function(e){var t=e.package,n=Object(b.a)(e,["package"]);return T.a.map(t.limits,(function(e){var a=e.id,r=e.code,s=e.limit,i=e.is_unlimited,c="".concat(n.id,"-").concat(a,"-").concat(r);return{title:function(){return Object(v.jsxs)(O.a,{children:[T.a.capitalize(r),Object(v.jsx)(C.default,{name:t.name})]})},dataIndex:c,key:c,sorter:function(e,t){return e[c]-t[c]},render:function(e){return e?Object(v.jsx)(j.a.Text,{mark:!0,children:e}):e},_limit:i?"unlimited":s}}))})).flatten().value(),m=T.a.map(this.createDateArray(i,A()().isSameOrAfter(o)?o:A()()),(function(e){var n=T.a.map(p,(function(n){var a=n.key,r=T.a.split(a,"-"),s=Object(h.a)(r,2),i=s[0],c=s[1],o=T.a.find(t.subscriptions,{id:parseInt(i)}),l=T.a.find(o.package.limits,{id:parseInt(c)}),d=T.a.filter(l.usages,(function(t){var n=t.request_timestamp;return A()(n).isSame(e,"date")}));return{key:a,value:T.a.sumBy(d,"amount")}}));return Object(d.a)({date:e},T()(n).keyBy("key").mapValues("value").value())}));return Object(v.jsxs)(O.a,{direction:"vertical",style:{width:"100%"},children:[Object(v.jsx)(c.a,{affix:!1,style:{float:"right"},children:Object(v.jsx)(c.a.Link,{href:"#summary",title:Object(v.jsx)(l.a,{type:"primary",children:"Total"})})}),Object(v.jsx)(r.a,{columns:[].concat(u,Object(s.a)(p)),dataSource:m,pagination:!1,style:{scrollBehavior:"smooth"},summary:function(e){return Object(v.jsxs)(r.a.Summary.Row,{id:"summary",children:[Object(v.jsx)(r.a.Summary.Cell,{children:Object(v.jsx)(j.a.Text,{strong:!0,children:"Total Usage"})}),T.a.map(p,(function(t){var n=t.dataIndex,a=t._limit;return"unlimited"===a?Object(v.jsx)(r.a.Summary.Cell,{children:Object(v.jsxs)(j.a.Text,{strong:!0,type:"success",children:[T.a.sumBy(e,n)," / ",a]})}):parseInt(a)?Object(v.jsx)(r.a.Summary.Cell,{children:Object(v.jsxs)(j.a.Text,{strong:!0,children:[T.a.sumBy(e,n)," / ",a]})}):T.a.isNull(a)?Object(v.jsx)(r.a.Summary.Cell,{children:Object(v.jsx)(j.a.Text,{strong:!0,type:"danger",children:"Locked"})}):Object(v.jsx)(r.a.Summary.Cell,{})}))]})}})]})}}]),n}(S.a.Component);t.default=Object(_.c)((function(e){return{service:e.usage.service}}),{})(k)},403:function(e,t,n){"use strict";n.r(t);n(471);var a=n(212),r=n.n(a),s=(n(100),n(52)),i=n.n(s),c=(n(215),n(129)),o=n.n(c),l=(n(102),n(34)),d=n.n(l),u=n(9),j=n(79),p=n(66),O=(n(91),n(32)),b=n.n(O),h=(n(472),n(76)),m=n.n(h),f=(n(82),n(19)),g=n.n(f),x=(n(343),n(126)),v=n.n(x),y=n(35),S=n(36),_=n(38),I=n(37),T=n(2),E=n(0),A=n.n(E),C=n(40),k=n(20),R=n.n(k),U=(n(610),n(68)),N=n(108),P=n(404),w=function(e){Object(_.a)(n,e);var t=Object(I.a)(n);function n(){var e;Object(y.a)(this,n);for(var a=arguments.length,r=new Array(a),s=0;s<a;s++)r[s]=arguments[s];return(e=t.call.apply(t,[this].concat(r))).renderLimit=function(e,t,n){return e?Object(T.jsx)(v.a,{title:"Limit",value:"Unlimited",valueStyle:{color:U.green.primary}}):R.a.isNull(t)?Object(T.jsx)(v.a,{title:"Limit",value:"Locked",valueStyle:{color:U.red.primary}}):Object(T.jsxs)(T.Fragment,{children:[Object(T.jsx)(v.a,{title:"Limit",value:t}),n&&"never"!==n&&Object(T.jsx)(g.a.Text,{type:"secondary",children:n})]})},e.renderMiniProgress=function(e,t,n){if(e)return Object(T.jsxs)(b.a,{children:[Object(T.jsx)(g.a.Text,{strong:!0,type:"success",children:"Unlimited"}),Object(T.jsx)("div",{style:{width:170},children:Object(T.jsx)(m.a,{percent:100})})]});if(R.a.isNull(t))return Object(T.jsxs)(b.a,{children:[Object(T.jsx)(g.a.Text,{strong:!0,type:"danger",children:"Locked"}),Object(T.jsx)("div",{style:{width:170},children:Object(T.jsx)(m.a,{percent:100,status:"exception"})})]});var a=n/t*100;return a>=100?Object(T.jsxs)(b.a,{children:[Object(T.jsx)(g.a.Text,{strong:!0,type:"danger",children:"Limit Reached"}),Object(T.jsx)("div",{style:{width:170},children:Object(T.jsx)(m.a,{percent:100,status:"exception"})})]}):a>=95?Object(T.jsx)("div",{style:{width:170},children:Object(T.jsx)(m.a,{percent:Math.round(a),strokeColor:{"0%":U.red.primary,"100%":U.red.primary}})}):a>=80?Object(T.jsx)("div",{style:{width:170},children:Object(T.jsx)(m.a,{percent:Math.round(a),strokeColor:{"0%":U.orange.primary,"100%":U.orange.primary}})}):Object(T.jsx)("div",{style:{width:170},children:Object(T.jsx)(m.a,{percent:Math.round(a)})})},e.renderProgress=function(e,t,n){if(e)return Object(T.jsx)(m.a,{type:"circle",percent:100,format:function(){return"Unlimited"}});if(R.a.isNull(t))return Object(T.jsx)(m.a,{type:"circle",percent:100,status:"exception",format:function(){return"Locked"}});var a=n/t*100;return a>=100?Object(T.jsx)(m.a,{type:"circle",percent:100,status:"exception",format:function(){return"Reached"}}):a>=95?Object(T.jsx)(m.a,{type:"circle",percent:Math.round(a),strokeColor:{"0%":U.red.primary,"100%":U.red.primary}}):a>=80?Object(T.jsx)(m.a,{type:"circle",percent:Math.round(a),strokeColor:{"0%":U.orange.primary,"100%":U.orange.primary}}):Object(T.jsx)(m.a,{type:"circle",percent:Math.round(a)})},e}return Object(S.a)(n,[{key:"render",value:function(){var e=this,t=this.props,n=t.service,a=t.period,s=Object(p.a)(a,2),c=s[0],l=s[1],O=R()(n.subscriptions).map((function(e){var t=e.package;Object(j.a)(e,["package"]);return R.a.map(t.limits,(function(e){return Object(u.a)(Object(u.a)({},e),{},{package:t.name})}))})).flatten().value();return Object(T.jsx)(r.a,{accordion:!0,defaultActiveKey:["1"],bordered:!1,className:"site-collapse-custom-collapse",children:R.a.map(O,(function(t,n){t.id;var a=t.code,s=t.limit,u=t.reset,j=t.is_unlimited,p=t.usages,O=t.package;return Object(T.jsx)(r.a.Panel,{header:Object(T.jsxs)(b.a,{children:[Object(T.jsx)(g.a.Text,{children:R.a.capitalize(a)}),Object(T.jsx)(N.default,{name:O})]}),extra:e.renderMiniProgress(j,s,R.a.sumBy(p,"amount")),className:"site-collapse-custom-panel",children:Object(T.jsxs)(i.a,{gutter:[16,24],children:[Object(T.jsx)(d.a,{span:6,children:Object(T.jsxs)(i.a,{gutter:[16,24],children:[Object(T.jsx)(d.a,{span:11,children:Object(T.jsx)(v.a,{title:"Usage",value:R.a.sumBy(p,"amount")})}),Object(T.jsx)(d.a,{span:2,children:Object(T.jsx)(o.a,{type:"vertical",style:{height:"100%"}})}),Object(T.jsx)(d.a,{span:11,children:e.renderLimit(j,s,u)}),Object(T.jsx)(d.a,{span:24,style:{padding:"45px 8px"},children:Object(T.jsx)(b.a,{direction:"horizontal",style:{width:"100%",justifyContent:"center"},children:e.renderProgress(j,s,R.a.sumBy(p,"amount"))})})]})}),Object(T.jsx)(d.a,{span:18,children:Object(T.jsx)(P.default,{identifier:"usage-chart-".concat(n),data:p,start:c,end:l,limit:j?null:s||0})})]})},n+1+"")}))})}}]),n}(A.a.Component);t.default=Object(C.c)((function(e){return{service:e.usage.service}}),{})(w)},404:function(e,t,n){"use strict";n.r(t);var a=n(35),r=n(36),s=n(38),i=n(37),c=n(2),o=n(0),l=n.n(o),d=n(157),u=n(132),j=n(290),p=n(27),O=n.n(p),b=n(20),h=n.n(b);d.d(j.a);var m=function(e){Object(s.a)(n,e);var t=Object(i.a)(n);function n(){var e;Object(a.a)(this,n);for(var r=arguments.length,s=new Array(r),i=0;i<r;i++)s[i]=arguments[i];return(e=t.call.apply(t,[this].concat(s))).createDateArray=function(e,t){for(var n=[],a=e;a<=t;)n.push(a.toDate()),a=a.clone().add(1,"day");return n},e}return Object(r.a)(n,[{key:"componentDidMount",value:function(){this.renderChart()}},{key:"componentDidUpdate",value:function(e,t,n){this.chart&&this.chart.dispose(),this.renderChart()}},{key:"componentWillUnmount",value:function(){this.chart&&this.chart.dispose()}},{key:"renderChart",value:function(){var e=this.props,t=e.identifier,n=e.data,a=e.limit,r=e.start,s=e.end,i=d.c(t,u.d);i.data=h.a.map(this.createDateArray(r,s),(function(e){var t=h.a.filter(n,(function(t){var n=t.request_timestamp;return O()(n).isSame(e,"date")}));return{date:e,usages:h.a.sumBy(t,"amount")}}));var c=i.xAxes.push(new u.a);c.startLocation=.5,c.endLocation=.5;var o=i.yAxes.push(new u.c);o.min=0,h.a.isNull(a)||(o.max=a);var l=i.series.push(new u.b);if(l.dataFields.valueY="usages",l.dataFields.dateX="date",l.strokeWidth=3,l.tooltipText="{valueY.value}",l.fillOpacity=.1,i.cursor=new u.e,i.cursor.xAxis=c,i.scrollbarX=new d.a,l.tooltip.getFillFromObject=!1,l.tooltip.adapter.add("x",(function(e,t){return l.tooltip.tooltipDataItem.valueY<0?l.tooltip.background.fill=i.colors.getIndex(4):l.tooltip.background.fill=i.colors.getIndex(0),e})),!h.a.isNull(a)){var j=o.axisRanges.create();j.value=a,j.grid.stroke=d.b("#396478"),j.grid.strokeWidth=1,j.grid.strokeOpacity=1,j.grid.strokeDasharray="3,3",j.label.inside=!0,j.label.text="Limit",j.label.fill=j.grid.stroke,j.label.verticalCenter="top"}this.chart=i}},{key:"render",value:function(){var e=this.props.identifier;return Object(c.jsx)("div",{id:e,style:{width:"100%",height:"300px"}})}}]),n}(l.a.Component);t.default=m},405:function(e,t,n){"use strict";n.r(t);n(120);var a=n(53),r=n.n(a),s=(n(107),n(57)),i=n.n(s),c=(n(174),n(65)),o=n.n(c),l=(n(183),n(80)),d=n.n(l),u=(n(175),n(87)),j=n.n(u),p=(n(198),n(60)),O=n.n(p),b=(n(91),n(32)),h=n.n(b),m=(n(148),n(83)),f=n.n(m),g=(n(89),n(45)),x=n.n(g),v=(n(82),n(19)),y=n.n(v),S=n(66),_=n(35),I=n(36),T=n(38),E=n(37),A=n(2),C=n(0),k=n.n(C),R=n(40),U=n(20),N=n.n(U),P=n(27),w=n.n(P),D=n(42),G=n(5),L=n(105),M=n(103),F=n(160),B=n(168),Y=n(74),V=n(108),q=(n(159),n(133)),H=n(438),K=function(e){Object(T.a)(n,e);var t=Object(E.a)(n);function n(e){var a;return Object(_.a)(this,n),(a=t.call(this,e)).onShowUsage=function(e){var t=a.props,n=t.services,r=t.history,s=t.match,i=N()(n).map("services").flatten().value(),c=N.a.find(i,{id:a.state.selectedService}).code;r.push("".concat(s.url,"/").concat(c,"/").concat(e))},a.onSelectMenu=function(e){var t=e.key,n=N.a.split(t,"-"),r=Object(S.a)(n,3),s=(r[0],r[1],r[2]);a.props.getSubscriptionByService(s),a.setState({selectedService:parseInt(s)})},a.state={selectedService:null},a}return Object(I.a)(n,[{key:"componentDidMount",value:function(){this.props.getAllService()}},{key:"componentWillUnmount",value:function(){this.props.onResetDataState()}},{key:"render",value:function(){var e=this,t=this.props,n=t.services,a=t.loading,s=t.subscriptions,c=[{title:"Account",dataIndex:"account",key:"account",filters:N()(s).map((function(e){var t=e.account;return{text:t.fullname,value:t.fullname}})).uniqBy("value").value(),onFilter:function(e,t){return t.account.fullname.includes(e)},render:function(e){var t=e.fullname,n=e.email;return Object(A.jsxs)("div",{children:[Object(A.jsx)(y.a.Text,{strong:!0,children:t}),Object(A.jsx)("br",{}),Object(A.jsx)(y.a.Text,{type:"secondary",children:n})]})}},{title:"Current Subscription",children:[{title:"Subs ID",dataIndex:"code",key:"code",render:function(e,t){return"active"===t.status&&e}},{title:"Package",dataIndex:"package",key:"package",render:function(e,t){return"active"===t.status&&e&&Object(A.jsx)(V.default,{name:e.name})}},{title:"Start Date",dataIndex:"start_date",key:"start_date",render:function(e,t){return"active"===t.status&&e?w()(e).format("ll"):null}},{title:"End Date",dataIndex:"end_date",key:"end_date",render:function(e,t){return"active"===t.status&&e?w()(e).format("ll"):null}}]},{title:"Action",key:"action",render:function(t,n){return Object(A.jsx)(h.a,{children:Object(A.jsx)(f.a,{title:"Usage",children:Object(A.jsx)(x.a,{type:"link",icon:Object(A.jsx)(H.a,{}),onClick:function(){return e.onShowUsage(n.account.id)}})})})}}];return Object(A.jsxs)(h.a,{direction:"vertical",style:{width:"100%"},children:[Object(A.jsx)(y.a.Title,{level:4,children:"Service"}),Object(A.jsx)(r.a,{bordered:!1,children:Object(A.jsx)(i.a,{spinning:a.service,children:Object(A.jsxs)(d.a,{style:{minHeight:600,border:"1px solid #f0f0f0"},children:[Object(A.jsx)(d.a.Sider,{className:"site-layout-background",width:200,children:n.length?Object(A.jsx)(O.a,{mode:"inline",defaultOpenKeys:["submenu-0"],style:{height:"100%"},onSelect:this.onSelectMenu,children:N.a.map(n,(function(e,t){e.id;var n=e.name,a=e.icon,r=e.services;return Object(A.jsx)(O.a.SubMenu,{icon:Object(A.jsx)(q.a,{type:a}),title:n,children:N.a.map(r,(function(e,n){var a=e.id,r=e.name,s=e.icon;return Object(A.jsx)(O.a.Item,{icon:Object(A.jsx)(q.a,{type:s}),children:r},"item-"+t+"-"+a)}))},"submenu-"+t)}))}):Object(A.jsx)(j.a,{})}),Object(A.jsx)(d.a.Content,{style:{padding:"24px"},children:Object(A.jsx)(i.a,{spinning:a.subs,children:s.length?Object(A.jsx)(o.a,{columns:c,dataSource:N()(s).sortBy("status").uniqBy("account.id").value(),rowKey:"id",style:{width:"100%"}}):Object(A.jsx)(j.a,{image:j.a.PRESENTED_IMAGE_SIMPLE})})})]})})})]})}}]),n}(k.a.Component);t.default=Object(R.c)((function(e){var t=e.service.services,n=e.subscription,a=n.subscriptions,r=n.status,s=r.created,i=r.edited;return{loading:{service:Object(D.isLoading)(e,G.GET_ALL_SERVICE),subs:Object(D.isLoading)(e,G.GET_SUBSCRIPTION)},services:t,subscriptions:a,created:s,edited:i}}),{getAllService:L.getAllService,getSubscriptionByService:M.getSubscriptionByService,addSubscription:M.addSubscription,editSubscription:M.editSubscription,getPackageByService:F.getPackageByService,getAllUser:B.getAllUser,onResetStatus:Y.onResetStatus,onResetDataState:Y.onResetDataState})(K)},406:function(e,t,n){"use strict";n.r(t);n(107);var a=n(57),r=n.n(a),s=(n(175),n(87)),i=n.n(s),c=(n(120),n(53)),o=n.n(c),l=(n(232),n(151)),d=n.n(l),u=(n(215),n(129)),j=n.n(u),p=(n(248),n(93)),O=n.n(p),b=(n(91),n(32)),h=n.n(b),m=(n(100),n(52)),f=n.n(m),g=(n(102),n(34)),x=n.n(g),v=(n(167),n(31)),y=n.n(v),S=(n(166),n(64)),_=n.n(S),I=(n(82),n(19)),T=n.n(I),E=n(9),A=n(420),C=n(35),k=n(36),R=n(38),U=n(37),N=n(2),P=n(0),w=n.n(P),D=n(40),G=n(20),L=n.n(G),M=n(42),F=n(105),B=n(74),Y=n(5),V=n(133),q=n(509),H=function(e){Object(R.a)(n,e);var t=Object(U.a)(n);function n(e){var a;return Object(C.a)(this,n),(a=t.call(this,e)).onSearch=function(e){var t=e.search;t&&a.setState({search:t})},a.onFilter=function(e){var t=e.id,n=e.name;a.setState({group:{id:t,name:n}})},a.onClearSearch=function(e){a.setState(Object(A.a)({},e,null))},a.state={search:null,group:null},a}return Object(k.a)(n,[{key:"componentDidMount",value:function(){this.props.getMarketService()}},{key:"componentWillUnmount",value:function(){this.props.onResetDataState()}},{key:"componentDidUpdate",value:function(e,t,n){if(!L.a.isEqual(t,this.state)){var a=this.state,r=a.search,s=a.group,i={};r&&(i=Object(E.a)(Object(E.a)({},i),{},{search:r})),s&&(i=Object(E.a)(Object(E.a)({},i),{},{group:s.id})),this.props.getMarketService(i)}}},{key:"render",value:function(){var e=this,t=this.props,n=t.services,a=t.loading,s=t.history,c=t.match,l=this.state,u=l.search,p=l.group,b=L.a.filter(n,(function(e){return e.services.length}));return Object(N.jsxs)(h.a,{direction:"vertical",style:{width:"100%"},children:[Object(N.jsx)(f.a,{type:"flex",justify:"center",align:"middle",style:{minHeight:250,backgroundImage:"url(/background.png)",backgroundSize:"cover"},children:Object(N.jsxs)(x.a,{children:[Object(N.jsx)(T.a.Title,{level:3,style:{marginBottom:0},children:"Easily find services that suit your business"}),Object(N.jsxs)(T.a.Text,{strong:!0,children:["supported by ",Object(N.jsx)("img",{className:"logo",src:"/logo-mysights.png",alt:"icon",style:{height:24,margin:"10px 0"}})]}),Object(N.jsx)(y.a,{name:"login",className:"login-form",onFinish:this.onSearch,children:Object(N.jsx)(y.a.Item,{name:"search",children:Object(N.jsx)(_.a,{size:"large",placeholder:"Search",prefix:Object(N.jsx)(q.a,{})})})})]})}),Object(N.jsx)(r.a,{spinning:a,children:Object(N.jsx)("div",{style:{minHeight:250,margin:16},children:Object(N.jsxs)(f.a,{gutter:[16],children:[Object(N.jsxs)(x.a,{span:4,children:[Object(N.jsx)(T.a.Title,{level:5,children:"Service Group"}),Object(N.jsx)(h.a,{size:"small",direction:"vertical",children:L.a.map(n,(function(t){var n=t.id,a=t.name,r=t.services;return Object(N.jsxs)(T.a.Link,{onClick:function(){return e.onFilter({id:n,name:a})},children:[a," ",r.length?Object(N.jsxs)(N.Fragment,{children:["(",r.length,")"]}):null]})}))})]}),Object(N.jsxs)(x.a,{span:20,children:[Object(N.jsxs)(h.a,{style:{marginBottom:16},children:[u&&Object(N.jsxs)(O.a,{closable:!0,color:"blue",onClose:function(){return e.onClearSearch("search")},children:[Object(N.jsx)(T.a.Text,{strong:!0,children:"Search "}),": ",u]}),p&&Object(N.jsxs)(O.a,{closable:!0,color:"blue",onClose:function(){return e.onClearSearch("group")},children:[Object(N.jsx)(T.a.Text,{strong:!0,children:"Group "}),": ",p.name]})]}),b.length?Object(N.jsx)(h.a,{direction:"vertical",size:"large",style:{width:"100%"},children:L.a.map(b,(function(e){var t=e.name,n=e.services;return Object(N.jsxs)("div",{children:[Object(N.jsx)(T.a.Title,{level:5,style:{marginBottom:0},children:t}),Object(N.jsx)(j.a,{style:{margin:"12px 0"}}),Object(N.jsx)(f.a,{gutter:[16],children:L.a.map(n,(function(e){var n=e.code,a=e.icon,r=e.name,i=e.description;return Object(N.jsx)(x.a,Object(E.a)(Object(E.a)({},{xxl:6,xl:8,lg:12,sm:24}),{},{children:Object(N.jsx)(T.a.Link,{onClick:function(){return s.push("".concat(c.url,"/").concat(n))},children:Object(N.jsxs)(o.a,{className:"service-box",children:[Object(N.jsx)(o.a.Meta,{avatar:Object(N.jsx)(d.a,{style:{color:"#f56a00",backgroundColor:"#fde3cf"},icon:Object(N.jsx)(V.a,{type:a})}),title:r,description:t,style:{marginBottom:16}}),Object(N.jsx)(T.a.Paragraph,{ellipsis:{rows:2},style:{margin:0},children:i})]})})}))}))})]})}))}):Object(N.jsx)(i.a,{})]})]})})})]})}}]),n}(w.a.Component);t.default=Object(D.c)((function(e){var t=e.service.services;return{loading:Object(M.isLoading)(e,Y.GET_ALL_SERVICE),services:t}}),{getMarketService:F.getMarketService,onResetDataState:B.onResetDataState})(H)},407:function(e,t,n){"use strict";n.r(t);n(120);var a=n(53),r=n.n(a),s=(n(107),n(57)),i=n.n(s),c=n(9),o=(n(301),n(140)),l=n.n(o),d=(n(175),n(87)),u=n.n(d),j=(n(100),n(52)),p=n.n(j),O=(n(91),n(32)),b=n.n(O),h=(n(89),n(45)),m=n.n(h),f=(n(102),n(34)),g=n.n(f),x=(n(232),n(151)),v=n.n(x),y=(n(82),n(19)),S=n.n(y),_=(n(203),n(128)),I=n.n(_),T=n(35),E=n(36),A=n(38),C=n(37),k=n(2),R=n(0),U=n.n(R),N=n(40),P=n(27),w=n.n(P),D=n(20),G=n.n(D),L=n(42),M=n(105),F=n(103),B=n(74),Y=n(5),V=n(178),q=n(133),H=n(436),K=n(501),W=n(245),z=n(499),Q=n(293),J=function(e){Object(A.a)(a,e);var t=Object(C.a)(a);function a(){var e;Object(T.a)(this,a);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(e=t.call.apply(t,[this].concat(r))).onGetTrial=function(){var t=e.props,n=t.match.params,a=t.addTrialSubscription;n.id&&I.a.confirm({title:"Do you want to continue trial?",icon:Object(k.jsx)(H.a,{}),content:"Accepting trial will give you one-time 1 month trial service.",onOk:function(){a(n.id)}})},e}return Object(E.a)(a,[{key:"componentDidMount",value:function(){var e=this.props.match.params;e.id&&this.props.getOneMarketService(e.id)}},{key:"componentDidUpdate",value:function(e,t,n){if(!e.created&&this.props.created){var a=this.props.match.params;a.id&&this.props.getOneMarketService(a.id),this.props.onResetStatus()}}},{key:"componentWillUnmount",value:function(){this.props.onResetDataState()}},{key:"render",value:function(){var e=this.props,t=e.service,a=e.loading,s=t&&t.info?n(1028)("./".concat(t.info)):{},o=s.Docs,d=s.Overview;return Object(k.jsxs)(b.a,{direction:"vertical",style:{width:"100%"},children:[Object(k.jsx)(S.a.Title,{level:4,children:"API Market"}),Object(k.jsx)(r.a,{bordered:!1,children:Object(k.jsxs)(i.a,{spinning:a.get,children:[t?Object(k.jsxs)(p.a,{justify:"center",gutter:[24],style:{minHeight:150,margin:"24px 0"},children:[Object(k.jsx)(g.a,{span:4,children:Object(k.jsx)(v.a,{size:100,style:{color:"#f56a00",backgroundColor:"#fde3cf",float:"right"},icon:Object(k.jsx)(q.a,{type:t.icon})})}),Object(k.jsx)(g.a,{span:16,children:Object(k.jsxs)(b.a,{direction:"vertical",style:{width:"100%"},children:[Object(k.jsxs)("div",{children:[Object(k.jsx)(S.a.Title,{level:3,style:{marginBottom:0},children:t.name}),Object(k.jsx)(S.a.Text,{type:"secondary",children:t.service_group.name})]}),Object(k.jsx)(S.a.Paragraph,{style:{marginTop:"1em"},children:t.description}),t.package?Object(k.jsx)(k.Fragment,{children:t.subscription?Object(k.jsxs)(S.a.Text,{children:[Object(k.jsx)(S.a.Text,{type:"success",children:Object(k.jsx)(K.a,{})})," API enabled since ",w()(t.subscription.start_date).format("LL")]}):Object(k.jsx)(m.a,{type:"primary",onClick:this.onGetTrial,children:"Get trial"})}):Object(k.jsxs)(S.a.Text,{children:[Object(k.jsx)(S.a.Text,{type:"warning",children:Object(k.jsx)(H.a,{})})," No trial package provided"]})]})})]}):Object(k.jsx)(u.a,{style:{minHeight:150}}),t&&Object(k.jsxs)(l.a,{defaultActiveKey:"1",children:[Object(k.jsx)(l.a.TabPane,{tab:Object(k.jsxs)("span",{children:[Object(k.jsx)(W.a,{})," Overview"]}),children:d?Object(k.jsx)(d,{}):Object(k.jsx)(u.a,{})},"1"),Object(k.jsx)(l.a.TabPane,{tab:Object(k.jsxs)("span",{children:[Object(k.jsx)(z.a,{})," Documentation"]}),children:o?Object(k.jsx)(o,{}):Object(k.jsx)(u.a,{})},"2"),Object(k.jsx)(l.a.TabPane,{tab:Object(k.jsxs)("span",{children:[Object(k.jsx)(Q.a,{})," Packages"]}),children:Object(k.jsx)(p.a,{gutter:[24],children:G.a.map(t.packages,(function(e){return Object(k.jsx)(g.a,Object(c.a)(Object(c.a)({},{xxl:6,xl:8,lg:12,sm:24}),{},{children:Object(k.jsx)(V.default,{package:e})}))}))})},"3")]})]})})]})}}]),a}(U.a.Component);t.default=Object(N.c)((function(e){var t=e.service.service,n=e.subscription.status.created;return{loading:{get:Object(L.isLoading)(e,Y.GET_ONE_SERVICE),add:Object(L.isLoading)(e,Y.ADD_SUBSCRIPTION)},service:t,created:n}}),{getOneMarketService:M.getOneMarketService,addTrialSubscription:F.addTrialSubscription,onResetStatus:B.onResetStatus,onResetDataState:B.onResetDataState})(J)},408:function(e,t,n){"use strict";n.r(t),n.d(t,"getAccessLog",(function(){return s})),n.d(t,"getUserAccessLog",(function(){return i}));var a=n(5),r=n(55),s=function(e,t){return function(n){n({type:a.UI_START_ACTION,name:a.GET_ACCESS_LOG}),r.default.get("log/service/".concat(e,"/").concat(t)).then((function(e){var t=e.data;n({type:a.UI_STOP_ACTION,name:a.GET_ACCESS_LOG}),n({type:a.GET_ACCESS_LOG,payload:t.data})})).catch((function(e){var t=e.response;n({type:a.UI_STOP_ACTION,name:a.GET_ACCESS_LOG}),t&&(console.log("Error****:",t.message),n({type:a.SHOW_MESSAGE,title:"Log error.",message:t.data.message,severity:a.NOTIFICATION_ERROR}))}))}},i=function(e){return function(t){t({type:a.UI_START_ACTION,name:a.GET_ACCESS_LOG}),r.default.get("log/service/".concat(e)).then((function(e){var n=e.data;t({type:a.UI_STOP_ACTION,name:a.GET_ACCESS_LOG}),t({type:a.GET_ACCESS_LOG,payload:n.data})})).catch((function(e){var n=e.response;t({type:a.UI_STOP_ACTION,name:a.GET_ACCESS_LOG}),n&&(console.log("Error****:",n.message),t({type:a.SHOW_MESSAGE,title:"Log error.",message:n.data.message,severity:a.NOTIFICATION_ERROR}))}))}}},409:function(e,t,n){"use strict";n.r(t),n.d(t,"onResetNotification",(function(){return r}));var a=n(5),r=function(){return function(e){e({type:a.HIDE_MESSAGE})}}},410:function(e,t,n){"use strict";n.r(t);n(203);var a=n(128),r=n.n(a),s=(n(604),n(182)),i=n.n(s),c=(n(100),n(52)),o=n.n(c),l=(n(460),n(288)),d=n.n(l),u=(n(102),n(34)),j=n.n(u),p=n(482),O=n.n(p),b=n(632),h=(n(215),n(129)),m=n.n(h),f=(n(82),n(19)),g=n.n(f),x=(n(341),n(163)),v=n.n(x),y=(n(148),n(83)),S=n.n(y),_=(n(166),n(64)),I=n.n(_),T=(n(167),n(31)),E=n.n(T),A=(n(176),n(73)),C=n.n(A),k=(n(89),n(45)),R=n.n(k),U=n(79),N=n(9),P=n(35),w=n(36),D=n(38),G=n(37),L=n(2),M=n(0),F=n.n(M),B=n(40),Y=n(20),V=n.n(Y),q=n(42),H=n(160),K=n(5),W=n(196),z=n(507),Q=n(214),J={labelCol:{span:8},wrapperCol:{span:16}},X={wrapperCol:{span:24}},Z=function(e){Object(D.a)(n,e);var t=Object(G.a)(n);function n(e){var a;return Object(P.a)(this,n),(a=t.call(this,e)).onFinish=function(){var e=a.state.formRef,t=a.props,n=t.row,r=t.addPackage,s=t.editPackage;e.current.validateFields().then((function(e){n.id?s(n.id,Object(N.a)({},e)):r(Object(N.a)({},e))})).catch((function(e){return console.log("Validate Failed:",e)}))},a.state={formRef:F.a.createRef()},a}return Object(w.a)(n,[{key:"componentDidUpdate",value:function(e,t,n){if(!e.show&&this.props.show&&(this.state.formRef.current.resetFields(),this.props.row)){var a=this.props.row,r=a.limits,s=Object(U.a)(a,["limits"]),i=V()(r).filter("is_used").map((function(e){var t=e.limit,n=e.is_unlimited,a=Object(U.a)(e,["limit","is_unlimited"]),r=t||n;return Object(N.a)({is_allowed:r,limit:t,is_unlimited:n},a)})).value();this.state.formRef.current.setFieldsValue(Object(N.a)(Object(N.a)({},{is_public:!1,is_paid:!1,is_trial:!1}),{},{limits:i},s))}}},{key:"render",value:function(){var e=this.props,t=e.show,n=e.onCancel,a=e.row,s=e.loading,c=e.services,l=this.state.formRef;return Object(L.jsx)(r.a,{visible:t,title:"Package",width:1e3,onCancel:n,footer:[Object(L.jsx)(R.a,{onClick:n,children:"Cancel"},"back"),Object(L.jsx)(R.a,{type:"primary",loading:s[a&&a.id?"edit":"create"],onClick:this.onFinish,children:"Submit"},"submit")],children:Object(L.jsxs)(E.a,Object(N.a)(Object(N.a)({},J),{},{ref:l,name:"control-ref",onFinish:this.onFinish,children:[Object(L.jsx)(E.a.Item,{name:"service_id",label:"Service",rules:[{required:!0,message:"Please select the service!"}],children:Object(L.jsx)(C.a,{showSearch:!0,placeholder:"Select service",optionFilterProp:"children",filterOption:function(e,t){return t.children.toLowerCase().indexOf(e.toLowerCase())>=0},allowClear:!0,disabled:!0,children:V.a.map(c,(function(e){var t=e.id,n=e.name;return Object(L.jsx)(C.a.Option,{value:t,children:n})}))})}),Object(L.jsx)(E.a.Item,{name:"name",label:"Package Name",rules:[{required:!0,message:"Please input package name!"}],children:Object(L.jsx)(I.a,{})}),Object(L.jsx)(E.a.Item,{name:"description",label:"Description",children:Object(L.jsx)(I.a.TextArea,{})}),Object(L.jsx)(E.a.Item,{name:"is_public",label:Object(L.jsxs)("span",{children:["Public Package\xa0",Object(L.jsx)(S.a,{title:"Allowed to show in API Market",children:Object(L.jsx)(W.a,{})})]}),valuePropName:"checked",children:Object(L.jsx)(v.a,{checkedChildren:"Public",unCheckedChildren:"Private"})}),Object(L.jsx)(E.a.Item,{name:"is_paid",label:Object(L.jsxs)("span",{children:["Paid Package\xa0",Object(L.jsx)(S.a,{title:"Billing enabled",children:Object(L.jsx)(W.a,{})})]}),valuePropName:"checked",children:Object(L.jsx)(v.a,{checkedChildren:"Paid",unCheckedChildren:"Free"})}),Object(L.jsx)(E.a.Item,{name:"is_trial",label:Object(L.jsxs)("span",{children:["Trial Package\xa0",Object(L.jsx)(S.a,{title:"Allows user to self-subscribe in API Market (one-time)",children:Object(L.jsx)(W.a,{})})]}),valuePropName:"checked",children:Object(L.jsx)(v.a,{checkedChildren:"Trial",unCheckedChildren:"No Trial"})}),Object(L.jsxs)(m.a,{orientation:"center",children:[Object(L.jsx)(g.a.Text,{type:"danger",children:"*"})," Limits"]}),Object(L.jsx)(E.a.List,{name:"limits",rules:[{validator:function(){var e=Object(b.a)(O.a.mark((function e(t,n){return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n&&!(n.length<1)){e.next=2;break}return e.abrupt("return",Promise.reject(new Error("Please add at least 1 limit")));case 2:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()}],children:function(e,t,n){var r=t.add,s=t.remove,c=n.errors;return Object(L.jsxs)(L.Fragment,{children:[e.length?Object(L.jsx)(i.a,{children:e.map((function(e){return Object(L.jsx)(i.a.Item,{children:Object(L.jsxs)(o.a,{style:{width:"100%"},children:[Object(L.jsxs)(j.a,{span:11,children:[Object(L.jsx)(E.a.Item,Object(N.a)(Object(N.a)({},e),{},{label:"Service",name:[e.name,"service_id"],fieldKey:[e.fieldKey,"service_id"],rules:[{required:!0,message:"Please input service_id!"}],hidden:!0,children:Object(L.jsx)(I.a,{})})),Object(L.jsx)(E.a.Item,Object(N.a)(Object(N.a)({},e),{},{label:"Code",name:[e.name,"code"],fieldKey:[e.fieldKey,"code"],rules:[{required:!0,message:"Please input limit code!"}],children:Object(L.jsx)(I.a,{})})),Object(L.jsx)(E.a.Item,Object(N.a)(Object(N.a)({},e),{},{label:"Description",name:[e.name,"description"],fieldKey:[e.fieldKey,"description"],children:Object(L.jsx)(I.a.TextArea,{})})),Object(L.jsx)(E.a.Item,Object(N.a)(Object(N.a)({},e),{},{label:"Unit",name:[e.name,"unit"],fieldKey:[e.fieldKey,"unit"],children:Object(L.jsx)(I.a,{})}))]}),Object(L.jsxs)(j.a,{span:11,children:[Object(L.jsx)(E.a.Item,Object(N.a)(Object(N.a)({},e),{},{label:"Allowed",valuePropName:"checked",name:[e.name,"is_allowed"],fieldKey:[e.fieldKey,"is_allowed"],children:Object(L.jsx)(v.a,{checkedChildren:"Allowed",unCheckedChildren:"Locked"})})),Object(L.jsx)(E.a.Item,Object(N.a)(Object(N.a)({},X),{},{style:{marginBottom:0},shouldUpdate:!0,children:function(t){var n=(0,t.getFieldValue)("limits")[e.name];return n&&n.is_allowed&&Object(L.jsx)(E.a.Item,Object(N.a)(Object(N.a)(Object(N.a)({},e),J),{},{label:"Unlimited",valuePropName:"checked",name:[e.name,"is_unlimited"],fieldKey:[e.fieldKey,"is_unlimited"],children:Object(L.jsx)(v.a,{checkedChildren:"Unlimited",unCheckedChildren:"Limited"})}))}})),Object(L.jsx)(E.a.Item,Object(N.a)(Object(N.a)({},X),{},{style:{marginBottom:0},shouldUpdate:!0,children:function(t){var n=(0,t.getFieldValue)("limits")[e.name];return n&&n.is_allowed&&!n.is_unlimited&&Object(L.jsxs)(L.Fragment,{children:[Object(L.jsx)(E.a.Item,Object(N.a)(Object(N.a)(Object(N.a)({},e),J),{},{label:"Usage Limit",name:[e.name,"limit"],fieldKey:[e.fieldKey,"limit"],rules:[{required:!0,message:"Please input usage!"}],children:Object(L.jsx)(d.a,{min:0})})),Object(L.jsx)(E.a.Item,Object(N.a)(Object(N.a)(Object(N.a)({},e),J),{},{label:"Reset",name:[e.name,"reset"],fieldKey:[e.fieldKey,"reset"],rules:[{required:!0,message:"Please select reset!"}],children:Object(L.jsxs)(C.a,{children:[Object(L.jsx)(C.a.Option,{value:"minutely",children:"minutely"}),Object(L.jsx)(C.a.Option,{value:"hourly",children:"hourly"}),Object(L.jsx)(C.a.Option,{value:"daily",children:"daily"}),Object(L.jsx)(C.a.Option,{value:"weekly",children:"weekly"}),Object(L.jsx)(C.a.Option,{value:"monthly",children:"monthly"}),Object(L.jsx)(C.a.Option,{value:"never",children:"never"})]})}))]})}}))]}),Object(L.jsx)(j.a,{span:2,children:Object(L.jsx)(z.a,{onClick:function(){return s(e.name)}})})]})},e.key)}))}):null,Object(L.jsxs)(E.a.Item,Object(N.a)(Object(N.a)({},X),{},{children:[Object(L.jsx)(R.a,{type:"dashed",onClick:function(){return r({service_id:a.service_id})},block:!0,icon:Object(L.jsx)(Q.a,{}),children:"Add limit"}),Object(L.jsx)(E.a.ErrorList,{errors:c})]}))]})}})]}))})}}]),n}(F.a.Component);t.default=Object(B.c)((function(e){var t=e.service.services;return{services:V.a.flatMap(t,(function(e){return e.services})),loading:{create:Object(q.isLoading)(e,K.ADD_PACKAGE),edit:Object(q.isLoading)(e,K.EDIT_PACKAGE)}}}),{addPackage:H.addPackage,editPackage:H.editPackage})(Z)},411:function(e,t,n){"use strict";n.r(t);n(203);var a=n(128),r=n.n(a),s=(n(1058),n(322)),i=n.n(s),c=(n(91),n(32)),o=n.n(c),l=(n(82),n(19)),d=n.n(l),u=(n(331),n(81)),j=n.n(u),p=(n(89),n(45)),O=n.n(p),b=n(2),h=(n(0),n(133));t.default=function(e){var t=e.show,n=e.onCancel,a=e.row;return Object(b.jsx)(r.a,{visible:t,title:"Service Info",width:800,onCancel:n,footer:[Object(b.jsx)(O.a,{onClick:n,children:"Cancel"},"back")],children:a&&Object(b.jsxs)(j.a,{column:1,children:[Object(b.jsx)(j.a.Item,{label:"Service Name",children:a.name}),Object(b.jsx)(j.a.Item,{label:"Service Group",children:a.service_group}),Object(b.jsx)(j.a.Item,{label:"Description",children:a.description}),Object(b.jsx)(j.a.Item,{label:"Code",children:Object(b.jsxs)(o.a,{children:[a.code,Object(b.jsx)(d.a.Text,{type:"secondary",children:"(generated)"})]})}),Object(b.jsxs)(j.a.Item,{label:"Icon",children:[Object(b.jsx)(h.a,{type:a.icon})," ",a.icon]}),Object(b.jsxs)(j.a.Item,{label:"Method",children:["get"===a.method&&Object(b.jsx)(d.a.Text,{strong:!0,type:"success",children:"GET"}),"post"===a.method&&Object(b.jsx)(d.a.Text,{strong:!0,type:"warning",children:"POST"})]}),Object(b.jsx)(j.a.Item,{label:"Mask URL",children:Object(b.jsx)(d.a.Text,{code:!0,children:"https://api.mysights.id/api"+a.mask_url})}),Object(b.jsx)(j.a.Item,{label:"Source URL",children:Object(b.jsx)(d.a.Text,{code:!0,children:a.url})}),Object(b.jsx)(j.a.Item,{label:"Info Path",children:Object(b.jsx)(d.a.Text,{code:!0,children:a.info})}),Object(b.jsx)(j.a.Item,{label:"Active",children:a.is_active?Object(b.jsx)(i.a,{status:"processing",text:"Active"}):Object(b.jsx)(i.a,{status:"default",text:"Inactive"})}),Object(b.jsx)(j.a.Item,{label:"Public",children:a.is_public?Object(b.jsx)(i.a,{status:"success",text:"Public"}):Object(b.jsx)(i.a,{status:"warning",text:"Private"})})]})})}},412:function(e,t,n){"use strict";n.r(t);n(120);var a=n(53),r=n.n(a),s=(n(100),n(52)),i=n.n(s),c=(n(102),n(34)),o=n.n(c),l=n(35),d=n(36),u=n(38),j=n(37),p=(n(301),n(140)),O=n.n(p),b=n(2),h=n(0),m=n.n(h),f=n(40),g=n(413),x=n(414),v=O.a.TabPane,y=function(e){Object(u.a)(n,e);var t=Object(j.a)(n);function n(e){var a;return Object(l.a)(this,n),(a=t.call(this,e)).onChangeTab=function(e){return a.setState({tabs:e})},a.state={defaultTabs:"1",tabs:"1"},a}return Object(d.a)(n,[{key:"componentDidMount",value:function(){var e=this.props,t=e.token,n=e.history;t&&n.push("/")}},{key:"componentDidUpdate",value:function(e,t,n){var a=this.props,r=a.token,s=a.history;r&&s.push("/")}},{key:"render",value:function(){var e=this,t=this.state,n=t.defaultTabs,a=t.tabs;return Object(b.jsx)(i.a,{type:"flex",justify:"center",align:"middle",style:{minHeight:"100vh",backgroundImage:"url(/background.png)"},children:Object(b.jsx)(o.a,{children:Object(b.jsxs)(r.a,{style:{width:400},children:[Object(b.jsx)(i.a,{type:"flex",justify:"center",children:Object(b.jsx)(o.a,{children:Object(b.jsx)("img",{src:"/logo-mysights.png",alt:"logo mysights",style:{maxWidth:"150px",marginBottom:"10px"}})})}),Object(b.jsxs)(O.a,{defaultActiveKey:n,activeKey:a,onChange:this.onChangeTab,centered:!0,children:[Object(b.jsx)(v,{tab:"LOG IN",children:Object(b.jsx)(g.default,{})},"1"),Object(b.jsx)(v,{tab:"SIGN UP",children:Object(b.jsx)(x.default,{onSuccess:function(){return e.onChangeTab("1")}})},"2")]})]})})})}}]),n}(m.a.Component);t.default=Object(f.c)((function(e){return{token:e.auth.token}}),{})(y)},413:function(e,t,n){"use strict";n.r(t);n(89);var a=n(45),r=n.n(a),s=(n(82),n(19)),i=n.n(s),c=(n(167),n(31)),o=n.n(c),l=(n(166),n(64)),d=n.n(l),u=n(35),j=n(36),p=n(38),O=n(37),b=n(2),h=n(0),m=n.n(h),f=n(40),g=n(84),x=n(292),v=n(230),y=n(42),S=n(113),_=n(5),I=function(e){Object(p.a)(n,e);var t=Object(O.a)(n);function n(){var e;Object(u.a)(this,n);for(var a=arguments.length,r=new Array(a),s=0;s<a;s++)r[s]=arguments[s];return(e=t.call.apply(t,[this].concat(r))).onFinish=function(t){return e.props.userSignIn(t)},e}return Object(j.a)(n,[{key:"render",value:function(){var e=this.props.loading;return Object(b.jsxs)(o.a,{name:"login",className:"login-form",onFinish:this.onFinish,children:[Object(b.jsx)(o.a.Item,{name:"username",rules:[{required:!0,message:"Please input your Username!"}],children:Object(b.jsx)(d.a,{prefix:Object(b.jsx)(x.a,{className:"site-form-item-icon"}),placeholder:"Username"})}),Object(b.jsx)(o.a.Item,{name:"password",rules:[{required:!0,message:"Please input your Password!"}],children:Object(b.jsx)(d.a,{prefix:Object(b.jsx)(v.a,{className:"site-form-item-icon"}),type:"password",placeholder:"Password"})}),Object(b.jsx)(o.a.Item,{children:Object(b.jsx)(g.a,{to:"/forgot",style:{float:"right"},children:Object(b.jsx)(i.a.Link,{children:"Forgot password"})})}),Object(b.jsx)(o.a.Item,{children:Object(b.jsx)(r.a,{type:"primary",htmlType:"submit",className:"login-form-button",loading:!!e,block:!0,children:"Log in"})})]})}}]),n}(m.a.Component);t.default=Object(f.c)((function(e){var t=e.auth.status.loggedIn;return{loading:Object(y.isLoading)(e,_.LOG_IN),success:!!t}}),{userSignIn:S.userSignIn,onResetStatus:S.onResetStatus})(I)},414:function(e,t,n){"use strict";n.r(t);n(89);var a=n(45),r=n.n(a),s=(n(167),n(31)),i=n.n(s),c=(n(166),n(64)),o=n.n(c),l=n(35),d=n(36),u=n(38),j=n(37),p=n(2),O=n(0),b=n.n(O),h=n(40),m=n(510),f=n(437),g=n(292),x=n(230),v=n(42),y=n(113),S=n(5),_=function(e){Object(u.a)(n,e);var t=Object(j.a)(n);function n(e){var a;return Object(l.a)(this,n),(a=t.call(this,e)).onFinish=function(e){return a.props.userSignUp(e)},a.onReset=function(){return a.state.formRef.current.resetFields()},a.state={formRef:b.a.createRef()},a}return Object(d.a)(n,[{key:"componentDidUpdate",value:function(e,t,n){!e.success&&this.props.success&&(this.onReset(),this.props.onSuccess(),this.props.onResetStatus())}},{key:"render",value:function(){var e=this.props.loading,t=this.state.formRef;return Object(p.jsxs)(i.a,{name:"login",className:"login-form",onFinish:this.onFinish,ref:t,children:[Object(p.jsx)(i.a.Item,{name:"fullname",rules:[{required:!0,message:"Please input your Username!"}],children:Object(p.jsx)(o.a,{prefix:Object(p.jsx)(m.a,{className:"site-form-item-icon"}),placeholder:"Full name"})}),Object(p.jsx)(i.a.Item,{name:"email",rules:[{type:"email",message:"The input is not valid E-mail!"},{required:!0,message:"Please input your Email!"}],children:Object(p.jsx)(o.a,{prefix:Object(p.jsx)(f.a,{className:"site-form-item-icon"}),placeholder:"Email"})}),Object(p.jsx)(i.a.Item,{name:"username",rules:[{required:!0,message:"Please input your Username!"},{min:8,message:"Username must be at least 8 characters!"}],children:Object(p.jsx)(o.a,{prefix:Object(p.jsx)(g.a,{className:"site-form-item-icon"}),placeholder:"Username"})}),Object(p.jsx)(i.a.Item,{name:"password",hasFeedback:!0,rules:[{required:!0,message:"Please input your Password!"},{min:8,message:"Password must be at least 8 characters!"}],children:Object(p.jsx)(o.a.Password,{prefix:Object(p.jsx)(x.a,{className:"site-form-item-icon"}),type:"password",placeholder:"Password"})}),Object(p.jsx)(i.a.Item,{name:"confirmPassword",dependencies:["password"],hasFeedback:!0,rules:[{required:!0,message:"Please input your Password again!"},function(e){var t=e.getFieldValue;return{validator:function(e,n){return n&&t("password")!==n?Promise.reject("The two passwords that you entered do not match!"):Promise.resolve()}}}],children:Object(p.jsx)(o.a.Password,{prefix:Object(p.jsx)(x.a,{className:"site-form-item-icon"}),type:"password",placeholder:"Confirm Password"})}),Object(p.jsx)(i.a.Item,{children:Object(p.jsx)(r.a,{type:"primary",htmlType:"submit",className:"login-form-button",loading:!!e,block:!0,children:"Sign up"})})]})}}]),n}(b.a.Component);t.default=Object(h.c)((function(e){var t=e.auth.status.signedUp;return{loading:Object(v.isLoading)(e,S.SIGN_UP),success:!!t}}),{userSignUp:y.userSignUp,onResetStatus:y.onResetStatus})(_)},415:function(e,t,n){"use strict";n.r(t);n(120);var a=n(53),r=n.n(a),s=(n(89),n(45)),i=n.n(s),c=(n(82),n(19)),o=n.n(c),l=(n(167),n(31)),d=n.n(l),u=(n(166),n(64)),j=n.n(u),p=(n(100),n(52)),O=n.n(p),b=(n(102),n(34)),h=n.n(b),m=n(35),f=n(36),g=n(38),x=n(37),v=n(2),y=n(0),S=n.n(y),_=n(40),I=n(84),T=n(292),E=n(437),A=n(42),C=n(113),k=n(5),R=function(e){Object(g.a)(n,e);var t=Object(x.a)(n);function n(){var e;Object(m.a)(this,n);for(var a=arguments.length,r=new Array(a),s=0;s<a;s++)r[s]=arguments[s];return(e=t.call.apply(t,[this].concat(r))).onFinish=function(t){return e.props.userForgot(t)},e}return Object(f.a)(n,[{key:"componentDidUpdate",value:function(e,t,n){!e.success&&this.props.success&&this.props.onResetStatus()}},{key:"render",value:function(){var e=this.props.loading;return Object(v.jsx)(O.a,{type:"flex",justify:"center",align:"middle",style:{minHeight:"100vh",backgroundImage:"url(/background.png)"},children:Object(v.jsx)(h.a,{children:Object(v.jsxs)(r.a,{style:{width:400},children:[Object(v.jsx)(O.a,{type:"flex",justify:"center",children:Object(v.jsx)(h.a,{children:Object(v.jsx)("img",{src:"/logo-mysights.png",alt:"logo mysights",style:{maxWidth:"150px",marginBottom:"10px"}})})}),Object(v.jsxs)(d.a,{name:"forgot",className:"forgot-form",onFinish:this.onFinish,style:{marginTop:48},children:[Object(v.jsx)(d.a.Item,{name:"username",rules:[{required:!0,message:"Please input your Username!"}],children:Object(v.jsx)(j.a,{prefix:Object(v.jsx)(T.a,{className:"site-form-item-icon"}),placeholder:"Username"})}),Object(v.jsx)(d.a.Item,{name:"email",rules:[{type:"email",message:"The input is not valid E-mail!"},{required:!0,message:"Please input your Email!"}],children:Object(v.jsx)(j.a,{prefix:Object(v.jsx)(E.a,{className:"site-form-item-icon"}),placeholder:"Email"})}),Object(v.jsx)(d.a.Item,{children:Object(v.jsx)(I.a,{to:"/login",style:{float:"right"},children:Object(v.jsx)(o.a.Link,{children:"Login"})})}),Object(v.jsx)(d.a.Item,{children:Object(v.jsx)(i.a,{type:"primary",htmlType:"submit",className:"forgot-form-button",loading:!!e,block:!0,children:"Submit"})})]})]})})})}}]),n}(S.a.Component);t.default=Object(_.c)((function(e){var t=e.auth.status.forgot;return{loading:Object(A.isLoading)(e,k.FORGOT),success:!!t}}),{userForgot:C.userForgot,onResetStatus:C.onResetStatus})(R)},416:function(e,t,n){"use strict";n.r(t);n(100);var a=n(52),r=n.n(a),s=(n(102),n(34)),i=n.n(s),c=(n(120),n(53)),o=n.n(c),l=(n(107),n(57)),d=n.n(l),u=(n(346),n(194)),j=n.n(u),p=(n(89),n(45)),O=n.n(p),b=n(35),h=n(36),m=n(38),f=n(37),g=n(2),x=n(0),v=n.n(x),y=n(40),S=n(84),_=n(42),I=n(5),T=n(277),E=function(e){Object(m.a)(n,e);var t=Object(f.a)(n);function n(){return Object(b.a)(this,n),t.apply(this,arguments)}return Object(h.a)(n,[{key:"componentDidMount",value:function(){var e=new URLSearchParams(this.props.location.search);e.get("token")&&this.props.verifyEmail(e.get("token"))}},{key:"render",value:function(){var e=this.props,t=e.loading,n=e.email;return Object(g.jsx)(r.a,{type:"flex",justify:"center",align:"middle",style:{minHeight:"100vh",backgroundImage:"url(/background.png)"},children:Object(g.jsx)(i.a,{children:Object(g.jsx)(o.a,{style:{width:400,minHeight:360},children:Object(g.jsx)(d.a,{spinning:t,children:t?Object(g.jsx)("div",{style:{minHeight:300}}):Object(g.jsx)(g.Fragment,{children:n?Object(g.jsx)(j.a,{status:"success",title:"Success",subTitle:"Mail verification success!",extra:[Object(g.jsx)(S.a,{to:"/",children:Object(g.jsx)(O.a,{type:"primary",children:"Go Home"},"console")})]}):Object(g.jsx)(j.a,{status:"error",title:"Invalid Token",subTitle:"Mail verification failed!",extra:[Object(g.jsx)(S.a,{to:"/",children:Object(g.jsx)(O.a,{type:"primary",children:"Go Home"},"console")})]})})})})})})}}]),n}(v.a.Component);t.default=Object(y.c)((function(e){return{email:e.verification.status.email,loading:Object(_.isLoading)(e,I.VERIFY_EMAIL)}}),{verifyEmail:T.verifyEmail})(E)},417:function(e,t,n){"use strict";n.r(t);n(120);var a=n(53),r=n.n(a),s=(n(107),n(57)),i=n.n(s),c=(n(346),n(194)),o=n.n(c),l=(n(91),n(32)),d=n.n(l),u=(n(89),n(45)),j=n.n(u),p=(n(167),n(31)),O=n.n(p),b=(n(166),n(64)),h=n.n(b),m=(n(331),n(81)),f=n.n(m),g=(n(82),n(19)),x=n.n(g),v=(n(100),n(52)),y=n.n(v),S=(n(102),n(34)),_=n.n(S),I=n(35),T=n(36),E=n(38),A=n(37),C=n(2),k=n(0),R=n.n(k),U=n(40),N=n(84),P=n(230),w=n(42),D=n(5),G=n(277),L=n(113),M=function(e){Object(E.a)(n,e);var t=Object(A.a)(n);function n(){var e;Object(I.a)(this,n);for(var a=arguments.length,r=new Array(a),s=0;s<a;s++)r[s]=arguments[s];return(e=t.call.apply(t,[this].concat(r))).onFinish=function(t){var n=t.password,a=new URLSearchParams(e.props.location.search);e.props.verifyPassword(a.get("token"),n)},e}return Object(T.a)(n,[{key:"componentDidMount",value:function(){var e=new URLSearchParams(this.props.location.search);e.get("token")&&this.props.getForgotUser(e.get("token"))}},{key:"render",value:function(){var e=this.props,t=e.loading,n=e.user,a=e.password;return Object(C.jsx)(y.a,{type:"flex",justify:"center",align:"middle",style:{minHeight:"100vh",backgroundImage:"url(/background.png)"},children:Object(C.jsx)(_.a,{children:Object(C.jsx)(r.a,{style:{width:400,minHeight:360},children:Object(C.jsx)(i.a,{spinning:t.get,children:t.get?Object(C.jsx)("div",{style:{minHeight:300}}):Object(C.jsx)(C.Fragment,{children:n?Object(C.jsx)(C.Fragment,{children:a?Object(C.jsx)(o.a,{status:"success",title:"Success",subTitle:"Mail verification success!",extra:[Object(C.jsx)(N.a,{to:"/",children:Object(C.jsx)(j.a,{type:"primary",children:"Go Home"},"console")})]}):Object(C.jsxs)(d.a,{direction:"vertical",style:{width:"100%"},children:[Object(C.jsx)(y.a,{type:"flex",justify:"center",children:Object(C.jsx)(_.a,{children:Object(C.jsx)("img",{src:"/logo-mysights.png",alt:"logo mysights",style:{maxWidth:"150px",marginBottom:"10px"}})})}),Object(C.jsxs)(f.a,{column:1,bordered:!0,children:[Object(C.jsx)(f.a.Item,{label:Object(C.jsx)(x.a.Text,{strong:!0,children:"Fullname"}),children:n.fullname}),Object(C.jsx)(f.a.Item,{label:Object(C.jsx)(x.a.Text,{strong:!0,children:"Username"}),children:n.username}),Object(C.jsx)(f.a.Item,{label:Object(C.jsx)(x.a.Text,{strong:!0,children:"Email"}),children:n.email})]}),Object(C.jsxs)(O.a,{name:"forgot",className:"forgot-form",onFinish:this.onFinish,children:[Object(C.jsx)(O.a.Item,{name:"password",hasFeedback:!0,rules:[{required:!0,message:"Please input your Password!"},{min:8,message:"Password must be at least 8 characters!"}],children:Object(C.jsx)(h.a.Password,{prefix:Object(C.jsx)(P.a,{className:"site-form-item-icon"}),type:"password",placeholder:"New Password"})}),Object(C.jsx)(O.a.Item,{name:"confirmPassword",dependencies:["password"],hasFeedback:!0,rules:[{required:!0,message:"Please input your Password again!"},function(e){var t=e.getFieldValue;return{validator:function(e,n){return n&&t("password")!==n?Promise.reject("The two passwords that you entered do not match!"):Promise.resolve()}}}],children:Object(C.jsx)(h.a.Password,{prefix:Object(C.jsx)(P.a,{className:"site-form-item-icon"}),type:"password",placeholder:"Confirm Password"})}),Object(C.jsx)(O.a.Item,{children:Object(C.jsx)(j.a,{type:"primary",htmlType:"submit",className:"forgot-form-button",loading:t.submit,block:!0,children:"Submit"})})]})]})}):Object(C.jsx)(o.a,{status:"error",title:"Invalid Token",subTitle:"Password verification failed!",extra:[Object(C.jsx)(N.a,{to:"/",children:Object(C.jsx)(j.a,{type:"primary",children:"Go Home"},"console")})]})})})})})})}}]),n}(R.a.Component);t.default=Object(U.c)((function(e){return{user:e.user.user,password:e.verification.status.password,loading:{get:Object(w.isLoading)(e,D.GET_SINGLE_USER),submit:Object(w.isLoading)(e,D.VERIFY_PASSWORD)}}}),{getForgotUser:L.getForgotUser,verifyPassword:G.verifyPassword})(M)},42:function(e,t,n){"use strict";n.r(t),n.d(t,"isLoading",(function(){return a})),n.d(t,"isAllowed",(function(){return r}));var a=function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),a=1;a<t;a++)n[a-1]=arguments[a];return e.ui.loader.actions.some((function(e){return n.includes(e.name)}))},r=function(e){return function(){for(var t=arguments.length,n=new Array(t),a=0;a<t;a++)n[a]=arguments[a];return e.auth.menu.some((function(e){return n.includes(e)}))}}},441:function(e,t,n){"use strict";n.r(t),n.d(t,"store",(function(){return b}));var a=n(35),r=n(36),s=n(38),i=n(37),c=n(2),o=n(0),l=n.n(o),d=n(315),u=n(40),j=n(47),p=(n(520),n(233)),O=n(363),b=Object(p.default)(),h=function(e){Object(s.a)(n,e);var t=Object(i.a)(n);function n(){return Object(a.a)(this,n),t.apply(this,arguments)}return Object(r.a)(n,[{key:"render",value:function(){return Object(c.jsx)(u.a,{store:b,children:Object(c.jsx)(d.a,{history:p.history,children:Object(c.jsx)(j.d,{children:Object(c.jsx)(j.b,{path:"/",component:O.default})})})})}}]),n}(l.a.Component);t.default=h},476:function(e){e.exports=JSON.parse('{"deliveries":[{"customer_id":"Delivery Point 1","delivery_id":261,"delivery_date":"2020-09-02","weight_total":1.05995,"volume_total":0,"latitude":-6.8964253,"longitude":107.5989129,"open":"08:00","close":"17:00","vehicle_type":["double","L300"]},{"customer_id":"Delivery Point 2","delivery_id":262,"delivery_date":"2020-09-02","weight_total":0.0347,"volume_total":0,"latitude":-6.9041434,"longitude":107.606694,"open":"08:00","close":"17:00","vehicle_type":["double","L300"]}],"vehicles":[{"id":"D 9184 AG","type":"double","supir":"Driver Here","kenek":"Co-driver here","volume":0,"weight":1.5},{"id":"D 9815 AE","type":"L300","supir":"Kiki","kenek":"Karsid","volume":0,"weight":1.5}],"depot":{"depot_id":"Delivery Central","latitude":-6.409451,"longitude":107.440277,"open":"","close":""}}')},477:function(e){e.exports=JSON.parse('{"status_code":1,"message":"feasible solution is found.","data":{"pool_id":"Delivery Central","detail":[{"SJ_id":"SJ20200902000","date":"2020-09-02","vehicle_id":"D 9184 AG","distance":115551,"duration":405,"weight":1.09465,"trip":[{"delivery_id":"262","customer_id":"Delivery Point 2","sequence":1},{"delivery_id":"261","customer_id":"Delivery Point 1","sequence":2}]}]}}')},483:function(e,t,n){"use strict";n.r(t),t.default=n.p+"static/media/RollBanner_Introduction.22ae84db.png"},5:function(e,t,n){"use strict";n.r(t),n.d(t,"SHOW_MESSAGE",(function(){return a})),n.d(t,"HIDE_MESSAGE",(function(){return r})),n.d(t,"UI_START_ACTION",(function(){return s})),n.d(t,"UI_STOP_ACTION",(function(){return i})),n.d(t,"NOTIFICATION_INFO",(function(){return c})),n.d(t,"NOTIFICATION_SUCCESS",(function(){return o})),n.d(t,"NOTIFICATION_WARNING",(function(){return l})),n.d(t,"NOTIFICATION_ERROR",(function(){return d})),n.d(t,"RESET_STATUS",(function(){return u})),n.d(t,"RESET_DATA_STATE",(function(){return j})),n.d(t,"MENU_MAIN_FEATURE",(function(){return p})),n.d(t,"MENU_SUBSCRIPTION",(function(){return O})),n.d(t,"MENU_API_KEY",(function(){return b})),n.d(t,"MENU_USAGE",(function(){return h})),n.d(t,"MENU_SERVICE_USAGE",(function(){return m})),n.d(t,"MENU_SERVICE",(function(){return f})),n.d(t,"MENU_ACCESS_LOG",(function(){return g})),n.d(t,"SWITCH_LANGUAGE",(function(){return x})),n.d(t,"TOGGLE_COLLAPSED_NAV",(function(){return v})),n.d(t,"TOGGLE_SETTING",(function(){return y})),n.d(t,"LOG_IN",(function(){return S})),n.d(t,"SIGN_UP",(function(){return _})),n.d(t,"LOG_OUT",(function(){return I})),n.d(t,"FORGOT",(function(){return T})),n.d(t,"INIT_URL",(function(){return E})),n.d(t,"USER_DATA",(function(){return A})),n.d(t,"USER_TOKEN_SET",(function(){return C})),n.d(t,"VERIFY_EMAIL",(function(){return k})),n.d(t,"VERIFY_PASSWORD",(function(){return R})),n.d(t,"GET_ALL_SERVICE",(function(){return U})),n.d(t,"GET_ONE_SERVICE",(function(){return N})),n.d(t,"GET_SUBSCRIBED_SERVICE",(function(){return P})),n.d(t,"ADD_SERVICE_GROUP",(function(){return w})),n.d(t,"EDIT_SERVICE_GROUP",(function(){return D})),n.d(t,"ADD_SERVICE",(function(){return G})),n.d(t,"EDIT_SERVICE",(function(){return L})),n.d(t,"GET_SUBSCRIPTION",(function(){return M})),n.d(t,"GET_ONE_SUBSCRIPTION",(function(){return F})),n.d(t,"ADD_SUBSCRIPTION",(function(){return B})),n.d(t,"EDIT_SUBSCRIPTION",(function(){return Y})),n.d(t,"GET_SUBSCRIPTION_SUMMARY",(function(){return V})),n.d(t,"GET_SUBSCRIPTION_ADD_ONS",(function(){return q})),n.d(t,"GET_SUBSCRIPTION_TIMELINE",(function(){return H})),n.d(t,"GET_SUBSCRIPTION_DAILY_USAGE",(function(){return K})),n.d(t,"GET_SUBSCRIPTION_QUOTA",(function(){return W})),n.d(t,"GET_ADD_ON",(function(){return z})),n.d(t,"ADD_ADD_ON",(function(){return Q})),n.d(t,"EDIT_ADD_ON",(function(){return J})),n.d(t,"GET_PACKAGE",(function(){return X})),n.d(t,"GET_ONE_PACKAGE",(function(){return Z})),n.d(t,"ADD_PACKAGE",(function(){return $})),n.d(t,"EDIT_PACKAGE",(function(){return ee})),n.d(t,"GET_USER",(function(){return te})),n.d(t,"GET_SINGLE_USER",(function(){return ne})),n.d(t,"EDIT_USER",(function(){return ae})),n.d(t,"GET_API_KEY",(function(){return re})),n.d(t,"ADD_API_KEY",(function(){return se})),n.d(t,"GET_USAGE",(function(){return ie})),n.d(t,"GET_ACCESS_LOG",(function(){return ce}));var a="show-message",r="hide-message",s="ui-start-action",i="ui-stop-action",c="info",o="success",l="warning",d="error",u="reset-status",j="reset-data-state",p="main-feature",O="subscription",b="api-key",h="usage",m="service-usage",f="service-management",g="access-log",x="switch-language",v="toggle-collapsed-nav",y="toggle-setting",S="log-in",_="sign-up",I="log-out",T="forgot",E="init-url",A="user-data",C="user-token-set",k="verify-email",R="verify-password",U="get-all-service",N="get-one-service",P="get-subscribed-service",w="add-service-group",D="edit-service-group",G="add-service",L="edit-service",M="get-subscription",F="get-one-subscription",B="add-subscription",Y="edit-subscription",V="get-subscription-summary",q="get-subscription-add-ons",H="get-subscription-timeline",K="get-subscription-daily-usage",W="get-subscription-quota",z="get-add-on",Q="add-add-on",J="edit-add-on",X="get-package",Z="get-one-package",$="add-package",ee="edit-package",te="get-user",ne="get-single-user",ae="edit-user",re="get-api-key",se="add-api-key",ie="get-usage",ce="get-access-log"},519:function(e,t,n){},520:function(e,t,n){},530:function(e,t,n){},55:function(e,t,n){"use strict";n.r(t);var a=n(627),r=n.n(a).a.create({baseURL:"https://api.portal.mysights.id/api/",headers:{"Content-Type":"application/json"}});r.interceptors.response.use((function(e){return e}),(function(e){return e.response||(e.request?console.log("Error****: Network error!"):console.log("Error****:",e.message)),Promise.reject(e)})),t.default=r},550:function(e,t,n){},605:function(e,t,n){},606:function(e,t,n){},608:function(e,t,n){},609:function(e,t,n){},610:function(e,t,n){},625:function(e,t){},658:function(e,t){},664:function(e,t){},74:function(e,t,n){"use strict";n.r(t),n.d(t,"onResetStatus",(function(){return r})),n.d(t,"onResetDataState",(function(){return s}));var a=n(5),r=function(){return function(e){e({type:a.RESET_STATUS})}},s=function(){return function(e){e({type:a.RESET_DATA_STATE})}}}},[[323,1,3]]]);
//# sourceMappingURL=main.5461bad5.chunk.js.map